import{a as Ao,b as cp,c as Da,d as Vl,g as Ta,h as lp,i as ww}from"./chunk-ZLCAYCYP.js";import{a as ee,b as np,c as rp,d as ip,e as op,f as sp,g as Nl,h as Ol}from"./chunk-SNVLB7FR.js";import{a as ir,b as Fe,c as Vr,d as un,e as lw,f as z,g as Le,h as uw,i as dw,j as pe,k as wa,l as Ve}from"./chunk-NH7O73XC.js";import{a as Ll,d as yw,e as Iw}from"./chunk-LYYJ2XOB.js";import{a as bw}from"./chunk-4U6PRYVA.js";import{a as dn,b as Ei,c as mw,d as jr,e as Pl,f as gw,g as et,h as or,i as ep,j as Pn,k as Ca,m as tp}from"./chunk-4EC74IQP.js";import{a as ap,b as vw,c as Fl}from"./chunk-JWIEPCRG.js";import{a as Ze,b as hw,c as fw,d as pw,e as Ut,f as _a}from"./chunk-C5RQ2IC2.js";import{a as up}from"./chunk-D4VGNZLR.js";import{a as _w}from"./chunk-JHLW7V75.js";import{a as Ea,b as Jt}from"./chunk-SV7S5NYR.js";import{a as j,b as ye,d as cw,e as k,f as _}from"./chunk-RW4GY4BD.js";function Ew(t,e){return Object.is(t,e)}var Xe=null,jl=!1,fp=1,Nn=Symbol("SIGNAL");function _e(t){let e=Xe;return Xe=t,e}function pp(){return Xe}var Bl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ul(t){if(jl)throw new Error("");if(Xe===null)return;Xe.consumerOnSignalRead(t);let e=Xe.nextProducerIndex++;if(zl(Xe),e<Xe.producerNode.length&&Xe.producerNode[e]!==t&&Sa(Xe)){let n=Xe.producerNode[e];$l(n,Xe.producerIndexOfThis[e])}Xe.producerNode[e]!==t&&(Xe.producerNode[e]=t,Xe.producerIndexOfThis[e]=Sa(Xe)?Sw(t,Xe,e):0),Xe.producerLastReadVersion[e]=t.version}function Cw(){fp++}function Dw(t){if(!(Sa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===fp)){if(!t.producerMustRecompute(t)&&!yp(t)){hp(t);return}t.producerRecomputeValue(t),hp(t)}}function mp(t){if(t.liveConsumerNode===void 0)return;let e=jl;jl=!0;try{for(let n of t.liveConsumerNode)n.dirty||wM(n)}finally{jl=e}}function gp(){return(Xe==null?void 0:Xe.consumerAllowSignalWrites)!==!1}function wM(t){var e;t.dirty=!0,mp(t),(e=t.consumerMarkedDirty)==null||e.call(t,t)}function hp(t){t.dirty=!1,t.lastCleanEpoch=fp}function vp(t){return t&&(t.nextProducerIndex=0),_e(t)}function Tw(t,e){if(_e(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Sa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$l(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function yp(t){zl(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Dw(n),r!==n.version))return!0}return!1}function Ip(t){if(zl(t),Sa(t))for(let e=0;e<t.producerNode.length;e++)$l(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Sw(t,e,n){if(Aw(t),t.liveConsumerNode.length===0&&xw(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Sw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function $l(t,e){if(Aw(t),t.liveConsumerNode.length===1&&xw(t))for(let r=0;r<t.producerNode.length;r++)$l(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];zl(i),i.producerIndexOfThis[r]=e}}function Sa(t){var e,n;return t.consumerIsAlwaysLive||((n=(e=t==null?void 0:t.liveConsumerNode)==null?void 0:e.length)!=null?n:0)>0}function zl(t){var e,n,r;(e=t.producerNode)!=null||(t.producerNode=[]),(n=t.producerIndexOfThis)!=null||(t.producerIndexOfThis=[]),(r=t.producerLastReadVersion)!=null||(t.producerLastReadVersion=[])}function Aw(t){var e,n;(e=t.liveConsumerNode)!=null||(t.liveConsumerNode=[]),(n=t.liveConsumerIndexOfThis)!=null||(t.liveConsumerIndexOfThis=[])}function xw(t){return t.producerNode!==void 0}function _M(){throw new Error}var kw=_M;function Rw(t){kw(t)}function bp(t){kw=t}var dp=null;function wp(t,e){let n=Object.create(Hl);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(Ul(n),n.value);return r[Nn]=n,r}function Aa(t,e){gp()||Rw(t),t.equal(t.value,e)||(t.value=e,EM(t))}function _p(t,e){gp()||Rw(t),Aa(t,e(t.value))}var Hl=ye(j({},Bl),{equal:Ew,value:void 0,kind:"signal"});function EM(t){t.version++,Cw(),mp(t),dp==null||dp()}var Ep;function xa(){return Ep}function sr(t){let e=Ep;return Ep=t,e}var ql=Symbol("NotFound");function Q(t){return typeof t=="function"}function xo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Gl=xo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ci(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){e=o instanceof Gl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Mw(o)}catch(s){e=e!=null?e:[],s instanceof Gl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Gl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Mw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ci(n,e)}remove(e){let{_finalizers:n}=this;n&&Ci(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var Cp=qe.EMPTY;function Wl(t){return t instanceof qe||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function Mw(t){Q(t)?t():t.unsubscribe()}var hn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ko={setTimeout(t,e,...n){let{delegate:r}=ko;return r!=null&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ko;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Kl(t){ko.setTimeout(()=>{let{onUnhandledError:e}=hn;if(e)e(t);else throw t})}function ka(){}var Pw=Dp("C",void 0,void 0);function Nw(t){return Dp("E",void 0,t)}function Ow(t){return Dp("N",t,void 0)}function Dp(t,e,n){return{kind:t,value:e,error:n}}var Di=null;function Ro(t){if(hn.useDeprecatedSynchronousErrorHandling){let e=!Di;if(e&&(Di={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Di;if(Di=null,n)throw r}}else t()}function Fw(t){hn.useDeprecatedSynchronousErrorHandling&&Di&&(Di.errorThrown=!0,Di.error=t)}var Ti=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Wl(e)&&e.add(this)):this.destination=RM}static create(e,n,r){return new Mo(e,n,r)}next(e){this.isStopped?Sp(Ow(e),this):this._next(e)}error(e){this.isStopped?Sp(Nw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Sp(Pw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},xM=Function.prototype.bind;function Tp(t,e){return xM.call(t,e)}var Ap=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Yl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Yl(r)}else Yl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Yl(n)}}},Mo=class extends Ti{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e!=null?e:void 0,error:n!=null?n:void 0,complete:r!=null?r:void 0};else{let o;this&&hn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Tp(e.next,o),error:e.error&&Tp(e.error,o),complete:e.complete&&Tp(e.complete,o)}):i=e}this.destination=new Ap(i)}};function Yl(t){hn.useDeprecatedSynchronousErrorHandling?Fw(t):Kl(t)}function kM(t){throw t}function Sp(t,e){let{onStoppedNotification:n}=hn;n&&ko.setTimeout(()=>n(t,e))}var RM={closed:!0,next:ka,error:kM,complete:ka};var Po=typeof Symbol=="function"&&Symbol.observable||"@@observable";function $t(t){return t}function Ql(...t){return xp(t)}function xp(t){return t.length===0?$t:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=PM(n)?n:new Mo(n,r,i);return Ro(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Lw(r),new r((i,o)=>{let s=new Mo({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Po](){return this}pipe(...n){return xp(n)(this)}toPromise(n){return n=Lw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Lw(t){var e;return(e=t!=null?t:hn.Promise)!==null&&e!==void 0?e:Promise}function MM(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function PM(t){return t&&t instanceof Ti||MM(t)&&Wl(t)}function kp(t){return Q(t==null?void 0:t.lift)}function me(t){return e=>{if(kp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(t,e,n,r,i){return new Rp(t,e,n,r,i)}var Rp=class extends Ti{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function No(){return me((t,e)=>{let n=null;t._refCount++;let r=ge(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Oo=class extends ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,kp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e==null||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(ge(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return No()(this)}};var Vw=xo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var at=(()=>{class t extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Zl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Vw}next(n){Ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ro(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Cp:(this.currentObservers=null,o.push(n),new qe(()=>{this.currentObservers=null,Ci(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return t.create=(e,n)=>new Zl(e,n),t})(),Zl=class extends at{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Cp}};var lt=class extends at{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Mp={now(){return(Mp.delegate||Date).now()},delegate:void 0};var Xl=class extends qe{constructor(e,n){super()}schedule(e,n=0){return this}};var Ra={setInterval(t,e,...n){let{delegate:r}=Ra;return r!=null&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ra;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};var Fo=class extends Xl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ra.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ra.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ci(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Lo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Lo.now=Mp.now;var Vo=class extends Lo{constructor(e,n=Lo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Pp=new Vo(Fo);var Jl=class extends Fo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var eu=class extends Vo{};var Np=new eu(Jl);var Nt=new ce(t=>t.complete());function jw(t){return t&&Q(t.schedule)}function Bw(t){return t[t.length-1]}function Uw(t){return Q(Bw(t))?t.pop():void 0}function Br(t){return jw(Bw(t))?t.pop():void 0}function Op(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ur(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function zw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{u(r.next(h))}catch(f){s(f)}}function l(h){try{u(r.throw(h))}catch(f){s(f)}}function u(h){h.done?o(h.value):i(h.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function $w(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Si(t){return this instanceof Si?(this.v=t,this):new Si(t)}function Hw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(C){return Promise.resolve(C).then(m,f)}}function a(m,C){r[m]&&(i[m]=function(D){return new Promise(function(S,M){o.push([m,D,S,M])>1||l(m,D)})},C&&(i[m]=C(i[m])))}function l(m,C){try{u(r[m](C))}catch(D){v(o[0][3],D)}}function u(m){m.value instanceof Si?Promise.resolve(m.value.v).then(h,f):v(o[0][2],m)}function h(m){l("next",m)}function f(m){l("throw",m)}function v(m,C){m(C),o.shift(),o.length&&l(o[0][0],o[0][1])}}function qw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $w=="function"?$w(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var jo=t=>t&&typeof t.length=="number"&&typeof t!="function";function tu(t){return Q(t==null?void 0:t.then)}function nu(t){return Q(t[Po])}function ru(t){return Symbol.asyncIterator&&Q(t==null?void 0:t[Symbol.asyncIterator])}function iu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function NM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ou=NM();function su(t){return Q(t==null?void 0:t[ou])}function au(t){return Hw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Si(n.read());if(i)return yield Si(void 0);yield yield Si(r)}}finally{n.releaseLock()}})}function cu(t){return Q(t==null?void 0:t.getReader)}function tt(t){if(t instanceof ce)return t;if(t!=null){if(nu(t))return OM(t);if(jo(t))return FM(t);if(tu(t))return LM(t);if(ru(t))return Gw(t);if(su(t))return VM(t);if(cu(t))return jM(t)}throw iu(t)}function OM(t){return new ce(e=>{let n=t[Po]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function FM(t){return new ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function LM(t){return new ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Kl)})}function VM(t){return new ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Gw(t){return new ce(e=>{BM(t,e).catch(n=>e.error(n))})}function jM(t){return Gw(au(t))}function BM(t,e){var n,r,i,o;return zw(this,void 0,void 0,function*(){try{for(n=qw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ot(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function $r(t,e=0){return me((n,r)=>{n.subscribe(ge(r,i=>Ot(r,t,()=>r.next(i),e),()=>Ot(r,t,()=>r.complete(),e),i=>Ot(r,t,()=>r.error(i),e)))})}function zr(t,e=0){return me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ww(t,e){return tt(t).pipe(zr(e),$r(e))}function Kw(t,e){return tt(t).pipe(zr(e),$r(e))}function Yw(t,e){return new ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Qw(t,e){return new ce(n=>{let r;return Ot(n,e,()=>{r=t[ou](),Ot(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Q(r==null?void 0:r.return)&&r.return()})}function lu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(n=>{Ot(n,e,()=>{let r=t[Symbol.asyncIterator]();Ot(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Zw(t,e){return lu(au(t),e)}function Xw(t,e){if(t!=null){if(nu(t))return Ww(t,e);if(jo(t))return Yw(t,e);if(tu(t))return Kw(t,e);if(ru(t))return lu(t,e);if(su(t))return Qw(t,e);if(cu(t))return Zw(t,e)}throw iu(t)}function Be(t,e){return e?Xw(t,e):tt(t)}function Z(...t){let e=Br(t);return Be(t,e)}function Bo(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new ce(e?i=>e.schedule(r,0,i):r)}function Fp(t){return!!t&&(t instanceof ce||Q(t.lift)&&Q(t.subscribe))}var ar=xo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return me((n,r)=>{let i=0;n.subscribe(ge(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:UM}=Array;function $M(t,e){return UM(e)?t(...e):t(e)}function uu(t){return le(e=>$M(t,e))}var{isArray:zM}=Array,{getPrototypeOf:HM,prototype:qM,keys:GM}=Object;function Jw(t){if(t.length===1){let e=t[0];if(zM(e))return{args:e,keys:null};if(WM(e)){let n=GM(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function WM(t){return t&&typeof t=="object"&&HM(t)===qM}function e_(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ai(...t){let e=Br(t),n=Uw(t),{args:r,keys:i}=Jw(t);if(r.length===0)return Be([],e);let o=new ce(KM(r,e,i?s=>e_(i,s):$t));return n?o.pipe(uu(n)):o}function KM(t,e,n=$t){return r=>{t_(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)t_(e,()=>{let u=Be(t[l],e),h=!1;u.subscribe(ge(r,f=>{o[l]=f,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function t_(t,e,n){t?Ot(n,t,e):e()}function n_(t,e,n,r,i,o,s,a){let l=[],u=0,h=0,f=!1,v=()=>{f&&!l.length&&!u&&e.complete()},m=D=>u<r?C(D):l.push(D),C=D=>{o&&e.next(D),u++;let S=!1;tt(n(D,h++)).subscribe(ge(e,M=>{i==null||i(M),o?m(M):e.next(M)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;l.length&&u<r;){let M=l.shift();s?Ot(e,s,()=>C(M)):C(M)}v()}catch(M){e.error(M)}}))};return t.subscribe(ge(e,m,()=>{f=!0,v()})),()=>{a==null||a()}}function Ue(t,e,n=1/0){return Q(e)?Ue((r,i)=>le((o,s)=>e(r,o,i,s))(tt(t(r,i))),n):(typeof e=="number"&&(n=e),me((r,i)=>n_(r,i,t,n)))}function Uo(t=1/0){return Ue($t,t)}function r_(){return Uo(1)}function $o(...t){return r_()(Be(t,Br(t)))}function du(t){return new ce(e=>{tt(t()).subscribe(e)})}var YM=["addListener","removeListener"],QM=["addEventListener","removeEventListener"],ZM=["on","off"];function zo(t,e,n,r){if(Q(n)&&(r=n,n=void 0),r)return zo(t,e,n).pipe(uu(r));let[i,o]=eP(t)?QM.map(s=>a=>t[s](e,a,n)):XM(t)?YM.map(i_(t,e)):JM(t)?ZM.map(i_(t,e)):[];if(!i&&jo(t))return Ue(s=>zo(s,e,n))(tt(t));if(!i)throw new TypeError("Invalid event target");return new ce(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return i(a),()=>o(a)})}function i_(t,e){return n=>r=>t[n](e,r)}function XM(t){return Q(t.addListener)&&Q(t.removeListener)}function JM(t){return Q(t.on)&&Q(t.off)}function eP(t){return Q(t.addEventListener)&&Q(t.removeEventListener)}function Rt(t,e){return me((n,r)=>{let i=0;n.subscribe(ge(r,o=>t.call(e,o,i++)&&r.next(o)))})}function On(t){return me((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ge(n,void 0,void 0,s=>{o=tt(t(s,On(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function o_(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(ge(s,h=>{let f=u++;l=a?t(l,h,f):(a=!0,h),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Hr(t,e){return Q(e)?Ue(t,e,1):Ue(t,1)}function qr(t){return me((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function cr(t){return t<=0?()=>Nt:me((e,n)=>{let r=0;e.subscribe(ge(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function hu(t=tP){return me((e,n)=>{let r=!1;e.subscribe(ge(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tP(){return new ar}function Ma(t){return me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function lr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,o)=>t(i,o,r)):$t,cr(1),n?qr(e):hu(()=>new ar))}function Ho(t){return t<=0?()=>Nt:me((e,n)=>{let r=[];e.subscribe(ge(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Lp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Rt((i,o)=>t(i,o,r)):$t,Ho(1),n?qr(e):hu(()=>new ar))}function fu(t,e){return me(o_(t,e,arguments.length>=2,!0))}function pu(...t){let e=Br(t);return me((n,r)=>{(e?$o(t,n,e):$o(t,n)).subscribe(r)})}function Ft(t,e){return me((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ge(r,l=>{i==null||i.unsubscribe();let u=0,h=o++;tt(t(l,h)).subscribe(i=ge(r,f=>r.next(e?e(l,f,h,u++):f),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Vp(t){return me((e,n)=>{tt(t).subscribe(ge(n,()=>n.complete(),ka)),!n.closed&&e.subscribe(n)})}function mt(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ge(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):$t}var W=class extends Error{code;constructor(e,n){super(B_(e,n)),this.code=e}};function nP(t){return`NG0${Math.abs(t)}`}function B_(t,e){return`${nP(t)}${e?": "+e:""}`}var U_=Symbol("InputSignalNode#UNSET"),rP=ye(j({},Hl),{transformFn:void 0,applyValueToInputSignal(t,e){Aa(t,e)}});function $_(t,e){let n=Object.create(rP);n.value=t,n.transformFn=e==null?void 0:e.transform;function r(){if(Ul(n),n.value===U_){let o=null;throw new W(-950,o)}return n.value}return r[Nn]=n,r}function Ga(t){return{toString:t}.toString()}var mu="__parameters__";function iP(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function oP(t,e,n){return Ga(()=>{let r=iP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,h){let f=l.hasOwnProperty(mu)?l[mu]:Object.defineProperty(l,mu,{value:[]})[mu];for(;f.length<=h;)f.push(null);return(f[h]=f[h]||[]).push(s),l}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function xe(t){for(let e in t)if(t[e]===xe)return e;throw Error("Could not find renamed property on target object.")}function zt(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(zt).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function s_(t,e){return t?e?`${t} ${e}`:t:e||""}var sP=xe({__forward_ref__:xe});function Bu(t){return t.__forward_ref__=Bu,t.toString=function(){return zt(this())},t}function tn(t){return z_(t)?t():t}function z_(t){return typeof t=="function"&&t.hasOwnProperty(sP)&&t.__forward_ref__===Bu}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function hr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Uu(t){return a_(t,q_)||a_(t,G_)}function H_(t){return Uu(t)!==null}function a_(t,e){return t.hasOwnProperty(e)?t[e]:null}function aP(t){let e=t&&(t[q_]||t[G_]);return e||null}function c_(t){return t&&(t.hasOwnProperty(l_)||t.hasOwnProperty(cP))?t[l_]:null}var q_=xe({\u0275prov:xe}),l_=xe({\u0275inj:xe}),G_=xe({ngInjectableDef:xe}),cP=xe({ngInjectorDef:xe}),G=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function W_(t){return t&&!!t.\u0275providers}var lP=xe({\u0275cmp:xe}),uP=xe({\u0275dir:xe}),dP=xe({\u0275pipe:xe}),hP=xe({\u0275mod:xe}),_u=xe({\u0275fac:xe}),Fa=xe({__NG_ELEMENT_ID__:xe}),u_=xe({__NG_ENV_ID__:xe});function fP(t){return typeof t=="string"?t:t==null?"":String(t)}function pP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():fP(t)}function K_(t,e){throw new W(-200,t)}function Lm(t,e){throw new W(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),Wp;function Y_(){return Wp}function en(t){let e=Wp;return Wp=t,e}function Q_(t,e,n){let r=Uu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;Lm(t,"Injector")}var mP={},ki=mP,Kp="__NG_DI_FLAG__",Eu=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?ql:ki,r)}},Cu="ngTempTokenPath",gP="ngTokenPath",vP=/\n/gm,yP="\u0275",d_="__source";function IP(t,e=se.Default){if(xa()===void 0)throw new W(-203,!1);if(xa()===null)return Q_(t,void 0,e);{let n=xa(),r;return n instanceof Eu?r=n.injector:r=n,r.get(t,e&se.Optional?null:void 0,e)}}function J(t,e=se.Default){return(Y_()||IP)(tn(t),e)}function P(t,e=se.Default){return J(t,$u(e))}function $u(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yp(t){let e=[];for(let n=0;n<t.length;n++){let r=tn(t[n]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let a=r[s],l=wP(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function bP(t,e){return t[Kp]=e,t.prototype[Kp]=e,t}function wP(t){return t[Kp]}function _P(t,e,n,r){let i=t[Cu];throw e[d_]&&i.unshift(e[d_]),t.message=EP(`
`+t.message,i,n,r),t[gP]=i,t[Cu]=null,t}function EP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==yP?t.slice(2):t;let i=zt(e);if(Array.isArray(e))i=e.map(zt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):zt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(vP,`
  `)}`}var qt=bP(oP("Optional"),8);function Qo(t,e){let n=t.hasOwnProperty(_u);return n?t[_u]:null}function CP(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function DP(t){return t.flat(Number.POSITIVE_INFINITY)}function Vm(t,e){t.forEach(n=>Array.isArray(n)?Vm(n,e):e(n))}function Z_(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Du(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function TP(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}var Zo={},Fn=[],Va=new G(""),X_=new G("",-1),J_=new G(""),Tu=class{get(e,n=ki){if(n===ki){let r=new Error(`NullInjectorError: No provider for ${zt(e)}!`);throw r.name="NullInjectorError",r}return n}};function eE(t,e){let n=t[hP]||null;if(!n&&e===!0)throw new Error(`Type ${zt(t)} does not have '\u0275mod' property.`);return n}function Kr(t){return t[lP]||null}function SP(t){return t[uP]||null}function AP(t){return t[dP]||null}function yn(t){return{\u0275providers:t}}function xP(...t){return{\u0275providers:tE(!0,t),\u0275fromNgModule:!0}}function tE(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Vm(e,s=>{let a=s;Qp(a,o,[],r)&&(i||(i=[]),i.push(a))}),i!==void 0&&nE(i,o),n}function nE(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];jm(i,o=>{e(o,r)})}}function Qp(t,e,n,r){if(t=tn(t),!t)return!1;let i=null,o=c_(t),s=!o&&Kr(t);if(!o&&!s){let l=t.ngModule;if(o=c_(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Qp(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Vm(o.imports,h=>{Qp(h,e,n,r)&&(u||(u=[]),u.push(h))})}finally{}u!==void 0&&nE(u,e)}if(!a){let u=Qo(i)||(()=>new i);e({provide:i,useFactory:u,deps:Fn},i),e({provide:J_,useValue:i,multi:!0},i),e({provide:Va,useValue:()=>J(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=t;jm(l,h=>{e(h,u)})}}else return!1;return i!==t&&t.providers!==void 0}function jm(t,e){for(let n of t)W_(n)&&(n=n.\u0275providers),Array.isArray(n)?jm(n,e):e(n)}var kP=xe({provide:String,useValue:xe});function rE(t){return t!==null&&typeof t=="object"&&kP in t}function RP(t){return!!(t&&t.useExisting)}function MP(t){return!!(t&&t.useFactory)}function Zp(t){return typeof t=="function"}var zu=new G(""),gu={},h_={},jp;function Hu(){return jp===void 0&&(jp=new Tu),jp}var Ge=class{},ja=class extends Ge{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Jp(e,s=>this.processProvider(s)),this.records.set(X_,qo(void 0,this)),i.has("environment")&&this.records.set(Ge,qo(void 0,this));let o=this.records.get(zu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(J_,Fn,se.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?ql:ki,r)}destroy(){Na(this),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return Na(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Na(this);let n=sr(this),r=en(void 0),i;try{return e()}finally{sr(n),en(r)}}get(e,n=ki,r=se.Default){if(Na(this),e.hasOwnProperty(u_))return e[u_](this);r=$u(r);let i,o=sr(this),s=en(void 0);try{if(!(r&se.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=VP(e)&&Uu(e);u&&this.injectableDefInScope(u)?l=qo(Xp(e),gu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&se.Self?Hu():this.parent;return n=r&se.Optional&&n===ki?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Cu]=a[Cu]||[]).unshift(zt(e)),o)throw a;return _P(a,e,"R3InjectorError",this.source)}else throw a}finally{en(s),sr(o)}}resolveInjectorInitializers(){let e=_e(null),n=sr(this),r=en(void 0),i;try{let o=this.get(Va,Fn,se.Self);for(let s of o)s()}finally{sr(n),en(r),_e(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(zt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=tn(e);let n=Zp(e)?e:tn(e&&e.provide),r=NP(e);if(!Zp(e)&&e.multi===!0){let i=this.records.get(n);i||(i=qo(void 0,gu,!0),i.factory=()=>Yp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=_e(null);try{return n.value===h_?K_(zt(e)):n.value===gu&&(n.value=h_,n.value=n.factory()),typeof n.value=="object"&&n.value&&LP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=tn(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xp(t){let e=Uu(t),n=e!==null?e.factory:Qo(t);if(n!==null)return n;if(t instanceof G)throw new W(204,!1);if(t instanceof Function)return PP(t);throw new W(204,!1)}function PP(t){if(t.length>0)throw new W(204,!1);let n=aP(t);return n!==null?()=>n.factory(t):()=>new t}function NP(t){if(rE(t))return qo(void 0,t.useValue);{let e=OP(t);return qo(e,gu)}}function OP(t,e,n){let r;if(Zp(t)){let i=tn(t);return Qo(i)||Xp(i)}else if(rE(t))r=()=>tn(t.useValue);else if(MP(t))r=()=>t.useFactory(...Yp(t.deps||[]));else if(RP(t))r=()=>J(tn(t.useExisting));else{let i=tn(t&&(t.useClass||t.provide));if(FP(t))r=()=>new i(...Yp(t.deps));else return Qo(i)||Xp(i)}return r}function Na(t){if(t.destroyed)throw new W(205,!1)}function qo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function FP(t){return!!t.deps}function LP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function VP(t){return typeof t=="function"||typeof t=="object"&&t instanceof G}function Jp(t,e){for(let n of t)Array.isArray(n)?Jp(n,e):n&&W_(n)?Jp(n.\u0275providers,e):e(n)}function Tt(t,e){let n;t instanceof ja?(Na(t),n=t):n=new Eu(t);let r,i=sr(n),o=en(void 0);try{return e()}finally{sr(i),en(o)}}function iE(){return Y_()!==void 0||xa()!=null}function Bm(t){if(!iE())throw new W(-203,!1)}function jP(t){return typeof t=="function"}var fr=0,de=1,ie=2,Dt=3,pn=4,Lt=5,Ba=6,La=7,gn=8,Ua=9,Yr=10,rn=11,$a=12,f_=13,Wa=14,on=15,Pi=16,Go=17,mn=18,qu=19,oE=20,Gr=21,Bp=22,Su=23,nn=24,Wr=25,vn=26,sE=1;var Ni=7,Au=8,Xo=9,Ht=10;function Ri(t){return Array.isArray(t)&&typeof t[sE]=="object"}function pr(t){return Array.isArray(t)&&t[sE]===!0}function aE(t){return(t.flags&4)!==0}function Gu(t){return t.componentOffset>-1}function cE(t){return(t.flags&1)===1}function Ui(t){return!!t.template}function xu(t){return(t[ie]&512)!==0}function ts(t){return(t[ie]&256)===256}var em=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function lE(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ns=(()=>{let t=()=>uE;return t.ngInherit=!0,t})();function uE(t){return t.type.prototype.ngOnChanges&&(t.setInput=UP),BP}function BP(){let t=hE(this),e=t==null?void 0:t.current;if(e){let n=t.previous;if(n===Zo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function UP(t,e,n,r,i){let o=this.declaredInputs[r],s=hE(t)||$P(t,{previous:Zo,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new em(u&&u.currentValue,n,l===Zo),lE(t,e,i,n)}var dE="__ngSimpleChanges__";function hE(t){return t[dE]||null}function $P(t,e){return t[dE]=e}var p_=null;var Me=function(t,e=null,n){p_!=null&&p_(t,e,n)},zP="svg",HP="math";function Qr(t){for(;Array.isArray(t);)t=t[fr];return t}function $i(t,e){return Qr(e[t.index])}function qP(t,e){return t.data[e]}function Oi(t,e){let n=e[t];return Ri(n)?n:n[fr]}function GP(t){return(t[ie]&4)===4}function Um(t){return(t[ie]&128)===128}function WP(t){return pr(t[Dt])}function tm(t,e){return e==null?null:t[e]}function fE(t){t[Go]=0}function pE(t){t[ie]&1024||(t[ie]|=1024,Um(t)&&Ka(t))}function Wu(t){var e;return!!(t[ie]&9216||(e=t[nn])!=null&&e.dirty)}function nm(t){var e;(e=t[Yr].changeDetectionScheduler)==null||e.notify(8),t[ie]&64&&(t[ie]|=1024),Wu(t)&&Ka(t)}function Ka(t){var n;(n=t[Yr].changeDetectionScheduler)==null||n.notify(0);let e=Fi(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Um(e)));)e=Fi(e)}function mE(t,e){if(ts(t))throw new W(911,!1);t[Gr]===null&&(t[Gr]=[]),t[Gr].push(e)}function KP(t,e){if(t[Gr]===null)return;let n=t[Gr].indexOf(e);n!==-1&&t[Gr].splice(n,1)}function Fi(t){let e=t[Dt];return pr(e)?e[Dt]:e}function YP(t){var e;return(e=t[La])!=null?e:t[La]=[]}function QP(t){var e;return(e=t.cleanup)!=null?e:t.cleanup=[]}function ZP(t,e,n,r){let i=YP(e);i.push(n),t.firstCreatePass&&QP(t).push(r,i.length-1)}var Se={lFrame:DE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rm=!1;function XP(){return Se.lFrame.elementDepthCount}function JP(){Se.lFrame.elementDepthCount++}function eN(){Se.lFrame.elementDepthCount--}function gE(){return Se.bindingsEnabled}function vE(){return Se.skipHydrationRootTNode!==null}function tN(t){return Se.skipHydrationRootTNode===t}function nN(){Se.skipHydrationRootTNode=null}function gt(){return Se.lFrame.lView}function rs(){return Se.lFrame.tView}function mr(){let t=yE();for(;t!==null&&t.type===64;)t=t.parent;return t}function yE(){return Se.lFrame.currentTNode}function rN(){let t=Se.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ya(t,e){let n=Se.lFrame;n.currentTNode=t,n.isParent=e}function IE(){return Se.lFrame.isParent}function bE(){Se.lFrame.isParent=!1}function wE(){return rm}function m_(t){let e=rm;return rm=t,e}function iN(t){return Se.lFrame.bindingIndex=t}function oN(){return Se.lFrame.inI18n}function sN(t,e){let n=Se.lFrame;n.bindingIndex=n.bindingRootIndex=t,im(e)}function aN(){return Se.lFrame.currentDirectiveIndex}function im(t){Se.lFrame.currentDirectiveIndex=t}function _E(){return Se.lFrame.currentQueryIndex}function $m(t){Se.lFrame.currentQueryIndex=t}function cN(t){let e=t[de];return e.type===2?e.declTNode:e.type===1?t[Lt]:null}function EE(t,e,n){if(n&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=cN(o),i===null||(o=o[Wa],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=Se.lFrame=CE();return r.currentTNode=e,r.lView=t,!0}function zm(t){let e=CE(),n=t[de];Se.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function CE(){let t=Se.lFrame,e=t===null?null:t.child;return e===null?DE(t):e}function DE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function TE(){let t=Se.lFrame;return Se.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var SE=TE;function Hm(){let t=TE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function lN(){return Se.lFrame.selectedIndex}function Li(t){Se.lFrame.selectedIndex=t}function uN(){return Se.lFrame.currentNamespace}var AE=!0;function qm(){return AE}function Gm(t){AE=t}function dN(t,e,n){var s,a,l,u,h;let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let f=uE(e);((s=n.preOrderHooks)!=null?s:n.preOrderHooks=[]).push(t,f),((a=n.preOrderCheckHooks)!=null?a:n.preOrderCheckHooks=[]).push(t,f)}i&&((l=n.preOrderHooks)!=null?l:n.preOrderHooks=[]).push(0-t,i),o&&(((u=n.preOrderHooks)!=null?u:n.preOrderHooks=[]).push(t,o),((h=n.preOrderCheckHooks)!=null?h:n.preOrderCheckHooks=[]).push(t,o))}function xE(t,e){var n,r,i,o,s,a,l;for(let u=e.directiveStart,h=e.directiveEnd;u<h;u++){let v=t.data[u].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:M}=v;m&&((n=t.contentHooks)!=null?n:t.contentHooks=[]).push(-u,m),C&&(((r=t.contentHooks)!=null?r:t.contentHooks=[]).push(u,C),((i=t.contentCheckHooks)!=null?i:t.contentCheckHooks=[]).push(u,C)),D&&((o=t.viewHooks)!=null?o:t.viewHooks=[]).push(-u,D),S&&(((s=t.viewHooks)!=null?s:t.viewHooks=[]).push(u,S),((a=t.viewCheckHooks)!=null?a:t.viewCheckHooks=[]).push(u,S)),M!=null&&((l=t.destroyHooks)!=null?l:t.destroyHooks=[]).push(u,M)}}function vu(t,e,n){kE(t,e,3,n)}function yu(t,e,n,r){(t[ie]&3)===n&&kE(t,e,n,r)}function Up(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function kE(t,e,n,r){let i=r!==void 0?t[Go]&65535:0,o=r!=null?r:-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Go]+=65536),(a<o||o==-1)&&(hN(t,n,e,l),t[Go]=(t[Go]&4294901760)+l+2),l++}function g_(t,e){Me(4,t,e);let n=_e(null);try{e.call(t)}finally{_e(n),Me(5,t,e)}}function hN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[ie]>>14<t[Go]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,g_(a,o)):g_(a,o)}var Yo=-1,za=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function fN(t){return(t.flags&8)!==0}function pN(t){return(t.flags&16)!==0}function mN(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];vN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function gN(t){return t===3||t===4||t===6}function vN(t){return t.charCodeAt(0)===64}function Wm(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?v_(t,n,i,null,e[++r]):v_(t,n,i,null,null))}}return t}function v_(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function RE(t){return t!==Yo}function ku(t){return t&32767}function yN(t){return t>>16}function Ru(t,e){let n=yN(t),r=e;for(;n>0;)r=r[Wa],n--;return r}var om=!0;function y_(t){let e=om;return om=t,e}var IN=256,ME=IN-1,PE=5,bN=0,Ln={};function wN(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Fa)&&(r=n[Fa]),r==null&&(r=n[Fa]=bN++);let i=r&ME,o=1<<i;e.data[t+(i>>PE)]|=o}function NE(t,e){let n=OE(t,e);if(n!==-1)return n;let r=e[de];r.firstCreatePass&&(t.injectorIndex=e.length,$p(r.data,t),$p(e,null),$p(r.blueprint,null));let i=Km(t,e),o=t.injectorIndex;if(RE(i)){let s=ku(i),a=Ru(i,e),l=a[de].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function $p(t,e){t.push(0,0,0,0,0,0,0,0,e)}function OE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Km(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=BE(i),r===null)return Yo;if(n++,i=i[Wa],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Yo}function _N(t,e,n){wN(t,e,n)}function FE(t,e,n){if(n&se.Optional||t!==void 0)return t;Lm(e,"NodeInjector")}function LE(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),(n&(se.Self|se.Host))===0){let i=t[Ua],o=en(void 0);try{return i?i.get(e,r,n&se.Optional):Q_(e,r,n&se.Optional)}finally{en(o)}}return FE(r,e,n)}function VE(t,e,n,r=se.Default,i){if(t!==null){if(e[ie]&2048&&!(r&se.Self)){let s=TN(t,e,n,r,Ln);if(s!==Ln)return s}let o=jE(t,e,n,r,Ln);if(o!==Ln)return o}return LE(e,n,r,i)}function jE(t,e,n,r,i){let o=CN(n);if(typeof o=="function"){if(!EE(e,t,r))return r&se.Host?FE(i,n,r):LE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))Lm(n);else return s}finally{SE()}}else if(typeof o=="number"){let s=null,a=OE(t,e),l=Yo,u=r&se.Host?e[on][Lt]:null;for((a===-1||r&se.SkipSelf)&&(l=a===-1?Km(t,e):e[a+8],l===Yo||!b_(r,!1)?a=-1:(s=e[de],a=ku(l),e=Ru(l,e)));a!==-1;){let h=e[de];if(I_(o,a,h.data)){let f=EN(a,e,n,s,r,u);if(f!==Ln)return f}l=e[a+8],l!==Yo&&b_(r,e[de].data[a+8]===u)&&I_(o,a,e)?(s=h,a=ku(l),e=Ru(l,e)):a=-1}}return i}function EN(t,e,n,r,i,o){let s=e[de],a=s.data[t+8],l=r==null?Gu(a)&&om:r!=s&&(a.type&3)!==0,u=i&se.Host&&o===a,h=Iu(a,s,n,l,u);return h!==null?Mu(e,s,h,a):Ln}function Iu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,u=t.directiveEnd,h=o>>20,f=r?a:a+h,v=i?a+h:u;for(let m=f;m<v;m++){let C=s[m];if(m<l&&n===C||m>=l&&C.type===n)return m}if(i){let m=s[l];if(m&&Ui(m)&&m.type===n)return l}return null}function Mu(t,e,n,r){let i=t[n],o=e.data;if(i instanceof za){let s=i;s.resolving&&K_(pP(o[n]));let a=y_(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?en(s.injectImpl):null,h=EE(t,r,se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&dN(n,o[n],e)}finally{u!==null&&en(u),y_(a),s.resolving=!1,SE()}}return i}function CN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Fa)?t[Fa]:void 0;return typeof e=="number"?e>=0?e&ME:DN:e}function I_(t,e,n){let r=1<<t;return!!(n[e+(t>>PE)]&r)}function b_(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var Mi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return VE(this._tNode,this._lView,e,$u(r),n)}};function DN(){return new Mi(mr(),gt())}function Qa(t){return Ga(()=>{let e=t.prototype.constructor,n=e[_u]||sm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[_u]||sm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function sm(t){return z_(t)?()=>{let e=sm(tn(t));return e&&e()}:Qo(t)}function TN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[ie]&2048&&!xu(s);){let a=jE(o,s,n,r|se.Self,Ln);if(a!==Ln)return a;let l=o.parent;if(!l){let u=s[oE];if(u){let h=u.get(n,Ln,r);if(h!==Ln)return h}l=BE(s),s=s[Wa]}o=l}return i}function BE(t){let e=t[de],n=e.type;return n===2?e.declTNode:n===1?t[Lt]:null}function w_(t,e=null,n=null,r){let i=UE(t,e,n,r);return i.resolveInjectorInitializers(),i}function UE(t,e=null,n=null,r,i=new Set){let o=[n||Fn,xP(t)];return r=r||(typeof t=="object"?void 0:zt(t)),new ja(o,e||Hu(),r||null,i)}var xi=class xi{static create(e,n){var r;if(Array.isArray(e))return w_({name:""},n,e,"");{let i=(r=e.name)!=null?r:"";return w_({name:i},e.parent,e.providers,i)}}};k(xi,"THROW_IF_NOT_FOUND",ki),k(xi,"NULL",new Tu),k(xi,"\u0275prov",q({token:xi,providedIn:"any",factory:()=>J(X_)})),k(xi,"__NG_ELEMENT_ID__",-1);var ke=xi;var SN=new G("");SN.__NG_ELEMENT_ID__=t=>{let e=mr();if(e===null)throw new W(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new W(204,!1)};var $E=!1,is=(()=>{class t{}return k(t,"__NG_ELEMENT_ID__",AN),k(t,"__NG_ENV_ID__",n=>n),t})(),am=class extends is{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return ts(n)?(e(),()=>{}):(mE(n,e),()=>KP(n,e))}};function AN(){return new am(gt())}var Vi=class{},zE=new G("",{providedIn:"root",factory:()=>!1});var HE=new G(""),qE=new G(""),zi=(()=>{let e=class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new lt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};k(e,"\u0275prov",q({token:e,providedIn:"root",factory:()=>new e}));let t=e;return t})(),Ku=(()=>{let e=class e{internalPendingTasks=P(zi);scheduler=P(Vi);add(){let r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){return _(this,null,function*(){let i=this.add();try{return yield r()}finally{i()}})}};k(e,"\u0275prov",q({token:e,providedIn:"root",factory:()=>new e}));let t=e;return t})(),cm=class extends at{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){var n,r;super(),this.__isAsync=e,iE()&&(this.destroyRef=(n=P(is,{optional:!0}))!=null?n:void 0,this.pendingTasks=(r=P(zi,{optional:!0}))!=null?r:void 0)}emit(e){let n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){var l,u,h;let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let f=e;i=(l=f.next)==null?void 0:l.bind(f),o=(u=f.error)==null?void 0:u.bind(f),s=(h=f.complete)==null?void 0:h.bind(f)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof qe&&e.add(a),a}wrapInTimeout(e){return n=>{var i;let r=(i=this.pendingTasks)==null?void 0:i.add();setTimeout(()=>{var o;try{e(n)}finally{r!==void 0&&((o=this.pendingTasks)==null||o.remove(r))}})}}},Ct=cm;function Pu(...t){}function GE(t){let e,n;function r(){t=Pu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function __(t){return queueMicrotask(()=>t()),()=>{t=Pu}}var Ym="isAngularZone",Nu=Ym+"_ID",xN=0,oe=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ct(!1);onMicrotaskEmpty=new Ct(!1);onStable=new Ct(!1);onError=new Ct(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=$E}=e;if(typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,MN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ym)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new W(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,kN,Pu,Pu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},kN={};function Qm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function RN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){GE(()=>{t.callbackScheduled=!1,lm(t),t.isCheckStableRunning=!0,Qm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),lm(t)}function MN(t){let e=()=>{RN(t)},n=xN++;t._inner=t._inner.fork({name:"angular",properties:{[Ym]:!0,[Nu]:n,[Nu+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(PN(l))return r.invokeTask(o,s,a,l);try{return E_(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),C_(t)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return E_(t),r.invoke(o,s,a,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!NN(l)&&e(),C_(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,lm(t),Qm(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function lm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function E_(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function C_(t){t._nesting--,Qm(t)}var um=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ct;onMicrotaskEmpty=new Ct;onStable=new Ct;onError=new Ct;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function PN(t){return WE(t,"__ignore_ng_zone__")}function NN(t){return WE(t,"__scheduler_tick__")}function WE(t,e){var n,r;return!Array.isArray(t)||t.length!==1?!1:((r=(n=t[0])==null?void 0:n.data)==null?void 0:r[e])===!0}var ur=class{_console=console;handleError(e){this._console.error("ERROR",e)}},ON=new G("",{providedIn:"root",factory:()=>{let t=P(oe),e=P(ur);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function D_(t,e){return $_(t,e)}function FN(t){return $_(U_,t)}var KE=(D_.required=FN,D_);function LN(){return os(mr(),gt())}function os(t,e){return new ut($i(t,e))}var ut=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}}return k(t,"__NG_ELEMENT_ID__",LN),t})();function VN(t){return t instanceof ut?t.nativeElement:t}function YE(t,e){let n=wp(t,e==null?void 0:e.equal),r=n[Nn];return n.set=i=>Aa(r,i),n.update=i=>_p(r,i),n.asReadonly=jN.bind(n),n}function jN(){let t=this[Nn];if(t.readonlyFn===void 0){let e=()=>this();e[Nn]=t,t.readonlyFn=e}return t.readonlyFn}function BN(){return this._results[Symbol.iterator]()}var dm=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){var e;return(e=this._changes)!=null?e:this._changes=new at}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=DP(e);(this._changesDetected=!CP(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){var e;this.dirty=!0,(e=this._onDirty)==null||e.call(this)}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=BN};function QE(t){return(t.flags&128)===128}var ZE=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(ZE||{}),XE=new Map,UN=0;function $N(){return UN++}function zN(t){XE.set(t[qu],t)}function hm(t){XE.delete(t[qu])}var T_="__ngContext__";function Za(t,e){Ri(e)?(t[T_]=e[qu],zN(e)):t[T_]=e}function JE(t){return tC(t[$a])}function eC(t){return tC(t[pn])}function tC(t){for(;t!==null&&!pr(t);)t=t[pn];return t}var fm;function nC(t){fm=t}function HN(){if(fm!==void 0)return fm;if(typeof document<"u")return document;throw new W(210,!1)}var Zm=new G("",{providedIn:"root",factory:()=>qN}),qN="ng",Xm=new G(""),Zr=new G("",{providedIn:"platform",factory:()=>"unknown"});var Jm=new G("",{providedIn:"root",factory:()=>{var t,e;return((e=(t=HN().body)==null?void 0:t.querySelector("[ngCspNonce]"))==null?void 0:e.getAttribute("ngCspNonce"))||null}});var GN="h",WN="b";var rC=!1,KN=new G("",{providedIn:"root",factory:()=>rC});var eg=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(eg||{}),ss=new G(""),S_=new Set;function Xa(t){var e;S_.has(t)||(S_.add(t),(e=performance==null?void 0:performance.mark)==null||e.call(performance,"mark_feature_usage",{detail:{feature:t}}))}var iC=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}}return k(t,"__NG_ELEMENT_ID__",YN),t})();function YN(){return new iC(gt(),mr())}var Wo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Wo||{}),oC=(()=>{let e=class e{impl=null;execute(){var r;(r=this.impl)==null||r.execute()}};k(e,"\u0275prov",q({token:e,providedIn:"root",factory:()=>new e}));let t=e;return t})(),QN=[Wo.EarlyRead,Wo.Write,Wo.MixedReadWrite,Wo.Read],ZN=(()=>{let e=class e{ngZone=P(oe);scheduler=P(Vi);errorHandler=P(ur,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(ss,{optional:!0})}execute(){var i;let r=this.sequences.size>0;r&&Me(16),this.executing=!0;for(let o of QN)for(let s of this.sequences)if(!(s.erroredOrDestroyed||!s.hooks[o]))try{s.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let a=s.hooks[o];return a(s.pipelinedValue)},s.snapshot))}catch(a){s.erroredOrDestroyed=!0,(i=this.errorHandler)==null||i.handleError(a)}this.executing=!1;for(let o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(let o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&Me(17)}register(r){var o;let{view:i}=r;i!==void 0?(((o=i[Wr])!=null?o:i[Wr]=[]).push(r),Ka(i),i[ie]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,i){return i?i.run(eg.AFTER_NEXT_RENDER,r):r()}};k(e,"\u0275prov",q({token:e,providedIn:"root",factory:()=>new e}));let t=e;return t})(),pm=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o==null?void 0:o.onDestroy(()=>this.destroy())}afterRun(){var e;this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,(e=this.snapshot)==null||e.dispose(),this.snapshot=null}destroy(){var n,r;this.impl.unregister(this),(n=this.unregisterOnDestroy)==null||n.call(this);let e=(r=this.view)==null?void 0:r[Wr];e&&(this.view[Wr]=e.filter(i=>i!==this))}};function tg(t,e){var r;!(e!=null&&e.injector)&&Bm(tg);let n=(r=e==null?void 0:e.injector)!=null?r:P(ke);return Xa("NgAfterNextRender"),JN(t,n,e,!0)}function XN(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function JN(t,e,n,r){var h,f;let i=e.get(oC);(h=i.impl)!=null||(i.impl=e.get(ZN));let o=e.get(ss,null,{optional:!0}),s=(f=n==null?void 0:n.phase)!=null?f:Wo.MixedReadWrite,a=(n==null?void 0:n.manualCleanup)!==!0?e.get(is):null,l=e.get(iC,null,{optional:!0}),u=new pm(i.impl,XN(t,s),l==null?void 0:l.view,r,a,o==null?void 0:o.snapshot(null));return i.impl.register(u),u}var e1=()=>null;function sC(t,e,n=!1){return e1(t,e,n)}function aC(t,e){let n=t.contentQueries;if(n!==null){let r=_e(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];$m(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function mm(t,e,n){$m(0);let r=_e(null);try{e(t,n)}finally{_e(r)}}function cC(t,e,n){if(aE(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{_e(r)}}}var Vn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Vn||{});function lC(t){return t instanceof Function?t():t}function t1(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var uC="ng-template";function n1(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&t1(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ng(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ng(t){return t.type===4&&t.value!==uC}function r1(t,e,n){let r=t.type===4&&!n?uC:t.value;return e===r}function i1(t,e,n){let r=4,i=t.attrs,o=i!==null?a1(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!fn(r)&&!fn(l))return!1;if(s&&fn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!r1(t,l,n)||l===""&&e.length===1){if(fn(r))return!1;s=!0}}else if(r&8){if(i===null||!n1(t,i,l,n)){if(fn(r))return!1;s=!0}}else{let u=e[++a],h=o1(l,i,ng(t),n);if(h===-1){if(fn(r))return!1;s=!0;continue}if(u!==""){let f;if(h>o?f="":f=i[h+1].toLowerCase(),r&2&&u!==f){if(fn(r))return!1;s=!0}}}}return fn(r)||s}function fn(t){return(t&1)===0}function o1(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return c1(e,t)}function dC(t,e,n=!1){for(let r=0;r<e.length;r++)if(i1(t,e[r],n))return!0;return!1}function s1(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function a1(t){for(let e=0;e<t.length;e++){let n=t[e];if(gN(n))return e}return t.length}function c1(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function l1(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function A_(t,e){return t?":not("+e.trim()+")":e}function u1(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!fn(s)&&(e+=A_(o,i),i=""),r=s,o=o||!fn(r);n++}return i!==""&&(e+=A_(o,i)),e}function d1(t){return t.map(u1).join(",")}function h1(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!fn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var hC={};function f1(t,e){return t.createText(e)}function fC(t,e,n){return t.createElement(e,n)}function Ou(t,e,n,r,i){t.insertBefore(e,n,r,i)}function pC(t,e,n){t.appendChild(e,n)}function x_(t,e,n,r,i){r!==null?Ou(t,e,n,r,i):pC(t,e,n)}function p1(t,e,n){t.removeChild(null,e,n)}function m1(t,e,n){t.setAttribute(e,"style",n)}function g1(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function mC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&mN(t,e,r),i!==null&&g1(t,e,i),o!==null&&m1(t,e,o)}function rg(t,e,n,r,i,o,s,a,l,u,h){let f=vn+r,v=f+i,m=v1(f,v),C=typeof u=="function"?u():u;return m[de]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:C,incompleteFirstPass:!1,ssrId:h}}function v1(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:hC);return n}function y1(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=rg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ig(t,e,n,r,i,o,s,a,l,u,h){let f=e.blueprint.slice();return f[fr]=i,f[ie]=r|4|128|8|64|1024,(u!==null||t&&t[ie]&2048)&&(f[ie]|=2048),fE(f),f[Dt]=f[Wa]=t,f[gn]=n,f[Yr]=s||t&&t[Yr],f[rn]=a||t&&t[rn],f[Ua]=l||t&&t[Ua]||null,f[Lt]=o,f[qu]=$N(),f[Ba]=h,f[oE]=u,f[on]=e.type==2?t[on]:f,f}function I1(t,e,n){let r=$i(e,t),i=y1(n),o=t[Yr].rendererFactory,s=og(t,ig(t,i,null,gC(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function gC(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function vC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function og(t,e){return t[$a]?t[f_][pn]=e:t[$a]=e,t[f_]=e,e}function b1(t,e,n,r){if(!r)if((e[ie]&3)===3){let o=t.preOrderCheckHooks;o!==null&&vu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&yu(e,o,0,n)}Li(n)}var Yu=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Yu||{});function gm(t,e,n,r){let i=_e(null);try{let[o,s,a]=t.inputs[n],l=null;(s&Yu.SignalBased)!==0&&(l=e[o][Nn]),l!==null&&l.transformFn!==void 0?r=l.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,l,r,n,o):lE(e,l,o,r)}finally{_e(i)}}function yC(t,e,n,r,i){let o=lN(),s=r&2;try{Li(-1),s&&e.length>vn&&b1(t,e,vn,!1),Me(s?2:0,i),n(r,i)}finally{Li(o),Me(s?3:1,i)}}function sg(t,e,n){C1(t,e,n),(n.flags&64)===64&&D1(t,e,n)}function IC(t,e,n=$i){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function w1(t,e,n,r){let o=r.get(KN,rC)||n===Vn.ShadowDom,s=t.selectRootElement(e,o);return _1(s),s}function _1(t){E1(t)}var E1=()=>null;function C1(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Gu(n)&&I1(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||NE(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=Mu(e,t,s,n);if(Za(l,e),o!==null&&S1(e,s-r,l,a,n,o),Ui(a)){let u=Oi(n.index,e);u[gn]=Mu(e,t,s,n)}}}function D1(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=aN();try{Li(o);for(let a=r;a<i;a++){let l=t.data[a],u=e[a];im(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&T1(l,u)}}finally{Li(-1),im(s)}}function T1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function bC(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];dC(e,o.selectors,!1)&&(r!=null||(r=[]),Ui(o)?r.unshift(o):r.push(o))}return r}function S1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let l=s[a],u=s[a+1];gm(r,n,l,u)}}function A1(t,e){let n=t[Ua],r=n?n.get(ur,null):null;r&&r.handleError(e)}function wC(t,e,n,r,i){var l,u;let o=(l=t.inputs)==null?void 0:l[r],s=(u=t.hostDirectiveInputs)==null?void 0:u[r],a=!1;if(s)for(let h=0;h<s.length;h+=2){let f=s[h],v=s[h+1],m=e.data[f];gm(m,n[f],v,i),a=!0}if(o)for(let h of o){let f=n[h],v=e.data[h];gm(v,f,r,i),a=!0}return a}function x1(t,e){let n=Oi(e,t),r=n[de];k1(r,n);let i=n[fr];i!==null&&n[Ba]===null&&(n[Ba]=sC(i,n[Ua])),Me(18),ag(r,n,n[gn]),Me(19,n[gn])}function k1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function ag(t,e,n){var r;zm(e);try{let i=t.viewQuery;i!==null&&mm(1,i,n);let o=t.template;o!==null&&yC(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),(r=e[mn])==null||r.finishViewCreation(t),t.staticContentQueries&&aC(t,e),t.staticViewQueries&&mm(2,t.viewQuery,n);let s=t.components;s!==null&&R1(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[ie]&=-5,Hm()}}function R1(t,e){for(let n=0;n<e.length;n++)x1(t,e[n])}function _C(t,e,n,r){var o,s,a;let i=_e(null);try{let l=e.tView,h=t[ie]&4096?4096:16,f=ig(t,l,n,h,null,e,null,null,(o=r==null?void 0:r.injector)!=null?o:null,(s=r==null?void 0:r.embeddedViewInjector)!=null?s:null,(a=r==null?void 0:r.dehydratedView)!=null?a:null),v=t[e.index];f[Pi]=v;let m=t[mn];return m!==null&&(f[mn]=m.createEmbeddedView(l)),ag(l,f,n),f}finally{_e(i)}}function vm(t,e){return!e||e.firstChild===null||QE(t)}var M1;function cg(t,e){return M1(t,e)}var as=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(as||{});function lg(t){return(t.flags&32)===32}function Ko(t,e,n,r,i){if(r!=null){let o,s=!1;pr(r)?o=r:Ri(r)&&(s=!0,r=r[fr]);let a=Qr(r);t===0&&n!==null?i==null?pC(e,n,a):Ou(e,n,a,i||null,!0):t===1&&n!==null?Ou(e,n,a,i||null,!0):t===2?p1(e,a,s):t===3&&e.destroyNode(a),o!=null&&$1(e,t,o,n,i)}}function P1(t,e){EC(t,e),e[fr]=null,e[Lt]=null}function N1(t,e,n,r,i,o){r[fr]=i,r[Lt]=e,Qu(t,r,n,1,i,o)}function EC(t,e){var n;(n=e[Yr].changeDetectionScheduler)==null||n.notify(9),Qu(t,e,e[rn],2,null,null)}function O1(t){let e=t[$a];if(!e)return zp(t[de],t);for(;e;){let n=null;if(Ri(e))n=e[$a];else{let r=e[Ht];r&&(n=r)}if(!n){for(;e&&!e[pn]&&e!==t;)Ri(e)&&zp(e[de],e),e=e[Dt];e===null&&(e=t),Ri(e)&&zp(e[de],e),n=e&&e[pn]}e=n}}function ug(t,e){let n=t[Xo],r=n.indexOf(e);n.splice(r,1)}function CC(t,e){if(ts(e))return;let n=e[rn];n.destroyNode&&Qu(t,e,n,3,null,null),O1(e)}function zp(t,e){if(ts(e))return;let n=_e(null);try{e[ie]&=-129,e[ie]|=256,e[nn]&&Ip(e[nn]),L1(t,e),F1(t,e),e[de].type===1&&e[rn].destroy();let r=e[Pi];if(r!==null&&pr(e[Dt])){r!==e[Dt]&&ug(r,e);let i=e[mn];i!==null&&i.detachView(t)}hm(e)}finally{_e(n)}}function F1(t,e){let n=t.cleanup,r=e[La];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[La]=null);let i=e[Gr];if(i!==null){e[Gr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Su];if(o!==null){e[Su]=null;for(let s of o)s.destroy()}}function L1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof za)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Me(4,a,l);try{l.call(a)}finally{Me(5,a,l)}}else{Me(4,i,o);try{o.call(i)}finally{Me(5,i,o)}}}}}function DC(t,e,n){return V1(t,e.parent,n)}function V1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[fr];if(Gu(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Vn.None||i===Vn.Emulated)return null}return $i(r,n)}function TC(t,e,n){return B1(t,e,n)}function j1(t,e,n){return t.type&40?$i(t,n):null}var B1=j1,k_;function dg(t,e,n,r){let i=DC(t,r,e),o=e[rn],s=r.parent||e[Lt],a=TC(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)x_(o,i,n[l],a,!1);else x_(o,i,n,a,!1);k_!==void 0&&k_(o,r,e,n,i)}function Oa(t,e){if(e!==null){let n=e.type;if(n&3)return $i(e,t);if(n&4)return ym(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Oa(t,r);{let i=t[e.index];return pr(i)?ym(-1,i):Qr(i)}}else{if(n&128)return Oa(t,e.next);if(n&32)return cg(e,t)()||Qr(t[e.index]);{let r=SC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Fi(t[on]);return Oa(i,r)}else return Oa(t,e.next)}}}return null}function SC(t,e){if(e!==null){let r=t[on][Lt],i=e.projection;return r.projection[i]}return null}function ym(t,e){let n=Ht+t+1;if(n<e.length){let r=e[n],i=r[de].firstChild;if(i!==null)return Oa(r,i)}return e[Ni]}function hg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&Za(Qr(a),r),n.flags|=2),!lg(n))if(l&8)hg(t,e,n.child,r,i,o,!1),Ko(e,t,i,a,o);else if(l&32){let u=cg(n,r),h;for(;h=u();)Ko(e,t,i,h,o);Ko(e,t,i,a,o)}else l&16?AC(t,e,r,n,i,o):Ko(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Qu(t,e,n,r,i,o){hg(n,r,t.firstChild,e,i,o,!1)}function U1(t,e,n){let r=e[rn],i=DC(t,n,e),o=n.parent||e[Lt],s=TC(o,n,e);AC(r,0,e,n,i,s)}function AC(t,e,n,r,i,o){let s=n[on],l=s[Lt].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let h=l[u];Ko(e,t,i,h,o)}else{let u=l,h=s[Dt];QE(r)&&(u.flags|=128),hg(t,e,u,h,i,o,!0)}}function $1(t,e,n,r,i){let o=n[Ni],s=Qr(n);o!==s&&Ko(e,t,r,o,i);for(let a=Ht;a<n.length;a++){let l=n[a];Qu(l[de],l,t,e,r,o)}}function Fu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Qr(o)),pr(o)&&z1(o,r);let s=n.type;if(s&8)Fu(t,e,n.child,r);else if(s&32){let a=cg(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=SC(e,n);if(Array.isArray(a))r.push(...a);else{let l=Fi(e[on]);Fu(l[de],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function z1(t,e){for(let n=Ht;n<t.length;n++){let r=t[n],i=r[de].firstChild;i!==null&&Fu(r[de],r,i,e)}t[Ni]!==t[fr]&&e.push(t[Ni])}function xC(t){if(t[Wr]!==null){for(let e of t[Wr])e.impl.addSequence(e);t[Wr].length=0}}var kC=[];function H1(t){var e;return(e=t[nn])!=null?e:q1(t)}function q1(t){var n;let e=(n=kC.pop())!=null?n:Object.create(W1);return e.lView=t,e}function G1(t){t.lView[nn]!==t&&(t.lView=null,kC.push(t))}var W1=ye(j({},Bl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ka(t.lView)},consumerOnSignalRead(){this.lView[nn]=this}});function K1(t){var n;let e=(n=t[nn])!=null?n:Object.create(Y1);return e.lView=t,e}var Y1=ye(j({},Bl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Fi(t.lView);for(;e&&!RC(e[de]);)e=Fi(e);e&&pE(e)},consumerOnSignalRead(){this.lView[nn]=this}});function RC(t){return t.type!==2}function MC(t){if(t[Su]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Su])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ie]&8192)}}var Q1=100;function PC(t,e=!0,n=0){var s,a;let i=t[Yr].rendererFactory,o=!1;o||(s=i.begin)==null||s.call(i);try{Z1(t,n)}catch(l){throw e&&A1(t,l),l}finally{o||(a=i.end)==null||a.call(i)}}function Z1(t,e){let n=wE();try{m_(!0),Im(t,e);let r=0;for(;Wu(t);){if(r===Q1)throw new W(103,!1);r++,Im(t,1)}}finally{m_(n)}}function X1(t,e,n,r){if(ts(e))return;let i=e[ie],o=!1,s=!1;zm(e);let a=!0,l=null,u=null;o||(RC(t)?(u=H1(e),l=vp(u)):pp()===null?(a=!1,u=K1(e),l=vp(u)):e[nn]&&(Ip(e[nn]),e[nn]=null));try{fE(e),iN(t.bindingStartIndex),n!==null&&yC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let m=t.preOrderCheckHooks;m!==null&&vu(e,m,null)}else{let m=t.preOrderHooks;m!==null&&yu(e,m,0,null),Up(e,0)}if(s||J1(e),MC(e),NC(e,0),t.contentQueries!==null&&aC(t,e),!o)if(h){let m=t.contentCheckHooks;m!==null&&vu(e,m)}else{let m=t.contentHooks;m!==null&&yu(e,m,1),Up(e,1)}tO(t,e);let f=t.components;f!==null&&FC(e,f,0);let v=t.viewQuery;if(v!==null&&mm(2,v,r),!o)if(h){let m=t.viewCheckHooks;m!==null&&vu(e,m)}else{let m=t.viewHooks;m!==null&&yu(e,m,2),Up(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Bp]){for(let m of e[Bp])m();e[Bp]=null}o||(xC(e),e[ie]&=-73)}catch(h){throw o||Ka(e),h}finally{u!==null&&(Tw(u,l),a&&G1(u)),Hm()}}function NC(t,e){for(let n=JE(t);n!==null;n=eC(n))for(let r=Ht;r<n.length;r++){let i=n[r];OC(i,e)}}function J1(t){for(let e=JE(t);e!==null;e=eC(e)){if(!(e[ie]&2))continue;let n=e[Xo];for(let r=0;r<n.length;r++){let i=n[r];pE(i)}}}function eO(t,e,n){Me(18);let r=Oi(e,t);OC(r,n),Me(19,r[gn])}function OC(t,e){Um(t)&&Im(t,e)}function Im(t,e){let r=t[de],i=t[ie],o=t[nn],s=!!(e===0&&i&16);if(s||(s=!!(i&64&&e===0)),s||(s=!!(i&1024)),s||(s=!!(o!=null&&o.dirty&&yp(o))),s||(s=!1),o&&(o.dirty=!1),t[ie]&=-9217,s)X1(r,t,r.template,t[gn]);else if(i&8192){MC(t),NC(t,1);let a=r.components;a!==null&&FC(t,a,1),xC(t)}}function FC(t,e,n){for(let r=0;r<e.length;r++)eO(t,e[r],n)}function tO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Li(~i);else{let o=i,s=n[++r],a=n[++r];sN(s,o);let l=e[o];Me(24,l),a(2,l),Me(25,l)}}}finally{Li(-1)}}function LC(t,e){var r;let n=wE()?64:1088;for((r=t[Yr].changeDetectionScheduler)==null||r.notify(e);t;){t[ie]|=n;let i=Fi(t);if(xu(t)&&!i)return t;t=i}return null}function VC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function jC(t,e,n,r=!0){let i=e[de];if(nO(i,e,t,n),r){let s=ym(n,t),a=e[rn],l=a.parentNode(t[Ni]);l!==null&&N1(i,t[Lt],a,e,l,s)}let o=e[Ba];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function bm(t,e){if(t.length<=Ht)return;let n=Ht+e,r=t[n];if(r){let i=r[Pi];i!==null&&i!==t&&ug(i,r),e>0&&(t[n-1][pn]=r[pn]);let o=Du(t,Ht+e);P1(r[de],r);let s=o[mn];s!==null&&s.detachView(o[de]),r[Dt]=null,r[pn]=null,r[ie]&=-129}return r}function nO(t,e,n,r){let i=Ht+r,o=n.length;r>0&&(n[i-1][pn]=e),r<o-Ht?(e[pn]=n[i],Z_(n,Ht+r,e)):(n.push(e),e[pn]=null),e[Dt]=n;let s=e[Pi];s!==null&&n!==s&&BC(s,e);let a=e[mn];a!==null&&a.insertView(t),nm(e),e[ie]|=128}function BC(t,e){let n=t[Xo],r=e[Dt];if(Ri(r))t[ie]|=2;else{let i=r[Dt][on];e[on]!==i&&(t[ie]|=2)}n===null?t[Xo]=[e]:n.push(e)}var Ha=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[de];return Fu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[gn]}set context(e){this._lView[gn]=e}get destroyed(){return ts(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Dt];if(pr(e)){let n=e[Au],r=n?n.indexOf(this):-1;r>-1&&(bm(e,r),Du(n,r))}this._attachedToViewContainer=!1}CC(this._lView[de],this._lView)}onDestroy(e){mE(this._lView,e)}markForCheck(){LC(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){nm(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,PC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=xu(this._lView),n=this._lView[Pi];n!==null&&!e&&ug(n,this._lView),EC(this._lView[de],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e;let n=xu(this._lView),r=this._lView[Pi];r!==null&&!n&&BC(r,this._lView),nm(this._lView)}};var Jo=(()=>{class t{}return k(t,"__NG_ELEMENT_ID__",oO),t})(),rO=Jo,iO=class extends rO{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return((e=this._declarationTContainer.tView)==null?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=_C(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ha(i)}};function oO(){return fg(mr(),gt())}function fg(t,e){return t.type&4?new iO(e,t,os(t,e)):null}function Zu(t,e,n,r,i){let o=t.data[e];if(o===null)o=sO(t,e,n,r,i),oN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=rN();o.injectorIndex=s===null?-1:s.injectorIndex}return Ya(o,!0),o}function sO(t,e,n,r,i){let o=yE(),s=IE(),a=s?o:o&&o.parent,l=t.data[e]=cO(t,a,n,e,r,i);return aO(t,l,o,s),l}function aO(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function cO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return vE()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var n7=new RegExp(`^(\\d+)*(${WN}|${GN})*(.*)`);var lO=()=>null;function wm(t,e){return lO(t,e)}var uO=class{},UC=class{},_m=class{resolveComponentFactory(e){throw Error(`No component factory found for ${zt(e)}.`)}},Gp,Xu=(Gp=class{},k(Gp,"NULL",new _m),Gp),es=class{};var dO=(()=>{let e=class e{};k(e,"\u0275prov",q({token:e,providedIn:"root",factory:()=>null}));let t=e;return t})();var Hp={},Em=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=$u(r);let i=this.injector.get(e,Hp,r);return i!==Hp||n===Hp?i:this.parentInjector.get(e,n,r)}};function R_(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=s_(i,a);else if(o==2){let l=a,u=e[++s];r=s_(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Re(t,e=se.Default){let n=gt();if(n===null)return J(t,e);let r=mr();return VE(r,n,tn(t),e)}function $C(){let t="invalid";throw new Error(t)}function zC(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,l=null,u=null,h=fO(s);h===null?a=s:[a,l,u]=h,gO(t,e,n,a,o,l,u)}o!==null&&r!==null&&hO(n,r,o)}function hO(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new W(-301,!1);r.push(e[i],o)}}function fO(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&Ui(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r!=null||(r=[]),i!=null||(i=new Map),o!=null||(o=new Map),pO(s,r,o,i)),s===e&&(r!=null||(r=[]),r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function pO(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function mO(t,e,n){var r;e.componentOffset=n,((r=t.components)!=null?r:t.components=[]).push(e.index)}function gO(t,e,n,r,i,o,s){var v,m;let a=r.length,l=!1;for(let C=0;C<a;C++){let D=r[C];!l&&Ui(D)&&(l=!0,mO(t,n,C)),_N(NE(n,e),t,D.type)}_O(n,t.data.length,a);for(let C=0;C<a;C++){let D=r[C];D.providersResolver&&D.providersResolver(D)}let u=!1,h=!1,f=vC(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let C=0;C<a;C++){let D=r[C];if(n.mergedAttrs=Wm(n.mergedAttrs,D.hostAttrs),yO(t,n,e,f,D),wO(f,D,i),s!==null&&s.has(D)){let[M,F]=s.get(D);n.directiveToIndex.set(D.type,[f,M+n.directiveStart,F+n.directiveStart])}else(o===null||!o.has(D))&&n.directiveToIndex.set(D.type,f);D.contentQueries!==null&&(n.flags|=4),(D.hostBindings!==null||D.hostAttrs!==null||D.hostVars!==0)&&(n.flags|=64);let S=D.type.prototype;!u&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&(((v=t.preOrderHooks)!=null?v:t.preOrderHooks=[]).push(n.index),u=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&(((m=t.preOrderCheckHooks)!=null?m:t.preOrderCheckHooks=[]).push(n.index),h=!0),f++}vO(t,n,o)}function vO(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))M_(0,e,i,r),M_(1,e,i,r),N_(e,r,!1);else{let o=n.get(i);P_(0,e,o,r),P_(1,e,o,r),N_(e,r,!0)}}}function M_(t,e,n,r){var o,s,a;let i=t===0?n.inputs:n.outputs;for(let l in i)if(i.hasOwnProperty(l)){let u;t===0?u=(o=e.inputs)!=null?o:e.inputs={}:u=(s=e.outputs)!=null?s:e.outputs={},(a=u[l])!=null||(u[l]=[]),u[l].push(r),HC(e,l)}}function P_(t,e,n,r){var o,s,a;let i=t===0?n.inputs:n.outputs;for(let l in i)if(i.hasOwnProperty(l)){let u=i[l],h;t===0?h=(o=e.hostDirectiveInputs)!=null?o:e.hostDirectiveInputs={}:h=(s=e.hostDirectiveOutputs)!=null?s:e.hostDirectiveOutputs={},(a=h[u])!=null||(h[u]=[]),h[u].push(r,l),HC(e,u)}}function HC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function N_(t,e,n){var l,u;let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||ng(t)){(l=t.initialInputs)!=null||(t.initialInputs=[]),t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let h=r[a];if(h===0){a+=4;continue}else if(h===5){a+=2;continue}else if(typeof h=="number")break;if(!n&&i.hasOwnProperty(h)){let f=i[h];for(let v of f)if(v===e){s!=null||(s=[]),s.push(h,r[a+1]);break}}else if(n&&o.hasOwnProperty(h)){let f=o[h];for(let v=0;v<f.length;v+=2)if(f[v]===e){s!=null||(s=[]),s.push(f[v+1],r[a+1]);break}}a+=2}(u=t.initialInputs)!=null||(t.initialInputs=[]),t.initialInputs.push(s)}function yO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qo(i.type,!0)),s=new za(o,Ui(i),Re);t.blueprint[r]=s,n[r]=s,IO(t,e,r,vC(t,n,i.hostVars,hC),i)}function IO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;bO(s)!=a&&s.push(a),s.push(n,r,o)}}function bO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function wO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ui(e)&&(n[""]=t)}}function _O(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function qC(t,e,n,r,i,o,s,a){let l=e.consts,u=tm(l,s),h=Zu(e,t,2,r,u);return o&&zC(e,n,h,tm(l,a),i),h.mergedAttrs=Wm(h.mergedAttrs,h.attrs),h.attrs!==null&&R_(h,h.attrs,!1),h.mergedAttrs!==null&&R_(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function GC(t,e){xE(t,e),aE(e)&&t.queries.elementEnd(e)}var Lu=class extends Xu{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kr(e);return new ji(n,this.ngModule)}};function EO(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Yu.SignalBased)!==0};return i&&(o.transform=i),o})}function CO(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function DO(t,e,n){let r=e instanceof Ge?e:e==null?void 0:e.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Em(n,r):n}function TO(t){let e=t.get(es,null);if(e===null)throw new W(407,!1);let n=t.get(dO,null),r=t.get(Vi,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function SO(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return fC(e,n,n==="svg"?zP:n==="math"?HP:null)}var ji=class extends UC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){var e;return(e=this.cachedInputs)!=null||(this.cachedInputs=EO(this.componentDef.inputs)),this.cachedInputs}get outputs(){var e;return(e=this.cachedOutputs)!=null||(this.cachedOutputs=CO(this.componentDef.outputs)),this.cachedOutputs}constructor(e,n){var r;super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=d1(e.selectors),this.ngContentSelectors=(r=e.ngContentSelectors)!=null?r:[],this.isBoundToModule=!!n}create(e,n,r,i){Me(22);let o=_e(null);try{let s=this.componentDef,a=r?["ng-version","19.2.9"]:h1(this.componentDef.selectors[0]),l=rg(0,null,null,1,0,null,null,null,null,[a],null),u=DO(s,i||this.ngModule,e),h=TO(u),f=h.rendererFactory.createRenderer(null,s),v=r?w1(f,r,s.encapsulation,u):SO(s,f),m=ig(null,l,null,512|gC(s),null,null,h,f,u,null,sC(v,u,!0));m[vn]=v,zm(m);let C=null;try{let D=qC(vn,l,m,"#host",()=>[this.componentDef],!0,0);v&&(mC(f,v,D),Za(v,m)),sg(l,m,D),cC(l,D,m),GC(l,D),n!==void 0&&AO(D,this.ngContentSelectors,n),C=Oi(D.index,m),m[gn]=C[gn],ag(l,m,null)}catch(D){throw C!==null&&hm(C),hm(m),D}finally{Me(23),Hm()}return new Cm(this.componentType,m)}finally{_e(o)}}},Cm=class extends uO{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=qP(n[de],vn),this.location=os(this._tNode,n),this.instance=Oi(this._tNode.index,n)[gn],this.hostView=this.changeDetectorRef=new Ha(n,void 0,!1),this.componentType=e}setInput(e,n){var a;let r=this._tNode;if((a=this.previousInputValues)!=null||(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=wC(r,i[de],i,e,n);this.previousInputValues.set(e,n);let s=Oi(r.index,i);LC(s,1)}get injector(){return new Mi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function AO(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Xr=(()=>{class t{}return k(t,"__NG_ELEMENT_ID__",xO),t})();function xO(){let t=mr();return KC(t,gt())}var kO=Xr,WC=class extends kO{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return os(this._hostTNode,this._hostLView)}get injector(){return new Mi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Km(this._hostTNode,this._hostLView);if(RE(e)){let n=Ru(e,this._hostLView),r=ku(e),i=n[de].data[r+8];return new Mi(i,n)}else return new Mi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=O_(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ht}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=wm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,vm(this._hostTNode,s)),a}createComponent(e,n,r,i,o){var C,D,S;let s=e&&!jP(e),a;if(s)a=n;else{let M=n||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let l=s?e:new ji(Kr(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let F=(s?u:this.parentInjector).get(Ge,null);F&&(o=F)}let h=Kr((C=l.componentType)!=null?C:{}),f=wm(this._lContainer,(D=h==null?void 0:h.id)!=null?D:null),v=(S=f==null?void 0:f.firstChild)!=null?S:null,m=l.create(u,i,v,o);return this.insertImpl(m.hostView,a,vm(this._hostTNode,f)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(WP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Dt],u=new WC(l,l[Lt],l[Dt]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return jC(s,i,o,r),e.attachToViewContainerRef(),Z_(qp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=O_(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bm(this._lContainer,n);r&&(Du(qp(this._lContainer),n),CC(r[de],r))}detach(e){let n=this._adjustIndex(e,-1),r=bm(this._lContainer,n);return r&&Du(qp(this._lContainer),n)!=null?new Ha(r):null}_adjustIndex(e,n=0){return e==null?this.length+n:e}};function O_(t){return t[Au]}function qp(t){return t[Au]||(t[Au]=[])}function KC(t,e){let n,r=e[t.index];return pr(r)?n=r:(n=VC(r,e,null,t),e[t.index]=n,og(e,n)),MO(n,e,t,r),new WC(n,t,e)}function RO(t,e){let n=t[rn],r=n.createComment(""),i=$i(e,t),o=n.parentNode(i);return Ou(n,o,r,n.nextSibling(i),!1),r}var MO=OO,PO=()=>!1;function NO(t,e,n){return PO(t,e,n)}function OO(t,e,n,r){if(t[Ni])return;let i;n.type&8?i=Qr(r):i=RO(e,n),t[Ni]=i}var Dm=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Tm=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)pg(e,n).matches!==null&&this.queries[n].setDirty()}},Sm=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=zO(e):this.predicate=e}},Am=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},xm=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,FO(n,o)),this.matchTNodeWithReadOption(e,n,Iu(n,e,o,!1,!1))}else r===Jo?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Iu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===ut||i===Xr||i===Jo&&n.type&4)this.addMatch(n.index,-2);else{let o=Iu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function FO(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function LO(t,e){return t.type&11?os(t,e):t.type&4?fg(t,e):null}function VO(t,e,n,r){return n===-1?LO(e,t):n===-2?jO(t,e,r):Mu(t,t[de],n,e)}function jO(t,e,n){if(n===ut)return os(e,t);if(n===Jo)return fg(e,t);if(n===Xr)return KC(e,t)}function YC(t,e,n,r){let i=e[mn].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let h=o[u];a.push(VO(e,h,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function km(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=YC(t,e,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],h=e[-l];for(let f=Ht;f<h.length;f++){let v=h[f];v[Pi]===v[Dt]&&km(v[de],v,u,r)}if(h[Xo]!==null){let f=h[Xo];for(let v=0;v<f.length;v++){let m=f[v];km(m[de],m,u,r)}}}}}return r}function BO(t,e){return t[mn].queries[e].queryList}function UO(t,e,n){var o;let r=new dm((n&4)===4);return ZP(t,e,r,r.destroy),((o=e[mn])!=null?o:e[mn]=new Tm).queries.push(new Dm(r))-1}function $O(t,e,n){let r=rs();return r.firstCreatePass&&(HO(r,new Sm(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),UO(r,gt(),e)}function zO(t){return t.split(",").map(e=>e.trim())}function HO(t,e,n){t.queries===null&&(t.queries=new Am),t.queries.track(new xm(e,n))}function pg(t,e){return t.queries.getByIndex(e)}function qO(t,e){let n=t[de],r=pg(n,e);return r.crossesNgTemplate?km(n,t,e,[]):YC(n,t,r,e)}var qa=class{},mg=class{};var Rm=class extends qa{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Lu(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=eE(e);this._bootstrapComponents=lC(o.bootstrap),this._r3Injector=UE(e,n,[{provide:qa,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver},...r],zt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Mm=class extends mg{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Rm(this.moduleType,e,[])}};var Vu=class extends qa{injector;componentFactoryResolver=new Lu(this);instance=null;constructor(e){super();let n=new ja([...e.providers,{provide:qa,useValue:this},{provide:Xu,useValue:this.componentFactoryResolver}],e.parent||Hu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ja(t,e,n=null){return new Vu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var GO=(()=>{let e=class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=tE(!1,r.type),o=i.length>0?Ja([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};k(e,"\u0275prov",q({token:e,providedIn:"environment",factory:()=>new e(J(Ge))}));let t=e;return t})();function jn(t){return Ga(()=>{var i;let e=QC(t),n=ye(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===ZE.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(GO).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:(i=t.signals)!=null?i:!1,data:t.data||{},encapsulation:t.encapsulation||Vn.Emulated,styles:t.styles||Fn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Xa("NgStandalone"),ZC(n);let r=t.dependencies;return n.directiveDefs=F_(r,!1),n.pipeDefs=F_(r,!0),n.id=ZO(n),n})}function WO(t){return Kr(t)||SP(t)}function KO(t){return t!==null}function gr(t){return Ga(()=>({type:t.type,bootstrap:t.bootstrap||Fn,declarations:t.declarations||Fn,imports:t.imports||Fn,exports:t.exports||Fn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function YO(t,e){var r;if(t==null)return Zo;let n={};for(let i in t)if(t.hasOwnProperty(i)){let o=t[i],s,a,l,u;Array.isArray(o)?(l=o[0],s=o[1],a=(r=o[2])!=null?r:s,u=o[3]||null):(s=o,a=o,l=Yu.None,u=null),n[s]=[i,l,u],e[s]=a}return n}function QO(t){if(t==null)return Zo;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Hi(t){return Ga(()=>{let e=QC(t);return ZC(e),e})}function QC(t){var n;let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Zo,exportAs:t.exportAs||null,standalone:(n=t.standalone)!=null?n:!0,signals:t.signals===!0,selectors:t.selectors||Fn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:YO(t.inputs,e),outputs:QO(t.outputs),debugInfo:null}}function ZC(t){var e;(e=t.features)==null||e.forEach(n=>n(t))}function F_(t,e){if(!t)return null;let n=e?AP:WO;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(KO)}function ZO(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function XO(t,e,n,r,i,o,s,a,l){let u=e.consts,h=Zu(e,t,4,s||null,a||null);gE()&&zC(e,n,h,tm(u,l),bC),h.mergedAttrs=Wm(h.mergedAttrs,h.attrs),xE(e,h);let f=h.tView=rg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),f.queries=e.queries.embeddedTView(h)),h}function JO(t,e,n,r,i,o,s,a,l,u){let h=n+vn,f=e.firstCreatePass?XO(h,e,t,r,i,o,s,a,l):e.data[h];Ya(f,!1);let v=eF(e,t,f,n);qm()&&dg(e,t,v,f),Za(v,t);let m=VC(v,t,v,f);return t[h]=m,og(t,m),NO(m,f,t),cE(f)&&sg(e,t,f),l!=null&&IC(t,f,u),f}var eF=tF;function tF(t,e,n,r){return Gm(!0),e[rn].createComment("")}var XC=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"platform"}));let t=e;return t})();var JC=new G("");var nF=(()=>{let e=class e{};k(e,"\u0275prov",q({token:e,providedIn:"root",factory:()=>new Pm}));let t=e;return t})(),Pm=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function ec(t){return!!t&&typeof t.then=="function"}function rF(t){return!!t&&typeof t.subscribe=="function"}var Ju=new G("");function gg(t){return yn([{provide:Ju,multi:!0,useValue:t}])}var eD=(()=>{var e;let n=class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o});appInits=(e=P(Ju,{optional:!0}))!=null?e:[];injector=P(ke);constructor(){}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let a=Tt(this.injector,s);if(ec(a))i.push(a);else if(rF(a)){let l=new Promise((u,h)=>{a.subscribe({complete:u,error:h})});i.push(l)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(s=>{this.reject(s)}),i.length===0&&o(),this.initialized=!0}};k(n,"\u0275fac",function(o){return new(o||n)}),k(n,"\u0275prov",q({token:n,factory:n.\u0275fac,providedIn:"root"}));let t=n;return t})(),ed=new G("");function iF(){bp(()=>{throw new W(600,!1)})}function oF(t){return t.isBoundToModule}var sF=10;var dr=(()=>{let e=class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(ON);afterRenderManager=P(oC);zonelessEnabled=P(zE);rootEffectScheduler=P(nF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new at;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=P(zi).hasPendingTasks.pipe(le(r=>!r));constructor(){P(ss,{optional:!0})}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}_injector=P(Ge);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,i){return this.bootstrapImpl(r,i)}bootstrapImpl(r,i,o=ke.NULL){Me(10);let s=r instanceof UC;if(!this._injector.get(eD).done){let C="";throw new W(405,C)}let l;s?l=r:l=this._injector.get(Xu).resolveComponentFactory(r),this.componentTypes.push(l.componentType);let u=oF(l)?void 0:this._injector.get(qa),h=i||l.selector,f=l.create(o,[],h,u),v=f.location.nativeElement,m=f.injector.get(JC,null);return m==null||m.registerApplication(v),f.onDestroy(()=>{this.detachView(f.hostView),bu(this.components,f),m==null||m.unregisterApplication(v)}),this._loadComponent(f),Me(11,f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Me(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(eg.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{var i;if(this._runningTick)throw new W(101,!1);let r=_e(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,(i=this.tracingSnapshot)==null||i.dispose(),this.tracingSnapshot=null,_e(r),this.afterTick.next(),Me(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(es,null,{optional:!0}));let r=0;for(;this.dirtyFlags!==0&&r++<sF;)Me(14),this.synchronizeOnce(),Me(15)}synchronizeOnce(){var r,i,o,s;if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let a=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:l,notifyErrorHandler:u}of this.allViews)aF(l,u,a,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else(i=(r=this._rendererFactory)==null?void 0:r.begin)==null||i.call(r),(s=(o=this._rendererFactory)==null?void 0:o.end)==null||s.call(o);this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Wu(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;bu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(ed,[]).forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>bu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new W(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();function bu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function aF(t,e,n,r){if(!n&&!Wu(t))return;PC(t,e,n&&!r?0:1)}function L_(t,e,n,r,i){wC(e,t,n,i?"class":"style",r)}function vg(t,e,n,r){let i=gt(),o=rs(),s=vn+t,a=i[rn],l=o.firstCreatePass?qC(s,o,i,e,bC,gE(),n,r):o.data[s],u=cF(o,i,l,a,e,t);i[s]=u;let h=cE(l);return Ya(l,!0),mC(a,u,l),!lg(l)&&qm()&&dg(o,i,u,l),(XP()===0||h)&&Za(u,i),JP(),h&&(sg(o,i,l),cC(o,l,i)),r!==null&&IC(i,l),vg}function yg(){let t=mr();IE()?bE():(t=t.parent,Ya(t,!1));let e=t;tN(e)&&nN(),eN();let n=rs();return n.firstCreatePass&&GC(n,e),e.classesWithoutHost!=null&&fN(e)&&L_(n,e,gt(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&pN(e)&&L_(n,e,gt(),e.stylesWithoutHost,!1),yg}function Ig(t,e,n,r){return vg(t,e,n,r),yg(),Ig}var cF=(t,e,n,r,i,o)=>(Gm(!0),fC(r,i,uN()));var V_={};function tD(t,e,n){typeof e!="string"&&(n=e,e=t[Nm.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),V_[e]=t,n&&(V_[e][Nm.ExtraData]=n)}var Nm=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Nm||{});var ju="en-US";var lF=ju;function uF(t){typeof t=="string"&&(lF=t.toLowerCase().replace(/_/g,"-"))}function dF(t,e){let n=null,r=s1(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?dC(t,o,!0):l1(r,o))return i}return n}function Jr(t){let e=gt()[on][Lt];if(!e.projection){let n=t?t.length:1,r=e.projection=TP(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?dF(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function ei(t,e=0,n,r,i,o){let s=gt(),a=rs(),l=r?t+1:null;l!==null&&JO(s,a,l,r,i,o,null,n);let u=Zu(a,vn+t,16,null,n||null);u.projection===null&&(u.projection=e),bE();let f=!s[Ba]||vE();s[on][Lt].projection[u.projection]===null&&l!==null?hF(s,a,l):f&&!lg(u)&&U1(a,s,u)}function hF(t,e,n){let r=vn+n,i=e.data[r],o=t[r],s=wm(o,i.tView.ssrId),a=_C(t,i,void 0,{dehydratedView:s});jC(o,a,0,vm(i,s))}function nD(t,e,n){$O(t,e,n)}function bg(t){let e=gt(),n=rs(),r=_E();$m(r+1);let i=pg(n,r);if(t.dirty&&GP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=qO(e,r);t.reset(o,VN),t.notifyOnChanges()}return!0}return!1}function wg(){return BO(gt(),_E())}function l7(t,e=""){let n=gt(),r=rs(),i=t+vn,o=r.firstCreatePass?Zu(r,i,1,e,null):r.data[i],s=fF(r,n,o,e,t);n[i]=s,qm()&&dg(r,n,s,o),Ya(o,!1)}var fF=(t,e,n,r,i)=>(Gm(!0),f1(e[rn],r));var Bi=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},rD=new Bi("19.2.9"),Om=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},iD=(()=>{let e=class e{compileModuleSync(r){return new Mm(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=eE(r),s=lC(o.declarations).reduce((a,l)=>{let u=Kr(l);return u&&a.push(new ji(u)),a},[]);return new Om(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();var pF=(()=>{let e=class e{zone=P(oe);changeDetectionScheduler=P(Vi);applicationRef=P(dr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var r;(r=this._onMicrotaskEmptySubscription)==null||r.unsubscribe()}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();function mF({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t!=null||(t=()=>new oe(ye(j({},gF()),{scheduleInRootZone:n}))),[{provide:oe,useFactory:t},{provide:Va,multi:!0,useFactory:()=>{let r=P(pF,{optional:!0});return()=>r.initialize()}},{provide:Va,multi:!0,useFactory:()=>{let r=P(vF);return()=>{r.initialize()}}},e===!0?{provide:HE,useValue:!0}:[],{provide:qE,useValue:n!=null?n:$E}]}function gF(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:(e=t==null?void 0:t.eventCoalescing)!=null?e:!1,shouldCoalesceRunChangeDetection:(n=t==null?void 0:t.runCoalescing)!=null?n:!1}}var vF=(()=>{let e=class e{subscription=new qe;initialized=!1;zone=P(oe);pendingTasks=P(zi);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),r!=null||(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();var yF=(()=>{var e,n,r;let i=class i{appRef=P(dr);taskService=P(zi);ngZone=P(oe);zonelessEnabled=P(zE);tracing=P(ss,{optional:!0});disableScheduling=(e=P(HE,{optional:!0}))!=null?e:!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new qe;angularZoneId=this.zoneIsDefined?(n=this.ngZone._inner)==null?void 0:n.get(Nu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((r=P(qE,{optional:!0}))!=null?r:!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof um||!this.zoneIsDefined))}notify(s){var u,h;if(!this.zonelessEnabled&&s===5)return;let a=!1;switch(s){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,a=!0;break}case 12:{this.appRef.dirtyFlags|=16,a=!0;break}case 13:{this.appRef.dirtyFlags|=2,a=!0;break}case 11:{a=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=(h=(u=this.tracing)==null?void 0:u.snapshot(this.appRef.tracingSnapshot))!=null?h:null,!this.shouldScheduleTick(a))return;let l=this.useMicrotaskScheduler?__:GE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>l(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>l(()=>this.tick()))}shouldScheduleTick(s){return!(this.disableScheduling&&!s||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Nu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(s),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,__(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var s;if(this.runningTick=!1,(s=this.cancelScheduledCallback)==null||s.call(this),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}};k(i,"\u0275fac",function(a){return new(a||i)}),k(i,"\u0275prov",q({token:i,factory:i.\u0275fac,providedIn:"root"}));let t=i;return t})();function IF(){return typeof $localize<"u"&&$localize.locale||ju}var oD=new G("",{providedIn:"root",factory:()=>P(oD,se.Optional|se.SkipSelf)||IF()});var Fm=new G(""),bF=new G("");function Pa(t){return!t.moduleRef}function wF(t){let e=Pa(t)?t.r3Injector:t.moduleRef.injector,n=e.get(oe);return n.run(()=>{Pa(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(ur,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Pa(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Fm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Fm);s.add(o),t.moduleRef.onDestroy(()=>{bu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return EF(r,n,()=>{let o=e.get(eD);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(oD,ju);if(uF(s||ju),!e.get(bF,!0))return Pa(t)?e.get(dr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Pa(t)){let l=e.get(dr);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return _F(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function _F(t,e){let n=t.injector.get(dr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new W(-403,!1);e.push(t)}function EF(t,e,n){try{let r=n();return ec(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var wu=null;function CF(t=[],e){return ke.create({name:e,providers:[{provide:zu,useValue:"platform"},{provide:Fm,useValue:new Set([()=>wu=null])},...t]})}function DF(t=[]){if(wu)return wu;let e=CF(t);return wu=e,iF(),TF(e),e}function TF(t){let e=t.get(Xm,null);Tt(t,()=>{e==null||e.forEach(n=>n())})}function _g(){return!1}var Mt=(()=>{class t{}return k(t,"__NG_ELEMENT_ID__",SF),t})();function SF(t){return AF(mr(),gt(),(t&16)===16)}function AF(t,e,n){if(Gu(t)&&!n){let r=Oi(t.index,e);return new Ha(r,r)}else if(t.type&175){let r=e[on];return new Ha(r,e)}return null}function sD(t){Me(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=DF(r),o=[mF({}),{provide:Vi,useExisting:yF},...n||[]],s=new Vu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return wF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Me(9)}}var j_=class{[Nn];constructor(e){this[Nn]=e}destroy(){this[Nn].destroy()}};function aD(t,e){let n=Kr(t),r=e.elementInjector||Hu();return new ji(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function td(t){let e=Kr(t);if(!e)return null;let n=new ji(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var cD=()=>{};var uD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xF=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4,v=(a&15)<<2|u>>6,m=u&63;l||(m=64,s||(v=64)),r.push(n[h],n[f],n[v],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(uD(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new Cg;let v=o<<2|a>>4;if(r.push(v),u!==64){let m=a<<4&240|u>>2;if(r.push(m),f!==64){let C=u<<6&192|f;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Cg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},kF=function(t){let e=uD(t);return nd.encodeByteArray(e,!0)},tc=function(t){return kF(t).replace(/\./g,"")},rd=function(t){try{return nd.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tg(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var RF=()=>Tg().__FIREBASE_DEFAULTS__,MF=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&rd(t[1]);return e&&JSON.parse(e)},id=()=>{try{return cD()||RF()||MF()||PF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dD=t=>{var e,n;return(n=(e=id())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},od=t=>{let e=dD(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Sg=()=>{var t;return(t=id())===null||t===void 0?void 0:t.config},hD=t=>{var e;return(e=id())===null||e===void 0?void 0:e[`_${t}`]};var qi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function sd(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[tc(JSON.stringify(n)),tc(JSON.stringify(s)),""].join(".")}function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function NF(){var t;let e=(t=id())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vD(){return!NF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nc(){try{return typeof indexedDB=="object"}catch{return!1}}function yD(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var OF="FirebaseError",Vt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OF,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bn.prototype.create)}},bn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?FF(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Vt(i,a,r)}};function FF(t,e){return t.replace(LF,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var LF=/\{\$([^}]+)}/g;function Gi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(lD(o)&&lD(s)){if(!Gi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function lD(t){return t!==null&&typeof t=="object"}function Ag(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ID(t,e){let n=new Dg(t,e);return n.subscribe.bind(n)}var Dg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");VF(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Eg),i.error===void 0&&(i.error=Eg),i.complete===void 0&&(i.complete=Eg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function VF(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Eg(){}var f7=4*60*60*1e3;function We(t){return t&&t._delegate?t._delegate:t}var vt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Wi="[DEFAULT]";var xg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new qi;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(BF(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Wi){return this.instances.has(e)}getOptions(e=Wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wi){return this.component?this.component.multipleInstances?e:Wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jF(t){return t===Wi?void 0:t}function BF(t){return t.instantiationMode==="EAGER"}var ad=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new xg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var UF=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),$F={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},zF=ue.INFO,HF={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},qF=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=HF[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Bn=class{constructor(e){this.name=e,this._logLevel=zF,this._logHandler=qF,this._userLogHandler=null,UF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$F[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var GF=(t,e)=>e.some(n=>t instanceof n),bD,wD;function WF(){return bD||(bD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KF(){return wD||(wD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var _D=new WeakMap,Rg=new WeakMap,ED=new WeakMap,kg=new WeakMap,Pg=new WeakMap;function YF(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Un(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&_D.set(n,t)}).catch(()=>{}),Pg.set(e,t),e}function QF(t){if(Rg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Rg.set(t,e)}var Mg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Rg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ED.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CD(t){Mg=t(Mg)}function ZF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(cd(this),e,...n);return ED.set(r,e.sort?e.sort():[e]),Un(r)}:KF().includes(t)?function(...e){return t.apply(cd(this),e),Un(_D.get(this))}:function(...e){return Un(t.apply(cd(this),e))}}function XF(t){return typeof t=="function"?ZF(t):(t instanceof IDBTransaction&&QF(t),GF(t,WF())?new Proxy(t,Mg):t)}function Un(t){if(t instanceof IDBRequest)return YF(t);if(kg.has(t))return kg.get(t);let e=XF(t);return e!==t&&(kg.set(t,e),Pg.set(e,t)),e}var cd=t=>Pg.get(t);function TD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Un(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Un(s.result),l.oldVersion,l.newVersion,Un(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var JF=["get","getKey","getAll","getAllKeys","count"],eL=["put","add","delete","clear"],Ng=new Map;function DD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=eL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||JF.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let l=this.transaction(s,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&l.done]))[0]})};return Ng.set(e,o),o}CD(t=>ye(j({},t),{get:(e,n,r)=>DD(e,n)||t.get(e,n,r),has:(e,n)=>!!DD(e,n)||t.has(e,n)}));var Fg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tL(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function tL(t){let e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}var Lg="@firebase/app",SD="0.11.5";var vr=new Bn("@firebase/app"),nL="@firebase/app-compat",rL="@firebase/analytics-compat",iL="@firebase/analytics",oL="@firebase/app-check-compat",sL="@firebase/app-check",aL="@firebase/auth",cL="@firebase/auth-compat",lL="@firebase/database",uL="@firebase/data-connect",dL="@firebase/database-compat",hL="@firebase/functions",fL="@firebase/functions-compat",pL="@firebase/installations",mL="@firebase/installations-compat",gL="@firebase/messaging",vL="@firebase/messaging-compat",yL="@firebase/performance",IL="@firebase/performance-compat",bL="@firebase/remote-config",wL="@firebase/remote-config-compat",_L="@firebase/storage",EL="@firebase/storage-compat",CL="@firebase/firestore",DL="@firebase/vertexai",TL="@firebase/firestore-compat",SL="firebase",AL="11.6.1";var Vg="[DEFAULT]",xL={[Lg]:"fire-core",[nL]:"fire-core-compat",[iL]:"fire-analytics",[rL]:"fire-analytics-compat",[sL]:"fire-app-check",[oL]:"fire-app-check-compat",[aL]:"fire-auth",[cL]:"fire-auth-compat",[lL]:"fire-rtdb",[uL]:"fire-data-connect",[dL]:"fire-rtdb-compat",[hL]:"fire-fn",[fL]:"fire-fn-compat",[pL]:"fire-iid",[mL]:"fire-iid-compat",[gL]:"fire-fcm",[vL]:"fire-fcm-compat",[yL]:"fire-perf",[IL]:"fire-perf-compat",[bL]:"fire-rc",[wL]:"fire-rc-compat",[_L]:"fire-gcs",[EL]:"fire-gcs-compat",[CL]:"fire-fst",[TL]:"fire-fst-compat",[DL]:"fire-vertex","fire-js":"fire-js",[SL]:"fire-js-all"};var rc=new Map,kL=new Map,jg=new Map;function AD(t,e){try{t.container.addComponent(e)}catch(n){vr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wt(t){let e=t.name;if(jg.has(e))return vr.debug(`There were multiple attempts to register component ${e}.`),!1;jg.set(e,t);for(let n of rc.values())AD(n,t);for(let n of kL.values())AD(n,t);return!0}function cs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function wn(t){return t==null?!1:t.settings!==void 0}var RL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ti=new bn("app","Firebase",RL);var Bg=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new vt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ti.create("app-deleted",{appName:this._name})}};var ni=AL;function zg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Vg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ti.create("bad-app-name",{appName:String(i)});if(n||(n=Sg()),!n)throw ti.create("no-options");let o=rc.get(i);if(o){if(Gi(n,o.options)&&Gi(r,o.config))return o;throw ti.create("duplicate-app",{appName:i})}let s=new ad(i);for(let l of jg.values())s.addComponent(l);let a=new Bg(n,r,s);return rc.set(i,a),a}function ri(t=Vg){let e=rc.get(t);if(!e&&t===Vg&&Sg())return zg();if(!e)throw ti.create("no-app",{appName:t});return e}function ld(){return Array.from(rc.values())}function Pe(t,e,n){var r;let i=(r=xL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),vr.warn(a.join(" "));return}Wt(new vt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var ML="firebase-heartbeat-database",PL=1,ic="firebase-heartbeat-store",Og=null;function MD(){return Og||(Og=TD(ML,PL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ic)}catch(n){console.warn(n)}}}}).catch(t=>{throw ti.create("idb-open",{originalErrorMessage:t.message})})),Og}function NL(t){return _(this,null,function*(){try{let n=(yield MD()).transaction(ic),r=yield n.objectStore(ic).get(PD(t));return yield n.done,r}catch(e){if(e instanceof Vt)vr.warn(e.message);else{let n=ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});vr.warn(n.message)}}})}function xD(t,e){return _(this,null,function*(){try{let r=(yield MD()).transaction(ic,"readwrite");yield r.objectStore(ic).put(e,PD(t)),yield r.done}catch(n){if(n instanceof Vt)vr.warn(n.message);else{let r=ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vr.warn(r.message)}}})}function PD(t){return`${t.name}!${t.options.appId}`}var OL=1024,FL=30,Ug=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new $g(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kD();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>FL){let s=VL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vr.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=kD(),{heartbeatsToSend:r,unsentEntries:i}=LL(this._heartbeatsCache.heartbeats),o=tc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return vr.warn(n),""}})}};function kD(){return new Date().toISOString().substring(0,10)}function LL(t,e=OL){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),RD(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var $g=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return nc()?yD().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield NL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xD(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function RD(t){return tc(JSON.stringify({version:2,heartbeats:t})).length}function VL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function jL(t){Wt(new vt("platform-logger",e=>new Fg(e),"PRIVATE")),Wt(new vt("heartbeat",e=>new Ug(e),"PRIVATE")),Pe(Lg,SD,t),Pe(Lg,SD,"esm2017"),Pe("fire-js","")}jL("");var BL="firebase",UL="11.6.1";Pe(BL,UL,"app");function Hg(t){t===void 0&&(Bm(Hg),t=P(ke));let e=t.get(Ku);return n=>new ce(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:l=>{r.next(l),s()},complete:()=>{r.complete(),s()},error:l=>{r.error(l),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var yr=new Bi("ANGULARFIRE2_VERSION");function us(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ii=(t,e)=>{let n=e?[e]:ld(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ls=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(ls||{}),ND=_g()&&typeof Zone<"u"?ls.WARN:ls.SILENT;var ud=class{zone;delegate;constructor(e,n=Np){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Ir=(()=>{let e=class e{outsideAngular;insideAngular;constructor(){let r=P(oe);this.outsideAngular=r.runOutsideAngular(()=>new ud(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=r.run(()=>new ud(typeof Zone>"u"?void 0:Zone.current,Pp))}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),OD=!1;function HL(t,e){!OD&&(ND>ls.SILENT||_g())&&(OD=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ND>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function qL(t){let e=P(oe,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Ki(t){let e=P(oe,{optional:!0});return e?e.run(()=>t()):t()}var GL=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Tt(n,()=>Ki(()=>t.apply(void 0,r)))),nt=(t,e,n)=>(n||(n=e?ls.WARN:ls.VERBOSE),function(){let r,i=arguments,o,s,a;try{o=P(Ir),s=P(Ku),a=P(Ge)}catch{return HL(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||(r=Ki(()=>s.add()))),i[u]=GL(i[u],r,a));let l=qL(()=>t.apply(this,i));return e?l instanceof ce?l.pipe(zr(o.outsideAngular),$r(o.insideAngular),Hg(a)):l instanceof Promise?Ki(()=>new Promise((u,h)=>{s.run(()=>l).then(f=>Tt(a,()=>Ki(()=>u(f))),f=>Tt(a,()=>Ki(()=>h(f))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Ki(()=>l):l instanceof ce?l.pipe(zr(o.outsideAngular),$r(o.insideAngular)):Ki(()=>l)});var br=class{constructor(e){return e}},Yi=class{constructor(){return ld()}};function WL(t){return t&&t.length===1?t[0]:new br(ri())}var qg=new G("angularfire2._apps"),KL={provide:br,useFactory:WL,deps:[[new qt,qg]]},YL={provide:Yi,deps:[[new qt,qg]]};function QL(t){return(e,n)=>{let r=n.get(Zr);Pe("angularfire",yr.full,"core"),Pe("angularfire",yr.full,"app"),Pe("angular",rD.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new br(i)}}function dK(t,...e){return yn([KL,YL,{provide:qg,useFactory:QL(t),multi:!0,deps:[oe,ke,Ir,...e]}])}var hK=nt(zg,!0);var rt=new G("");var dd=null;function wr(){return dd}function Gg(t){dd!=null||(dd=t)}var oc=class{},sc=(()=>{let e=class e{historyGo(r){throw new Error("")}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:()=>P(VD),providedIn:"platform"}));let t=e;return t})(),Wg=new G(""),VD=(()=>{let e=class e extends sc{_location;_history;_doc=P(rt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wr().getBaseHref(this._doc)}onPopState(r){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=wr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:()=>new e,providedIn:"platform"}));let t=e;return t})();function hd(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function FD(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function _n(t){return t&&t[0]!=="?"?`?${t}`:t}var _r=(()=>{let e=class e{historyGo(r){throw new Error("")}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:()=>P(pd),providedIn:"root"}));let t=e;return t})(),fd=new G(""),pd=(()=>{let e=class e extends _r{_platformLocation;_baseHref;_removeListenerFns=[];constructor(r,i){var o,s,a;super(),this._platformLocation=r,this._baseHref=(a=(s=i!=null?i:this._platformLocation.getBaseHrefFromDOM())!=null?s:(o=P(rt).location)==null?void 0:o.origin)!=null?a:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return hd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+_n(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+_n(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+_n(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;(o=(i=this._platformLocation).historyGo)==null||o.call(i,r)}};k(e,"\u0275fac",function(i){return new(i||e)(J(sc),J(fd,8))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),oi=(()=>{let e=class e{_subject=new at;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(r){this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=JL(FD(LD(i))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var r;(r=this._urlChangeSubscription)==null||r.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+_n(i))}normalize(r){return e.stripTrailingSlash(XL(this._basePath,LD(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_n(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+_n(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){var i,o;(o=(i=this._locationStrategy).historyGo)==null||o.call(i,r)}onUrlChange(r){var i;return this._urlChangeListeners.push(r),(i=this._urlChangeSubscription)!=null||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{var s;let o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&((s=this._urlChangeSubscription)==null||s.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i!=null?i:void 0,complete:o!=null?o:void 0})}};k(e,"normalizeQueryParams",_n),k(e,"joinWithSlash",hd),k(e,"stripTrailingSlash",FD),k(e,"\u0275fac",function(i){return new(i||e)(J(_r))}),k(e,"\u0275prov",q({token:e,factory:()=>ZL(),providedIn:"root"}));let t=e;return t})();function ZL(){return new oi(J(_r))}function XL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function LD(t){return t.replace(/\/index.html$/,"")}function JL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Qg=(()=>{let e=class e extends _r{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(r,i){super(),this._platformLocation=r,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){var o;let i=(o=this._platformLocation.hash)!=null?o:"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=hd(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+_n(s))||this._platformLocation.pathname;this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+_n(s))||this._platformLocation.pathname;this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;(o=(i=this._platformLocation).historyGo)==null||o.call(i,r)}};k(e,"\u0275fac",function(i){return new(i||e)(J(sc),J(fd,8))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})();var Zg=(()=>{let e=class e{};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275mod",gr({type:e})),k(e,"\u0275inj",hr({}));let t=e;return t})();function Xg(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Jg="browser",jD="server";function md(t){return t===jD}var ac=class{};function ZY(t,e,n){return tD(t,e,n)}var UD=(()=>{let e=class e{};k(e,"\u0275prov",q({token:e,providedIn:"root",factory:()=>new ev(P(rt),window)}));let t=e;return t})(),ev=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=nV(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function nV(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var rV=new Map,iV={activated:!1,tokenObservers:[]},oV={initialized:!1,enabled:!1};function En(t){return rV.get(t)||Object.assign({},iV)}function qD(){return oV}var sV="https://content-firebaseappcheck.googleapis.com/v1";var aV="exchangeDebugToken",$D={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},lQ=24*60*60*1e3;var rv=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new qi,this.pending.promise.catch(n=>{}),yield cV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new qi,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function cV(t){return new Promise(e=>{setTimeout(e,t)})}var lV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},si=new bn("appCheck","AppCheck",lV);function GD(t){if(!En(t).activated)throw si.create("use-before-activation",{appName:t.name})}function WD(r,i){return _(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(m){throw si.create("fetch-network-error",{originalErrorMessage:m==null?void 0:m.message})}if(l.status!==200)throw si.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(m){throw si.create("fetch-parse-error",{originalErrorMessage:m==null?void 0:m.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw si.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let f=Number(h[1])*1e3,v=Date.now();return{token:u.token,expireTimeMillis:v+f,issuedAtTimeMillis:v}})}function KD(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${sV}/projects/${n}/apps/${r}:${aV}?key=${i}`,body:{debug_token:e}}}var uV="firebase-app-check-database",dV=1,iv="firebase-app-check-store";var gd=null;function hV(){return gd||(gd=new Promise((t,e)=>{try{let n=indexedDB.open(uV,dV);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(si.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(iv,{keyPath:"compositeKey"})}}}catch(n){e(si.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),gd)}function fV(t,e){return pV(mV(t),e)}function pV(t,e){return _(this,null,function*(){let r=(yield hV()).transaction(iv,"readwrite"),o=r.objectStore(iv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},r.onerror=l=>{var u;a(si.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function mV(t){return`${t.options.appId}-${t.name}`}var cc=new Bn("@firebase/app-check");function tv(t,e){return nc()?fV(t,e).catch(n=>{cc.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function YD(){return qD().enabled}function QD(){return _(this,null,function*(){let t=qD();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var gV={error:"UNKNOWN_ERROR"};function vV(t){return nd.encodeString(JSON.stringify(t),!1)}function ov(t,e=!1,n=!1){return _(this,null,function*(){let r=t.app;GD(r);let i=En(r),o=i.token,s;if(o&&!lc(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(lc(u)?o=u:yield tv(r,void 0))}if(!e&&o&&lc(o))return{token:o.token};let a=!1;if(YD())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=WD(KD(r,yield QD()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield tv(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?cc.warn(u.message):n&&cc.error(u),nv(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield En(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?cc.warn(u.message):n&&cc.error(u),s=u}let l;return o?s?lc(o)?l={token:o.token,internalError:s}:l=nv(s):(l={token:o.token},i.token=o,yield tv(r,o)):l=nv(s),a&&wV(r,l),l})}function yV(t){return _(this,null,function*(){let e=t.app;GD(e);let{provider:n}=En(e);if(YD()){let r=yield QD(),{token:i}=yield WD(KD(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function IV(t,e,n,r){let{app:i}=t,o=En(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&lc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),zD(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>zD(t))}function ZD(t,e){let n=En(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function zD(t){let{app:e}=t,n=En(e),r=n.tokenRefresher;r||(r=bV(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function bV(t){let{app:e}=t;return new rv(()=>_(this,null,function*(){let n=En(e),r;if(n.token?r=yield ov(t,!0):r=yield ov(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=En(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},$D.RETRIAL_MIN_WAIT,$D.RETRIAL_MAX_WAIT)}function wV(t,e){let n=En(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function lc(t){return t.expireTimeMillis-Date.now()>0}function nv(t){return{token:vV(gV),error:t}}var sv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=En(this.app);for(let n of e)ZD(this.app,n.next);return Promise.resolve()}};function _V(t,e){return new sv(t,e)}function EV(t){return{getToken:e=>ov(t,e),getLimitedUseToken:()=>yV(t),addTokenListener:e=>IV(t,"INTERNAL",e),removeTokenListener:e=>ZD(t.app,e)}}var CV="@firebase/app-check",DV="0.8.13";var TV="app-check",HD="app-check-internal";function SV(){Wt(new vt(TV,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return _V(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(HD).initialize()})),Wt(new vt(HD,t=>{let e=t.getProvider("app-check").getImmediate();return EV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Pe(CV,DV)}SV();var AV="app-check";var ds=class{constructor(){return ii(AV)}};var xV=["localhost","0.0.0.0","127.0.0.1"],_Q=typeof window<"u"&&xV.includes(window.location.hostname);function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var sT=oT,aT=new bn("auth","Firebase",oT());var bd=new Bn("@firebase/auth");function RV(t,...e){bd.logLevel<=ue.WARN&&bd.warn(`Auth (${ni}): ${t}`,...e)}function yd(t,...e){bd.logLevel<=ue.ERROR&&bd.error(`Auth (${ni}): ${t}`,...e)}function XD(t,...e){throw yv(t,...e)}function vv(t,...e){return yv(t,...e)}function cT(t,e,n){let r=Object.assign(Object.assign({},sT()),{[e]:n});return new bn("auth","Firebase",r).create(e,{appName:t.name})}function Id(t){return cT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yv(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aT.create(t,...e)}function Ee(t,e,...n){if(!t)throw yv(e,...n)}function uc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw yd(e),new Error(e)}function wd(t,e){t||uc(e)}function MV(){return JD()==="http:"||JD()==="https:"}function JD(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function PV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MV()||mD()||"connection"in navigator)?navigator.onLine:!0}function NV(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Xi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,wd(n>e,"Short delay should be less than long delay!"),this.isMobile=fD()||gD()}get(){return PV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function OV(t,e){wd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var _d=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;uc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;uc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;uc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var FV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var LV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],VV=new Xi(3e4,6e4);function lT(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Sd(o,s,a,l){return _(this,arguments,function*(t,e,n,r,i={}){return uT(t,i,()=>_(this,null,function*(){let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});let f=Ag(Object.assign({key:t.config.apiKey},h)).slice(1),v=yield t._getAdditionalHeaders();v["Content-Type"]="application/json",t.languageCode&&(v["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:v},u);return pD()||(m.referrerPolicy="no-referrer"),_d.fetch()(yield dT(t,t.config.apiHost,n,f),m)}))})}function uT(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},FV),e);try{let i=new lv(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw vd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vd(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw vd(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw vd(t,"user-disabled",s);let h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw cT(t,h,u);XD(t,h)}}catch(i){if(i instanceof Vt)throw i;XD(t,"network-request-failed",{message:String(i)})}})}function dT(t,e,n,r){return _(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?OV(t.config,i):`${t.config.apiScheme}://${i}`;return LV.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var lv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(vv(this.auth,"network-request-failed")),VV.get())})}};function vd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=vv(t,e,r);return i.customData._tokenResponse=n,i}function jV(t,e){return _(this,null,function*(){return Sd(t,"POST","/v1/accounts:delete",e)})}function Ed(t,e){return _(this,null,function*(){return Sd(t,"POST","/v1/accounts:lookup",e)})}function dc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Iv(t,e=!1){return _(this,null,function*(){let n=We(t),r=yield n.getIdToken(e),i=hT(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:dc(av(i.auth_time)),issuedAtTime:dc(av(i.iat)),expirationTime:dc(av(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}})}function av(t){return Number(t)*1e3}function hT(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{let i=rd(n);return i?JSON.parse(i):(yd("Failed to decode base64 JWT payload"),null)}catch(i){return yd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function eT(t){let e=hT(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function uv(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Vt&&BV(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function BV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var dv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=dc(this.lastLoginAt),this.creationTime=dc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Cd(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield uv(t,Ed(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?fT(o.providerUserInfo):[],a=UV(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new fc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)})}function bv(t){return _(this,null,function*(){let e=We(t);yield Cd(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function UV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function fT(t){return t.map(e=>{var{providerId:n}=e,r=Op(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $V(t,e){return _(this,null,function*(){let n=yield uT(t,{},()=>_(this,null,function*(){let r=Ag({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield dT(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_d.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function zV(t,e){return _(this,null,function*(){return Sd(t,"POST","/v2/accounts:revokeToken",lT(t,e))})}var hc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let n=eT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield $V(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return uc("not implemented")}};function ai(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Qi=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new fc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield uv(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Iv(this,e)}reload(){return bv(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Cd(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(wn(this.auth.app))return Promise.reject(Id(this.auth));let e=yield this.getIdToken();return yield uv(this,jV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,h;let f=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=n.photoURL)!==null&&s!==void 0?s:void 0,D=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,M=(u=n.createdAt)!==null&&u!==void 0?u:void 0,F=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:L,emailVerified:B,isAnonymous:K,providerData:U,stsTokenManager:I}=n;Ee(L&&I,e,"internal-error");let y=hc.fromJSON(this.name,I);Ee(typeof L=="string",e,"internal-error"),ai(f,e.name),ai(v,e.name),Ee(typeof B=="boolean",e,"internal-error"),Ee(typeof K=="boolean",e,"internal-error"),ai(m,e.name),ai(C,e.name),ai(D,e.name),ai(S,e.name),ai(M,e.name),ai(F,e.name);let b=new t({uid:L,auth:e,email:v,emailVerified:B,displayName:f,isAnonymous:K,photoURL:C,phoneNumber:m,tenantId:D,stsTokenManager:y,createdAt:M,lastLoginAt:F});return U&&Array.isArray(U)&&(b.providerData=U.map(E=>Object.assign({},E))),S&&(b._redirectEventId=S),b}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new hc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Cd(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];Ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?fT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new hc;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new fc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l})}};var tT=new Map;function Zi(t){wd(t instanceof Function,"Expected a class definition");let e=tT.get(t);return e?(wd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,tT.set(t,e),e)}var HV=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),hv=HV;function cv(t,e,n){return`firebase:${t}:${e}:${n}`}var Dd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=cv(this.userKey,i.apiKey,o),this.fullPersistenceKey=cv("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Ed(this.auth,{idToken:e}).catch(()=>{});return n?Qi._fromGetAccountInfoResponse(this.auth,n,e):null}return Qi._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Zi(hv),e,r);let i=(yield Promise.all(n.map(u=>_(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Zi(hv),s=cv(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let h=yield u._get(s);if(h){let f;if(typeof h=="string"){let v=yield Ed(e,{idToken:h}).catch(()=>{});if(!v)break;f=yield Qi._fromGetAccountInfoResponse(e,v,h)}else f=Qi._fromJSON(e,h);u!==o&&(a=f),o=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new t(o,e,r):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(u=>_(this,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new t(o,e,r))})}};function nT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QV(e))return"Blackberry";if(ZV(e))return"Webos";if(GV(e))return"Safari";if((e.includes("chrome/")||WV(e))&&!e.includes("edge/"))return"Chrome";if(YV(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qV(t=Gt()){return/firefox\//i.test(t)}function GV(t=Gt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WV(t=Gt()){return/crios\//i.test(t)}function KV(t=Gt()){return/iemobile/i.test(t)}function YV(t=Gt()){return/android/i.test(t)}function QV(t=Gt()){return/blackberry/i.test(t)}function ZV(t=Gt()){return/webos/i.test(t)}function pT(t,e=[]){let n;switch(t){case"Browser":n=nT(Gt());break;case"Worker":n=`${nT(Gt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ni}/${r}`}var fv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}})}};function XV(n){return _(this,arguments,function*(t,e={}){return Sd(t,"GET","/v2/passwordPolicy",lT(t,e))})}var JV=6,pv=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:JV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var mv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Td(this),this.idTokenSubscription=new Td(this),this.beforeStateQueue=new fv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Dd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Ed(this,{idToken:e}),r=yield Qi._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(wn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=yield this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Cd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=NV()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(wn(this.app))return Promise.reject(Id(this));let n=e?We(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return wn(this.app)?Promise.reject(Id(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return wn(this.app)?Promise.reject(Id(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Zi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield XV(this),n=new pv(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield zV(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Zi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=yield Dd.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{let l=e.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n!=null&&n.error&&RV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token})}};function e2(t){return We(t)}var Td=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ID(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var t2={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n2(t){t2=t}function r2(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function i2(t,e){let n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}var OQ=r2("rcb"),FQ=new Xi(3e4,6e4);var LQ=new Xi(2e3,1e4);var VQ=10*60*1e3;var jQ=new Xi(3e4,6e4);var BQ=new Xi(5e3,15e3);var UQ=encodeURIComponent("fac");var rT="@firebase/auth",iT="1.10.1";var gv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function o2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s2(t){Wt(new vt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(t)},u=new mv(r,i,o,l);return i2(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wt(new vt("auth-internal",e=>{let n=e2(e.getProvider("auth").getImmediate());return(r=>new gv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Pe(rT,iT,o2(t)),Pe(rT,iT,"esm2017")}var a2=5*60,$Q=hD("authIdTokenMaxAge")||a2;function c2(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}n2({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=vv("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",c2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s2("Browser");var sj="auth";var hs=class{constructor(){return ii(sj)}};var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gT={};var Er,wv;(function(){var t;function e(I,y){function b(){}b.prototype=y.prototype,I.D=y.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(E,T,A){for(var w=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)w[bt-2]=arguments[bt];return y.prototype[T].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,y,b){b||(b=0);var E=Array(16);if(typeof y=="string")for(var T=0;16>T;++T)E[T]=y.charCodeAt(b++)|y.charCodeAt(b++)<<8|y.charCodeAt(b++)<<16|y.charCodeAt(b++)<<24;else for(T=0;16>T;++T)E[T]=y[b++]|y[b++]<<8|y[b++]<<16|y[b++]<<24;y=I.g[0],b=I.g[1],T=I.g[2];var A=I.g[3],w=y+(A^b&(T^A))+E[0]+3614090360&4294967295;y=b+(w<<7&4294967295|w>>>25),w=A+(T^y&(b^T))+E[1]+3905402710&4294967295,A=y+(w<<12&4294967295|w>>>20),w=T+(b^A&(y^b))+E[2]+606105819&4294967295,T=A+(w<<17&4294967295|w>>>15),w=b+(y^T&(A^y))+E[3]+3250441966&4294967295,b=T+(w<<22&4294967295|w>>>10),w=y+(A^b&(T^A))+E[4]+4118548399&4294967295,y=b+(w<<7&4294967295|w>>>25),w=A+(T^y&(b^T))+E[5]+1200080426&4294967295,A=y+(w<<12&4294967295|w>>>20),w=T+(b^A&(y^b))+E[6]+2821735955&4294967295,T=A+(w<<17&4294967295|w>>>15),w=b+(y^T&(A^y))+E[7]+4249261313&4294967295,b=T+(w<<22&4294967295|w>>>10),w=y+(A^b&(T^A))+E[8]+1770035416&4294967295,y=b+(w<<7&4294967295|w>>>25),w=A+(T^y&(b^T))+E[9]+2336552879&4294967295,A=y+(w<<12&4294967295|w>>>20),w=T+(b^A&(y^b))+E[10]+4294925233&4294967295,T=A+(w<<17&4294967295|w>>>15),w=b+(y^T&(A^y))+E[11]+2304563134&4294967295,b=T+(w<<22&4294967295|w>>>10),w=y+(A^b&(T^A))+E[12]+1804603682&4294967295,y=b+(w<<7&4294967295|w>>>25),w=A+(T^y&(b^T))+E[13]+4254626195&4294967295,A=y+(w<<12&4294967295|w>>>20),w=T+(b^A&(y^b))+E[14]+2792965006&4294967295,T=A+(w<<17&4294967295|w>>>15),w=b+(y^T&(A^y))+E[15]+1236535329&4294967295,b=T+(w<<22&4294967295|w>>>10),w=y+(T^A&(b^T))+E[1]+4129170786&4294967295,y=b+(w<<5&4294967295|w>>>27),w=A+(b^T&(y^b))+E[6]+3225465664&4294967295,A=y+(w<<9&4294967295|w>>>23),w=T+(y^b&(A^y))+E[11]+643717713&4294967295,T=A+(w<<14&4294967295|w>>>18),w=b+(A^y&(T^A))+E[0]+3921069994&4294967295,b=T+(w<<20&4294967295|w>>>12),w=y+(T^A&(b^T))+E[5]+3593408605&4294967295,y=b+(w<<5&4294967295|w>>>27),w=A+(b^T&(y^b))+E[10]+38016083&4294967295,A=y+(w<<9&4294967295|w>>>23),w=T+(y^b&(A^y))+E[15]+3634488961&4294967295,T=A+(w<<14&4294967295|w>>>18),w=b+(A^y&(T^A))+E[4]+3889429448&4294967295,b=T+(w<<20&4294967295|w>>>12),w=y+(T^A&(b^T))+E[9]+568446438&4294967295,y=b+(w<<5&4294967295|w>>>27),w=A+(b^T&(y^b))+E[14]+3275163606&4294967295,A=y+(w<<9&4294967295|w>>>23),w=T+(y^b&(A^y))+E[3]+4107603335&4294967295,T=A+(w<<14&4294967295|w>>>18),w=b+(A^y&(T^A))+E[8]+1163531501&4294967295,b=T+(w<<20&4294967295|w>>>12),w=y+(T^A&(b^T))+E[13]+2850285829&4294967295,y=b+(w<<5&4294967295|w>>>27),w=A+(b^T&(y^b))+E[2]+4243563512&4294967295,A=y+(w<<9&4294967295|w>>>23),w=T+(y^b&(A^y))+E[7]+1735328473&4294967295,T=A+(w<<14&4294967295|w>>>18),w=b+(A^y&(T^A))+E[12]+2368359562&4294967295,b=T+(w<<20&4294967295|w>>>12),w=y+(b^T^A)+E[5]+4294588738&4294967295,y=b+(w<<4&4294967295|w>>>28),w=A+(y^b^T)+E[8]+2272392833&4294967295,A=y+(w<<11&4294967295|w>>>21),w=T+(A^y^b)+E[11]+1839030562&4294967295,T=A+(w<<16&4294967295|w>>>16),w=b+(T^A^y)+E[14]+4259657740&4294967295,b=T+(w<<23&4294967295|w>>>9),w=y+(b^T^A)+E[1]+2763975236&4294967295,y=b+(w<<4&4294967295|w>>>28),w=A+(y^b^T)+E[4]+1272893353&4294967295,A=y+(w<<11&4294967295|w>>>21),w=T+(A^y^b)+E[7]+4139469664&4294967295,T=A+(w<<16&4294967295|w>>>16),w=b+(T^A^y)+E[10]+3200236656&4294967295,b=T+(w<<23&4294967295|w>>>9),w=y+(b^T^A)+E[13]+681279174&4294967295,y=b+(w<<4&4294967295|w>>>28),w=A+(y^b^T)+E[0]+3936430074&4294967295,A=y+(w<<11&4294967295|w>>>21),w=T+(A^y^b)+E[3]+3572445317&4294967295,T=A+(w<<16&4294967295|w>>>16),w=b+(T^A^y)+E[6]+76029189&4294967295,b=T+(w<<23&4294967295|w>>>9),w=y+(b^T^A)+E[9]+3654602809&4294967295,y=b+(w<<4&4294967295|w>>>28),w=A+(y^b^T)+E[12]+3873151461&4294967295,A=y+(w<<11&4294967295|w>>>21),w=T+(A^y^b)+E[15]+530742520&4294967295,T=A+(w<<16&4294967295|w>>>16),w=b+(T^A^y)+E[2]+3299628645&4294967295,b=T+(w<<23&4294967295|w>>>9),w=y+(T^(b|~A))+E[0]+4096336452&4294967295,y=b+(w<<6&4294967295|w>>>26),w=A+(b^(y|~T))+E[7]+1126891415&4294967295,A=y+(w<<10&4294967295|w>>>22),w=T+(y^(A|~b))+E[14]+2878612391&4294967295,T=A+(w<<15&4294967295|w>>>17),w=b+(A^(T|~y))+E[5]+4237533241&4294967295,b=T+(w<<21&4294967295|w>>>11),w=y+(T^(b|~A))+E[12]+1700485571&4294967295,y=b+(w<<6&4294967295|w>>>26),w=A+(b^(y|~T))+E[3]+2399980690&4294967295,A=y+(w<<10&4294967295|w>>>22),w=T+(y^(A|~b))+E[10]+4293915773&4294967295,T=A+(w<<15&4294967295|w>>>17),w=b+(A^(T|~y))+E[1]+2240044497&4294967295,b=T+(w<<21&4294967295|w>>>11),w=y+(T^(b|~A))+E[8]+1873313359&4294967295,y=b+(w<<6&4294967295|w>>>26),w=A+(b^(y|~T))+E[15]+4264355552&4294967295,A=y+(w<<10&4294967295|w>>>22),w=T+(y^(A|~b))+E[6]+2734768916&4294967295,T=A+(w<<15&4294967295|w>>>17),w=b+(A^(T|~y))+E[13]+1309151649&4294967295,b=T+(w<<21&4294967295|w>>>11),w=y+(T^(b|~A))+E[4]+4149444226&4294967295,y=b+(w<<6&4294967295|w>>>26),w=A+(b^(y|~T))+E[11]+3174756917&4294967295,A=y+(w<<10&4294967295|w>>>22),w=T+(y^(A|~b))+E[2]+718787259&4294967295,T=A+(w<<15&4294967295|w>>>17),w=b+(A^(T|~y))+E[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+(T+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+T&4294967295,I.g[3]=I.g[3]+A&4294967295}r.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var b=y-this.blockSize,E=this.B,T=this.h,A=0;A<y;){if(T==0)for(;A<=b;)i(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<y;)if(E[T++]=I.charCodeAt(A++),T==this.blockSize){i(this,E),T=0;break}}else for(;A<y;)if(E[T++]=I[A++],T==this.blockSize){i(this,E),T=0;break}}this.h=T,this.o+=y},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var b=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=b&255,b/=256;for(this.u(I),I=Array(16),y=b=0;4>y;++y)for(var E=0;32>E;E+=8)I[b++]=this.g[y]>>>E&255;return I};function o(I,y){var b=a;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=y(I)}function s(I,y){this.h=y;for(var b=[],E=!0,T=I.length-1;0<=T;T--){var A=I[T]|0;E&&A==y||(b[T]=A,E=!1)}this.g=b}var a={};function l(I){return-128<=I&&128>I?o(I,function(y){return new s([y|0],0>y?-1:0)}):new s([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return S(u(-I));for(var y=[],b=1,E=0;I>=b;E++)y[E]=I/b|0,b*=4294967296;return new s(y,0)}function h(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return S(h(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(y,8)),E=f,T=0;T<I.length;T+=8){var A=Math.min(8,I.length-T),w=parseInt(I.substring(T,T+A),y);8>A?(A=u(Math.pow(y,A)),E=E.j(A).add(u(w))):(E=E.j(b),E=E.add(u(w)))}return E}var f=l(0),v=l(1),m=l(16777216);t=s.prototype,t.m=function(){if(D(this))return-S(this).m();for(var I=0,y=1,b=0;b<this.g.length;b++){var E=this.i(b);I+=(0<=E?E:4294967296+E)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(D(this))return"-"+S(this).toString(I);for(var y=u(Math.pow(I,6)),b=this,E="";;){var T=B(b,y).g;b=M(b,T.j(y));var A=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=T,C(b))return A+E;for(;6>A.length;)A="0"+A;E=A+E}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function D(I){return I.h==-1}t.l=function(I){return I=M(this,I),D(I)?-1:C(I)?0:1};function S(I){for(var y=I.g.length,b=[],E=0;E<y;E++)b[E]=~I.g[E];return new s(b,~I.h).add(v)}t.abs=function(){return D(this)?S(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],E=0,T=0;T<=y;T++){var A=E+(this.i(T)&65535)+(I.i(T)&65535),w=(A>>>16)+(this.i(T)>>>16)+(I.i(T)>>>16);E=w>>>16,A&=65535,w&=65535,b[T]=w<<16|A}return new s(b,b[b.length-1]&-2147483648?-1:0)};function M(I,y){return I.add(S(y))}t.j=function(I){if(C(this)||C(I))return f;if(D(this))return D(I)?S(this).j(S(I)):S(S(this).j(I));if(D(I))return S(this.j(S(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var y=this.g.length+I.g.length,b=[],E=0;E<2*y;E++)b[E]=0;for(E=0;E<this.g.length;E++)for(var T=0;T<I.g.length;T++){var A=this.i(E)>>>16,w=this.i(E)&65535,bt=I.i(T)>>>16,er=I.i(T)&65535;b[2*E+2*T]+=w*er,F(b,2*E+2*T),b[2*E+2*T+1]+=A*er,F(b,2*E+2*T+1),b[2*E+2*T+1]+=w*bt,F(b,2*E+2*T+1),b[2*E+2*T+2]+=A*bt,F(b,2*E+2*T+2)}for(E=0;E<y;E++)b[E]=b[2*E+1]<<16|b[2*E];for(E=y;E<2*y;E++)b[E]=0;return new s(b,0)};function F(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function L(I,y){this.g=I,this.h=y}function B(I,y){if(C(y))throw Error("division by zero");if(C(I))return new L(f,f);if(D(I))return y=B(S(I),y),new L(S(y.g),S(y.h));if(D(y))return y=B(I,S(y)),new L(S(y.g),y.h);if(30<I.g.length){if(D(I)||D(y))throw Error("slowDivide_ only works with positive integers.");for(var b=v,E=y;0>=E.l(I);)b=K(b),E=K(E);var T=U(b,1),A=U(E,1);for(E=U(E,2),b=U(b,2);!C(E);){var w=A.add(E);0>=w.l(I)&&(T=T.add(b),A=w),E=U(E,1),b=U(b,1)}return y=M(I,T.j(y)),new L(T,y)}for(T=f;0<=I.l(y);){for(b=Math.max(1,Math.floor(I.m()/y.m())),E=Math.ceil(Math.log(b)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),A=u(b),w=A.j(y);D(w)||0<w.l(I);)b-=E,A=u(b),w=A.j(y);C(A)&&(A=v),T=T.add(A),I=M(I,w)}return new L(T,I)}t.A=function(I){return B(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],E=0;E<y;E++)b[E]=this.i(E)&I.i(E);return new s(b,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],E=0;E<y;E++)b[E]=this.i(E)|I.i(E);return new s(b,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),b=[],E=0;E<y;E++)b[E]=this.i(E)^I.i(E);return new s(b,this.h^I.h)};function K(I){for(var y=I.g.length+1,b=[],E=0;E<y;E++)b[E]=I.i(E)<<1|I.i(E-1)>>>31;return new s(b,I.h)}function U(I,y){var b=y>>5;y%=32;for(var E=I.g.length-b,T=[],A=0;A<E;A++)T[A]=0<y?I.i(A+b)>>>y|I.i(A+b+1)<<32-y:I.i(A+b);return new s(T,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wv=gT.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,Er=gT.Integer=s}).apply(typeof mT<"u"?mT:typeof self<"u"?self:typeof window<"u"?window:{});var Ad=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cr={};var _v,aj,fs,Ev,pc,xd,Cv,Dv,Tv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,p){return c==Array.prototype||c==Object.prototype||(c[d]=p.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ad=="object"&&Ad];for(var d=0;d<c.length;++d){var p=c[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var p=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var x=c[g];if(!(x in p))break e;p=p[x]}c=c[c.length-1],g=p[c],d=d(g),d!=g&&d!=null&&e(p,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var p=0,g=!1,x={next:function(){if(!g&&p<c.length){var R=p++;return{value:d(R,c[R]),done:!1}}return g=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,p){return p})}});var s=s||{},a=this||self;function l(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function u(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,p){return c.call.apply(c.bind,arguments)}function f(c,d,p){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,g),c.apply(d,x)}}return function(){return c.apply(d,arguments)}}function v(c,d,p){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,v.apply(null,arguments)}function m(c,d){var p=Array.prototype.slice.call(arguments,1);return function(){var g=p.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function C(c,d){function p(){}p.prototype=d.prototype,c.aa=d.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(g,x,R){for(var V=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)V[Ae-2]=arguments[Ae];return d.prototype[x].apply(g,V)}}function D(c){let d=c.length;if(0<d){let p=Array(d);for(let g=0;g<d;g++)p[g]=c[g];return p}return[]}function S(c,d){for(let p=1;p<arguments.length;p++){let g=arguments[p];if(l(g)){let x=c.length||0,R=g.length||0;c.length=x+R;for(let V=0;V<R;V++)c[x+V]=g[V]}else c.push(g)}}class M{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function F(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function B(c){return B[" "](c),c}B[" "]=function(){};var K=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function U(c,d,p){for(let g in c)d.call(p,c[g],g,c)}function I(c,d){for(let p in c)d.call(void 0,c[p],p,c)}function y(c){let d={};for(let p in c)d[p]=c[p];return d}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let p,g;for(let x=1;x<arguments.length;x++){g=arguments[x];for(p in g)c[p]=g[p];for(let R=0;R<b.length;R++)p=b[R],Object.prototype.hasOwnProperty.call(g,p)&&(c[p]=g[p])}}function T(c){var d=1;c=c.split(":");let p=[];for(;0<d&&c.length;)p.push(c.shift()),d--;return c.length&&p.push(c.join(":")),p}function A(c){a.setTimeout(()=>{throw c},0)}function w(){var c=be;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class bt{constructor(){this.h=this.g=null}add(d,p){let g=er.get();g.set(d,p),this.h?this.h.next=g:this.g=g,this.h=g}}var er=new M(()=>new sa,c=>c.reset());class sa{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Mn,Xt=!1,be=new bt,we=()=>{let c=a.Promise.resolve(void 0);Mn=()=>{c.then(Qe)}};var Qe=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(p){A(p)}var d=er;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Xt=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var ft=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return c}();function ze(c,d){if(Te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(K){e:{try{B(d.nodeName);var x=!0;break e}catch{}x=!1}x||(d=null)}}else p=="mouseover"?d=c.fromElement:p=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Eo[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ze.aa.h.call(this)}}C(ze,Te);var Eo={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tr="closure_listenable_"+(1e6*Math.random()|0),ab=0;function GR(c,d,p,g,x){this.listener=c,this.proxy=null,this.src=d,this.type=p,this.capture=!!g,this.ha=x,this.key=++ab,this.da=this.fa=!1}function gl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function vl(c){this.src=c,this.g={},this.h=0}vl.prototype.add=function(c,d,p,g,x){var R=c.toString();c=this.g[R],c||(c=this.g[R]=[],this.h++);var V=Rf(c,d,g,x);return-1<V?(d=c[V],p||(d.fa=!1)):(d=new GR(d,this.src,R,!!g,x),d.fa=p,c.push(d)),d};function kf(c,d){var p=d.type;if(p in c.g){var g=c.g[p],x=Array.prototype.indexOf.call(g,d,void 0),R;(R=0<=x)&&Array.prototype.splice.call(g,x,1),R&&(gl(d),c.g[p].length==0&&(delete c.g[p],c.h--))}}function Rf(c,d,p,g){for(var x=0;x<c.length;++x){var R=c[x];if(!R.da&&R.listener==d&&R.capture==!!p&&R.ha==g)return x}return-1}var Mf="closure_lm_"+(1e6*Math.random()|0),Pf={};function cb(c,d,p,g,x){if(g&&g.once)return ub(c,d,p,g,x);if(Array.isArray(d)){for(var R=0;R<d.length;R++)cb(c,d[R],p,g,x);return null}return p=Lf(p),c&&c[tr]?c.K(d,p,u(g)?!!g.capture:!!g,x):lb(c,d,p,!1,g,x)}function lb(c,d,p,g,x,R){if(!d)throw Error("Invalid event type");var V=u(x)?!!x.capture:!!x,Ae=Of(c);if(Ae||(c[Mf]=Ae=new vl(c)),p=Ae.add(d,p,g,V,R),p.proxy)return p;if(g=WR(),p.proxy=g,g.src=c,g.listener=p,c.addEventListener)ft||(x=V),x===void 0&&(x=!1),c.addEventListener(d.toString(),g,x);else if(c.attachEvent)c.attachEvent(hb(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return p}function WR(){function c(p){return d.call(c.src,c.listener,p)}let d=KR;return c}function ub(c,d,p,g,x){if(Array.isArray(d)){for(var R=0;R<d.length;R++)ub(c,d[R],p,g,x);return null}return p=Lf(p),c&&c[tr]?c.L(d,p,u(g)?!!g.capture:!!g,x):lb(c,d,p,!0,g,x)}function db(c,d,p,g,x){if(Array.isArray(d))for(var R=0;R<d.length;R++)db(c,d[R],p,g,x);else g=u(g)?!!g.capture:!!g,p=Lf(p),c&&c[tr]?(c=c.i,d=String(d).toString(),d in c.g&&(R=c.g[d],p=Rf(R,p,g,x),-1<p&&(gl(R[p]),Array.prototype.splice.call(R,p,1),R.length==0&&(delete c.g[d],c.h--)))):c&&(c=Of(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Rf(d,p,g,x)),(p=-1<c?d[c]:null)&&Nf(p))}function Nf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[tr])kf(d.i,c);else{var p=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(p,g,c.capture):d.detachEvent?d.detachEvent(hb(p),g):d.addListener&&d.removeListener&&d.removeListener(g),(p=Of(d))?(kf(p,c),p.h==0&&(p.src=null,d[Mf]=null)):gl(c)}}}function hb(c){return c in Pf?Pf[c]:Pf[c]="on"+c}function KR(c,d){if(c.da)c=!0;else{d=new ze(d,this);var p=c.listener,g=c.ha||c.src;c.fa&&Nf(c),c=p.call(g,d)}return c}function Of(c){return c=c[Mf],c instanceof vl?c:null}var Ff="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lf(c){return typeof c=="function"?c:(c[Ff]||(c[Ff]=function(d){return c.handleEvent(d)}),c[Ff])}function wt(){Ne.call(this),this.i=new vl(this),this.M=this,this.F=null}C(wt,Ne),wt.prototype[tr]=!0,wt.prototype.removeEventListener=function(c,d,p,g){db(this,c,d,p,g)};function xt(c,d){var p,g=c.F;if(g)for(p=[];g;g=g.F)p.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Te(d,c);else if(d instanceof Te)d.target=d.target||c;else{var x=d;d=new Te(g,c),E(d,x)}if(x=!0,p)for(var R=p.length-1;0<=R;R--){var V=d.g=p[R];x=yl(V,g,!0,d)&&x}if(V=d.g=c,x=yl(V,g,!0,d)&&x,x=yl(V,g,!1,d)&&x,p)for(R=0;R<p.length;R++)V=d.g=p[R],x=yl(V,g,!1,d)&&x}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var p=c.g[d],g=0;g<p.length;g++)gl(p[g]);delete c.g[d],c.h--}}this.F=null},wt.prototype.K=function(c,d,p,g){return this.i.add(String(c),d,!1,p,g)},wt.prototype.L=function(c,d,p,g){return this.i.add(String(c),d,!0,p,g)};function yl(c,d,p,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var x=!0,R=0;R<d.length;++R){var V=d[R];if(V&&!V.da&&V.capture==p){var Ae=V.listener,pt=V.ha||V.src;V.fa&&kf(c.i,V),x=Ae.call(pt,g)!==!1&&x}}return x&&!g.defaultPrevented}function fb(c,d,p){if(typeof c=="function")p&&(c=v(c,p));else if(c&&typeof c.handleEvent=="function")c=v(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function pb(c){c.g=fb(()=>{c.g=null,c.i&&(c.i=!1,pb(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class YR extends Ne{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:pb(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(c){Ne.call(this),this.h=c,this.g={}}C(aa,Ne);var mb=[];function gb(c){U(c.g,function(d,p){this.g.hasOwnProperty(p)&&Nf(d)},c),c.g={}}aa.prototype.N=function(){aa.aa.N.call(this),gb(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vf=a.JSON.stringify,QR=a.JSON.parse,ZR=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function jf(){}jf.prototype.h=null;function vb(c){return c.h||(c.h=c.i())}function yb(){}var ca={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bf(){Te.call(this,"d")}C(Bf,Te);function Uf(){Te.call(this,"c")}C(Uf,Te);var Ii={},Ib=null;function Il(){return Ib=Ib||new wt}Ii.La="serverreachability";function bb(c){Te.call(this,Ii.La,c)}C(bb,Te);function la(c){let d=Il();xt(d,new bb(d))}Ii.STAT_EVENT="statevent";function wb(c,d){Te.call(this,Ii.STAT_EVENT,c),this.stat=d}C(wb,Te);function kt(c){let d=Il();xt(d,new wb(d,c))}Ii.Ma="timingevent";function _b(c,d){Te.call(this,Ii.Ma,c),this.size=d}C(_b,Te);function ua(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function da(){this.g=!0}da.prototype.xa=function(){this.g=!1};function XR(c,d,p,g,x,R){c.info(function(){if(c.g)if(R)for(var V="",Ae=R.split("&"),pt=0;pt<Ae.length;pt++){var Ie=Ae[pt].split("=");if(1<Ie.length){var _t=Ie[0];Ie=Ie[1];var Et=_t.split("_");V=2<=Et.length&&Et[1]=="type"?V+(_t+"="+Ie+"&"):V+(_t+"=redacted&")}}else V=null;else V=R;return"XMLHTTP REQ ("+g+") [attempt "+x+"]: "+d+`
`+p+`
`+V})}function JR(c,d,p,g,x,R,V){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+x+"]: "+d+`
`+p+`
`+R+" "+V})}function Co(c,d,p,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+tM(c,p)+(g?" "+g:"")})}function eM(c,d){c.info(function(){return"TIMEOUT: "+d})}da.prototype.info=function(){};function tM(c,d){if(!c.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var g=p[c];if(!(2>g.length)){var x=g[1];if(Array.isArray(x)&&!(1>x.length)){var R=x[0];if(R!="noop"&&R!="stop"&&R!="close")for(var V=1;V<x.length;V++)x[V]=""}}}}return Vf(p)}catch{return d}}var bl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Eb={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$f;function wl(){}C(wl,jf),wl.prototype.g=function(){return new XMLHttpRequest},wl.prototype.i=function(){return{}},$f=new wl;function Or(c,d,p,g){this.j=c,this.i=d,this.l=p,this.R=g||1,this.U=new aa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Cb}function Cb(){this.i=null,this.g="",this.h=!1}var Db={},zf={};function Hf(c,d,p){c.L=1,c.v=Dl(nr(d)),c.m=p,c.P=!0,Tb(c,null)}function Tb(c,d){c.F=Date.now(),_l(c),c.A=nr(c.v);var p=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),Bb(p.i,"t",g),c.C=0,p=c.j.J,c.h=new Cb,c.g=iw(c.j,p?d:null,!c.m),0<c.O&&(c.M=new YR(v(c.Y,c,c.g),c.O)),d=c.U,p=c.g,g=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(mb[0]=x.toString()),x=mb);for(var R=0;R<x.length;R++){var V=cb(p,x[R],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),la(),XR(c.i,c.u,c.A,c.l,c.R,c.m)}Or.prototype.ca=function(c){c=c.target;let d=this.M;d&&rr(c)==3?d.j():this.Y(c)},Or.prototype.Y=function(c){try{if(c==this.g)e:{let Et=rr(this.g);var d=this.g.Ba();let So=this.g.Z();if(!(3>Et)&&(Et!=3||this.g&&(this.h.h||this.g.oa()||Wb(this.g)))){this.J||Et!=4||d==7||(d==8||0>=So?la(3):la(2)),qf(this);var p=this.g.Z();this.X=p;t:if(Sb(this)){var g=Wb(this.g);c="";var x=g.length,R=rr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bi(this),ha(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<x;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(R&&d==x-1)});g.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=p==200,JR(this.i,this.u,this.A,this.l,this.R,Et,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,pt=this.g;if((Ae=pt.g?pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ae)){var Ie=Ae;break t}}Ie=null}if(p=Ie)Co(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Gf(this,p);else{this.o=!1,this.s=3,kt(12),bi(this),ha(this);break e}}if(this.P){p=!0;let ln;for(;!this.J&&this.C<V.length;)if(ln=nM(this,V),ln==zf){Et==4&&(this.s=4,kt(14),p=!1),Co(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Db){this.s=4,kt(15),Co(this.i,this.l,V,"[Invalid Chunk]"),p=!1;break}else Co(this.i,this.l,ln,null),Gf(this,ln);if(Sb(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Et!=4||V.length!=0||this.h.h||(this.s=1,kt(16),p=!1),this.o=this.o&&p,!p)Co(this.i,this.l,V,"[Invalid Chunked Response]"),bi(this),ha(this);else if(0<V.length&&!this.W){this.W=!0;var _t=this.j;_t.g==this&&_t.ba&&!_t.M&&(_t.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Xf(_t),_t.M=!0,kt(11))}}else Co(this.i,this.l,V,null),Gf(this,V);Et==4&&bi(this),this.o&&!this.J&&(Et==4?ew(this.j,this):(this.o=!1,_l(this)))}else IM(this.g),p==400&&0<V.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),bi(this),ha(this)}}}catch{}finally{}};function Sb(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function nM(c,d){var p=c.C,g=d.indexOf(`
`,p);return g==-1?zf:(p=Number(d.substring(p,g)),isNaN(p)?Db:(g+=1,g+p>d.length?zf:(d=d.slice(g,g+p),c.C=g+p,d)))}Or.prototype.cancel=function(){this.J=!0,bi(this)};function _l(c){c.S=Date.now()+c.I,Ab(c,c.I)}function Ab(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ua(v(c.ba,c),d)}function qf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Or.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(eM(this.i,this.A),this.L!=2&&(la(),kt(17)),bi(this),this.s=2,ha(this)):Ab(this,this.S-c)};function ha(c){c.j.G==0||c.J||ew(c.j,c)}function bi(c){qf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,gb(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Gf(c,d){try{var p=c.j;if(p.G!=0&&(p.g==c||Wf(p.h,c))){if(!c.K&&Wf(p.h,c)&&p.G==3){try{var g=p.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var x=g;if(x[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)kl(p),Al(p);else break e;Zf(p),kt(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=ua(v(p.Za,p),6e3));if(1>=Rb(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else _i(p,11)}else if((c.K||p.g==c)&&kl(p),!F(d))for(x=p.Da.g.parse(d),d=0;d<x.length;d++){let Ie=x[d];if(p.T=Ie[0],Ie=Ie[1],p.G==2)if(Ie[0]=="c"){p.K=Ie[1],p.ia=Ie[2];let _t=Ie[3];_t!=null&&(p.la=_t,p.j.info("VER="+p.la));let Et=Ie[4];Et!=null&&(p.Aa=Et,p.j.info("SVER="+p.Aa));let So=Ie[5];So!=null&&typeof So=="number"&&0<So&&(g=1.5*So,p.L=g,p.j.info("backChannelRequestTimeoutMs_="+g)),g=p;let ln=c.g;if(ln){let Ml=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var R=g.h;R.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Kf(R,R.h),R.h=null))}if(g.D){let Jf=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Jf&&(g.ya=Jf,Oe(g.I,g.D,Jf))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),g=p;var V=c;if(g.qa=rw(g,g.J?g.ia:null,g.W),V.K){Mb(g.h,V);var Ae=V,pt=g.L;pt&&(Ae.I=pt),Ae.B&&(qf(Ae),_l(Ae)),g.g=V}else Xb(g);0<p.i.length&&xl(p)}else Ie[0]!="stop"&&Ie[0]!="close"||_i(p,7);else p.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?_i(p,7):Qf(p):Ie[0]!="noop"&&p.l&&p.l.ta(Ie),p.v=0)}}la(4)}catch{}}var rM=class{constructor(c,d){this.g=c,this.map=d}};function xb(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function kb(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Rb(c){return c.h?1:c.g?c.g.size:0}function Wf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Kf(c,d){c.g?c.g.add(d):c.h=d}function Mb(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}xb.prototype.cancel=function(){if(this.i=Pb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Pb(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let p of c.g.values())d=d.concat(p.D);return d}return D(c.i)}function iM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var d=[],p=c.length,g=0;g<p;g++)d.push(c[g]);return d}d=[],p=0;for(g in c)d[p++]=c[g];return d}function oM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var d=[];c=c.length;for(var p=0;p<c;p++)d.push(p);return d}d=[],p=0;for(let g in c)d[p++]=g;return d}}}function Nb(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var p=oM(c),g=iM(c),x=g.length,R=0;R<x;R++)d.call(void 0,g[R],p&&p[R],c)}var Ob=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sM(c,d){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var g=c[p].indexOf("="),x=null;if(0<=g){var R=c[p].substring(0,g);x=c[p].substring(g+1)}else R=c[p];d(R,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function wi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof wi){this.h=c.h,El(this,c.j),this.o=c.o,this.g=c.g,Cl(this,c.s),this.l=c.l;var d=c.i,p=new ma;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Fb(this,p),this.m=c.m}else c&&(d=String(c).match(Ob))?(this.h=!1,El(this,d[1]||"",!0),this.o=fa(d[2]||""),this.g=fa(d[3]||"",!0),Cl(this,d[4]),this.l=fa(d[5]||"",!0),Fb(this,d[6]||"",!0),this.m=fa(d[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}wi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(pa(d,Lb,!0),":");var p=this.g;return(p||d=="file")&&(c.push("//"),(d=this.o)&&c.push(pa(d,Lb,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(pa(p,p.charAt(0)=="/"?lM:cM,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",pa(p,dM)),c.join("")};function nr(c){return new wi(c)}function El(c,d,p){c.j=p?fa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Cl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Fb(c,d,p){d instanceof ma?(c.i=d,hM(c.i,c.h)):(p||(d=pa(d,uM)),c.i=new ma(d,c.h))}function Oe(c,d,p){c.i.set(d,p)}function Dl(c){return Oe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function fa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function pa(c,d,p){return typeof c=="string"?(c=encodeURI(c).replace(d,aM),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function aM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lb=/[#\/\?@]/g,cM=/[#\?:]/g,lM=/[#\?]/g,uM=/[#\?@]/g,dM=/#/g;function ma(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Fr(c){c.g||(c.g=new Map,c.h=0,c.i&&sM(c.i,function(d,p){c.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=ma.prototype,t.add=function(c,d){Fr(this),this.i=null,c=Do(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(d),this.h+=1,this};function Vb(c,d){Fr(c),d=Do(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function jb(c,d){return Fr(c),d=Do(c,d),c.g.has(d)}t.forEach=function(c,d){Fr(this),this.g.forEach(function(p,g){p.forEach(function(x){c.call(d,x,g,this)},this)},this)},t.na=function(){Fr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let g=0;g<d.length;g++){let x=c[g];for(let R=0;R<x.length;R++)p.push(d[g])}return p},t.V=function(c){Fr(this);let d=[];if(typeof c=="string")jb(this,c)&&(d=d.concat(this.g.get(Do(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)d=d.concat(c[p])}return d},t.set=function(c,d){return Fr(this),this.i=null,c=Do(this,c),jb(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Bb(c,d,p){Vb(c,d),0<p.length&&(c.i=null,c.g.set(Do(c,d),D(p)),c.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var g=d[p];let R=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var x=R;V[g]!==""&&(x+="="+encodeURIComponent(String(V[g]))),c.push(x)}}return this.i=c.join("&")};function Do(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function hM(c,d){d&&!c.j&&(Fr(c),c.i=null,c.g.forEach(function(p,g){var x=g.toLowerCase();g!=x&&(Vb(this,g),Bb(this,x,p))},c)),c.j=d}function fM(c,d){let p=new da;if(a.Image){let g=new Image;g.onload=m(Lr,p,"TestLoadImage: loaded",!0,d,g),g.onerror=m(Lr,p,"TestLoadImage: error",!1,d,g),g.onabort=m(Lr,p,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(Lr,p,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function pM(c,d){let p=new da,g=new AbortController,x=setTimeout(()=>{g.abort(),Lr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(R=>{clearTimeout(x),R.ok?Lr(p,"TestPingServer: ok",!0,d):Lr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(x),Lr(p,"TestPingServer: error",!1,d)})}function Lr(c,d,p,g,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),g(p)}catch{}}function mM(){this.g=new ZR}function gM(c,d,p){let g=p||"";try{Nb(c,function(x,R){let V=x;u(x)&&(V=Vf(x)),d.push(g+R+"="+encodeURIComponent(V))})}catch(x){throw d.push(g+"type="+encodeURIComponent("_badmap")),x}}function ga(c){this.l=c.Ub||null,this.j=c.eb||!1}C(ga,jf),ga.prototype.g=function(){return new Tl(this.l,this.j)},ga.prototype.i=function(c){return function(){return c}}({});function Tl(c,d){wt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Tl,wt),t=Tl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ya(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,va(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ub(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ub(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?va(this):ya(this),this.readyState==3&&Ub(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,va(this))},t.Qa=function(c){this.g&&(this.response=c,va(this))},t.ga=function(){this.g&&va(this)};function va(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ya(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=d.next();return c.join(`\r
`)};function ya(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $b(c){let d="";return U(c,function(p,g){d+=g,d+=":",d+=p,d+=`\r
`}),d}function Yf(c,d,p){e:{for(g in p){var g=!1;break e}g=!0}g||(p=$b(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):Oe(c,d,p))}function He(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(He,wt);var vM=/^https?$/i,yM=["POST","PUT"];t=He.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,p,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$f.g(),this.v=this.o?vb(this.o):vb($f),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(R){zb(this,R);return}if(c=p||"",p=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var x in g)p.set(x,g[x]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let R of g.keys())p.set(R,g.get(R));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(p.keys()).find(R=>R.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(yM,d,void 0))||g||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,V]of p)this.g.setRequestHeader(R,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gb(this),this.u=!0,this.g.send(c),this.u=!1}catch(R){zb(this,R)}};function zb(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,Hb(c),Sl(c)}function Hb(c){c.A||(c.A=!0,xt(c,"complete"),xt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,xt(this,"complete"),xt(this,"abort"),Sl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sl(this,!0)),He.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?qb(this):this.bb())},t.bb=function(){qb(this)};function qb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||rr(c)!=4||c.Z()!=2)){if(c.u&&rr(c)==4)fb(c.Ea,0,c);else if(xt(c,"readystatechange"),rr(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var g;if(g=V===0){var x=String(c.D).match(Ob)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),g=!vM.test(x?x.toLowerCase():"")}p=g}if(p)xt(c,"complete"),xt(c,"success");else{c.m=6;try{var R=2<rr(c)?c.g.statusText:""}catch{R=""}c.l=R+" ["+c.Z()+"]",Hb(c)}}finally{Sl(c)}}}}function Sl(c,d){if(c.g){Gb(c);let p=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||xt(c,"ready");try{p.onreadystatechange=g}catch{}}}function Gb(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function rr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<rr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),QR(d)}};function Wb(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function IM(c){let d={};c=(c.g&&2<=rr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(F(c[g]))continue;var p=T(c[g]);let x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();let R=d[x]||[];d[x]=R,R.push(p)}I(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(c,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||d}function Kb(c){this.Aa=0,this.i=[],this.j=new da,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,c),this.cb=Ia("retryDelaySeedMs",1e4,c),this.Wa=Ia("forwardChannelMaxRetries",2,c),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xb(c&&c.concurrentRequestLimit),this.Da=new mM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kb.prototype,t.la=8,t.G=1,t.connect=function(c,d,p,g){kt(0),this.W=c,this.H=d||{},p&&g!==void 0&&(this.H.OSID=p,this.H.OAID=g),this.F=this.X,this.I=rw(this,null,this.W),xl(this)};function Qf(c){if(Yb(c),c.G==3){var d=c.U++,p=nr(c.I);if(Oe(p,"SID",c.K),Oe(p,"RID",d),Oe(p,"TYPE","terminate"),ba(c,p),d=new Or(c,c.j,d),d.L=2,d.v=Dl(nr(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=iw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),_l(d)}nw(c)}function Al(c){c.g&&(Xf(c),c.g.cancel(),c.g=null)}function Yb(c){Al(c),c.u&&(a.clearTimeout(c.u),c.u=null),kl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function xl(c){if(!kb(c.h)&&!c.s){c.s=!0;var d=c.Ga;Mn||we(),Xt||(Mn(),Xt=!0),be.add(d,c),c.B=0}}function bM(c,d){return Rb(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ua(v(c.Ga,c,d),tw(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new Or(this,this.j,c),R=this.o;if(this.S&&(R?(R=y(R),E(R,this.S)):R=this.S),this.m!==null||this.O||(x.H=R,R=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var g=this.i[p];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Zb(this,x,d),p=nr(this.I),Oe(p,"RID",c),Oe(p,"CVER",22),this.D&&Oe(p,"X-HTTP-Session-Id",this.D),ba(this,p),R&&(this.O?d="headers="+encodeURIComponent(String($b(R)))+"&"+d:this.m&&Yf(p,this.m,R)),Kf(this.h,x),this.Ua&&Oe(p,"TYPE","init"),this.P?(Oe(p,"$req",d),Oe(p,"SID","null"),x.T=!0,Hf(x,p,null)):Hf(x,p,d),this.G=2}}else this.G==3&&(c?Qb(this,c):this.i.length==0||kb(this.h)||Qb(this))};function Qb(c,d){var p;d?p=d.l:p=c.U++;let g=nr(c.I);Oe(g,"SID",c.K),Oe(g,"RID",p),Oe(g,"AID",c.T),ba(c,g),c.m&&c.o&&Yf(g,c.m,c.o),p=new Or(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),d&&(c.i=d.D.concat(c.i)),d=Zb(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Kf(c.h,p),Hf(p,g,d)}function ba(c,d){c.H&&U(c.H,function(p,g){Oe(d,g,p)}),c.l&&Nb({},function(p,g){Oe(d,g,p)})}function Zb(c,d,p){p=Math.min(c.i.length,p);var g=c.l?v(c.l.Na,c.l,c):null;e:{var x=c.i;let R=-1;for(;;){let V=["count="+p];R==-1?0<p?(R=x[0].g,V.push("ofs="+R)):R=0:V.push("ofs="+R);let Ae=!0;for(let pt=0;pt<p;pt++){let Ie=x[pt].g,_t=x[pt].map;if(Ie-=R,0>Ie)R=Math.max(0,x[pt].g-100),Ae=!1;else try{gM(_t,V,"req"+Ie+"_")}catch{g&&g(_t)}}if(Ae){g=V.join("&");break e}}}return c=c.i.splice(0,p),d.D=c,g}function Xb(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Mn||we(),Xt||(Mn(),Xt=!0),be.add(d,c),c.v=0}}function Zf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ua(v(c.Fa,c),tw(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Jb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ua(v(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),Al(this),Jb(this))};function Xf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Jb(c){c.g=new Or(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=nr(c.qa);Oe(d,"RID","rpc"),Oe(d,"SID",c.K),Oe(d,"AID",c.T),Oe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Oe(d,"TO",c.ja),Oe(d,"TYPE","xmlhttp"),ba(c,d),c.m&&c.o&&Yf(d,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=Dl(nr(d)),p.m=null,p.P=!0,Tb(p,c)}t.Za=function(){this.C!=null&&(this.C=null,Al(this),Zf(this),kt(19))};function kl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function ew(c,d){var p=null;if(c.g==d){kl(c),Xf(c),c.g=null;var g=2}else if(Wf(c.h,d))p=d.D,Mb(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var x=c.B;g=Il(),xt(g,new _b(g,p)),xl(c)}else Xb(c);else if(x=d.s,x==3||x==0&&0<d.X||!(g==1&&bM(c,d)||g==2&&Zf(c)))switch(p&&0<p.length&&(d=c.h,d.i=d.i.concat(p)),x){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function tw(c,d){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*d}function _i(c,d){if(c.j.info("Error code "+d),d==2){var p=v(c.fb,c),g=c.Xa;let x=!g;g=new wi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||El(g,"https"),Dl(g),x?fM(g.toString(),p):pM(g.toString(),p)}else kt(2);c.G=0,c.l&&c.l.sa(d),nw(c),Yb(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function nw(c){if(c.G=0,c.ka=[],c.l){let d=Pb(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function rw(c,d,p){var g=p instanceof wi?nr(p):new wi(p);if(g.g!="")d&&(g.g=d+"."+g.g),Cl(g,g.s);else{var x=a.location;g=x.protocol,d=d?d+"."+x.hostname:x.hostname,x=+x.port;var R=new wi(null);g&&El(R,g),d&&(R.g=d),x&&Cl(R,x),p&&(R.l=p),g=R}return p=c.D,d=c.ya,p&&d&&Oe(g,p,d),Oe(g,"VER",c.la),ba(c,g),g}function iw(c,d,p){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new He(new ga({eb:p})):new He(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ow(){}t=ow.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rl(){}Rl.prototype.g=function(c,d){return new Bt(c,d)};function Bt(c,d){wt.call(this),this.g=new Kb(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!F(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!F(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new To(this)}C(Bt,wt),Bt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Bt.prototype.close=function(){Qf(this.g)},Bt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=Vf(c),c=p);d.i.push(new rM(d.Ya++,c)),d.G==3&&xl(d)},Bt.prototype.N=function(){this.g.l=null,delete this.j,Qf(this.g),delete this.g,Bt.aa.N.call(this)};function sw(c){Bf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let p in d){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(sw,Bf);function aw(){Uf.call(this),this.status=1}C(aw,Uf);function To(c){this.g=c}C(To,ow),To.prototype.ua=function(){xt(this.g,"a")},To.prototype.ta=function(c){xt(this.g,new sw(c))},To.prototype.sa=function(c){xt(this.g,new aw)},To.prototype.ra=function(){xt(this.g,"b")},Rl.prototype.createWebChannel=Rl.prototype.g,Bt.prototype.send=Bt.prototype.o,Bt.prototype.open=Bt.prototype.m,Bt.prototype.close=Bt.prototype.close,Tv=Cr.createWebChannelTransport=function(){return new Rl},Dv=Cr.getStatEventTarget=function(){return Il()},Cv=Cr.Event=Ii,xd=Cr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bl.NO_ERROR=0,bl.TIMEOUT=8,bl.HTTP_ERROR=6,pc=Cr.ErrorCode=bl,Eb.COMPLETE="complete",Ev=Cr.EventType=Eb,yb.EventType=ca,ca.OPEN="a",ca.CLOSE="b",ca.ERROR="c",ca.MESSAGE="d",wt.prototype.listen=wt.prototype.K,fs=Cr.WebChannel=yb,aj=Cr.FetchXmlHttpFactory=ga,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,_v=Cr.XhrIo=He}).apply(typeof Ad<"u"?Ad:typeof self<"u"?self:typeof window<"u"?window:{});var vT="@firebase/firestore",yT="4.7.11";var dt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");var Fs="11.6.1";var no=new Bn("@firebase/firestore");function ps(){return no.logLevel}function $(t,...e){if(no.logLevel<=ue.DEBUG){let n=e.map(v0);no.debug(`Firestore (${Fs}): ${t}`,...n)}}function Ar(t,...e){if(no.logLevel<=ue.ERROR){let n=e.map(v0);no.error(`Firestore (${Fs}): ${t}`,...n)}}function ws(t,...e){if(no.logLevel<=ue.WARN){let n=e.map(v0);no.warn(`Firestore (${Fs}): ${t}`,...n)}}function v0(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dS(t,r,n)}function dS(t,e,n){let r=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ar(r),new Error(r)}function De(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dS(e,i,r)}function te(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Vt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Dr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Fd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Rv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}},Mv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Pv=class{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0,42304);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),o=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let l=o;e.enqueueRetryable(()=>_(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new Fd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new dt(e)}},Nv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Ov=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Nv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ld=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Fv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,wn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){De(this.o===void 0,3512);let r=o=>{o.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,$("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ld(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ld(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function cj(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function hS(){return new TextEncoder}var Vd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=cj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ae(t,e){return t<e?-1:t>e?1:0}function Lv(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ae(r,i);{let o=hS(),s=lj(o.encode(IT(t,n)),o.encode(IT(e,n)));return s!==0?s:ae(r,i)}}n+=r>65535?2:1}return ae(t.length,e.length)}function IT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function lj(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function _s(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var bT=-62135596800,wT=1e6,yt=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*wT);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bT)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wT}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-bT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new yt(0,0))}static max(){return new t(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var _T="__name__",jd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ae(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):Lv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}},$e=class t extends jd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class t extends jd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return uj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_T}static keyField(){return new t([_T])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new H(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new H(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Y=class t{constructor(e){this.path=e}static fromPath(e){return new t($e.fromString(e))}static fromName(e){return new t($e.fromString(e).popFirst(5))}static empty(){return new t($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new $e(e.slice()))}};var bc=-1,Vv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Vv.UNKNOWN_ID=-1;function dj(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new ro(i,Y.empty(),e)}function hj(t){return new ro(t.readTime,t.key,bc)}var ro=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ne.min(),Y.empty(),bc)}static max(){return new t(ne.max(),Y.empty(),bc)}};function fj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}var pj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",jv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ls(t){return _(this,null,function*(){if(t.code!==N.FAILED_PRECONDITION||t.message!==pj)throw t;$("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let l=0;l<o;l++){let u=l;n(e[u]).next(h=>{s[u]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function mj(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vs(t){return t.name==="IndexedDbTransactionError"}var y0=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),I0=-1;function vh(t){return t==null}function wc(t){return t===0&&1/t==-1/0}function gj(t){return typeof t=="number"&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var fS="";function vj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ET(e)),e=yj(t.get(n),e);return ET(e)}function yj(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case fS:n+="";break;default:n+=o}}return n}function ET(t){return t+fS+""}var Ij="remoteDocuments",pS="owner";var mS="mutationQueues";var gS="mutations";var vS="documentMutations",bj="remoteDocumentsV14";var yS="remoteDocumentGlobal";var IS="targets";var bS="targetDocuments";var wS="targetGlobal",_S="collectionParents";var ES="clientMetadata";var CS="bundles";var DS="namedQueries";var wj="indexConfiguration";var _j="indexState";var Ej="indexEntries";var TS="documentOverlays";var Cj="globals";var Dj=[mS,gS,vS,Ij,IS,pS,wS,bS,ES,yS,_S,CS,DS],GZ=[...Dj,TS],Tj=[mS,gS,vS,bj,IS,pS,wS,bS,ES,yS,_S,CS,DS,TS],Sj=Tj,Aj=[...Sj,wj,_j,Ej];var WZ=[...Aj,Cj];function CT(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function fi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ke=class t{constructor(e,n){this.comparator=e,this.root=n||$n.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ys(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ys(this.root,e,this.comparator,!1)}getReverseIterator(){return new ys(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ys(this.root,e,this.comparator,!0)}},ys=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$n=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:t.RED,this.left=i!=null?i:t.EMPTY,this.right=o!=null?o:t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}};$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new $n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ht=class t{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Bd(this.data.getIterator())}getIteratorFrom(e){return new Bd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Bd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var an=class t{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new t([])}unionWith(e){let n=new ht(Yt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _s(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ud=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var At=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ud("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};At.EMPTY_BYTE_STRING=new At("");var xj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(De(!!t,39018),typeof t=="string"){let e=0,n=xj.exec(t);if(De(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function kr(t){return typeof t=="string"?At.fromBase64String(t):At.fromUint8Array(t)}var AS="server_timestamp",xS="__type__",kS="__previous_value__",RS="__local_write_time__";function b0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xS])===null||n===void 0?void 0:n.stringValue)===AS}function yh(t){let e=t.mapValue.fields[kS];return b0(e)?yh(e):e}function _c(t){let e=xr(t.mapValue.fields[RS].timestampValue);return new yt(e.seconds,e.nanos)}var Bv=class{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},$d="(default)",zd=class t{constructor(e,n){this.projectId=e,this.database=n||$d}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===$d}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var w0="__type__",MS="__max__",kd={mapValue:{fields:{__type__:{stringValue:MS}}}},_0="__vector__",Es="value";function li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?b0(t)?4:NS(t)?9007199254740991:PS(t)?10:11:X(28295,{value:t})}function qn(t,e){if(t===e)return!0;let n=li(t);if(n!==li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _c(t).isEqual(_c(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=xr(i.timestampValue),a=xr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return kr(i.bytesValue).isEqual(kr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return je(i.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return je(i.integerValue)===je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=je(i.doubleValue),a=je(o.doubleValue);return s===a?wc(s)===wc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return _s(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(CT(s)!==CT(a))return!1;for(let l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!qn(s[l],a[l])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function Ec(t,e){return(t.values||[]).find(n=>qn(n,e))!==void 0}function Cs(t,e){if(t===e)return 0;let n=li(t),r=li(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=je(o.integerValue||o.doubleValue),l=je(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return DT(t.timestampValue,e.timestampValue);case 4:return DT(_c(t),_c(e));case 5:return Lv(t.stringValue,e.stringValue);case 6:return function(o,s){let a=kr(o),l=kr(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){let h=ae(a[u],l[u]);if(h!==0)return h}return ae(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ae(je(o.latitude),je(s.latitude));return a!==0?a:ae(je(o.longitude),je(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return TT(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,h;let f=o.fields||{},v=s.fields||{},m=(a=f[Es])===null||a===void 0?void 0:a.arrayValue,C=(l=v[Es])===null||l===void 0?void 0:l.arrayValue,D=ae(((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0,((h=C==null?void 0:C.values)===null||h===void 0?void 0:h.length)||0);return D!==0?D:TT(m,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===kd.mapValue&&s===kd.mapValue)return 0;if(o===kd.mapValue)return 1;if(s===kd.mapValue)return-1;let a=o.fields||{},l=Object.keys(a),u=s.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){let v=Lv(l[f],h[f]);if(v!==0)return v;let m=Cs(a[l[f]],u[h[f]]);if(m!==0)return m}return ae(l.length,h.length)}(t.mapValue,e.mapValue);default:throw X(23264,{Pe:n})}}function DT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);let n=xr(t),r=xr(e),i=ae(n.seconds,r.seconds);return i!==0?i:ae(n.nanos,r.nanos)}function TT(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Cs(n[i],r[i]);if(o)return o}return ae(n.length,r.length)}function Ds(t){return Uv(t)}function Uv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=Uv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Uv(n.fields[s])}`;return i+"}"}(t.mapValue):X(61005,{value:t})}function Pd(t){switch(li(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=yh(t);return e?16+Pd(e):16;case 5:return 2*t.stringValue.length;case 6:return kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Pd(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return fi(r.fields,(o,s)=>{i+=o.length+Pd(s)}),i}(t.mapValue);default:throw X(13486,{value:t})}}function ST(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function $v(t){return!!t&&"integerValue"in t}function E0(t){return!!t&&"arrayValue"in t}function AT(t){return!!t&&"nullValue"in t}function xT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Nd(t){return!!t&&"mapValue"in t}function PS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[w0])===null||n===void 0?void 0:n.stringValue)===_0}function gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function NS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===MS}var YZ={mapValue:{fields:{[w0]:{stringValue:_0},[Es]:{arrayValue:{}}}}};var Kt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Nd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gc(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=gc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Nd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Nd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){fi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(gc(this.value))}};function OS(t){let e=[];return fi(t.fields,(n,r)=>{let i=new Yt([n]);if(Nd(r)){let o=OS(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new an(e)}var Cn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ne.min(),ne.min(),ne.min(),Kt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ne.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ne.min(),ne.min(),Kt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ne.min(),ne.min(),Kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ts=class{constructor(e,n){this.position=e,this.inclusive=n}};function kT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),n.key):r=Cs(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function RT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qn(t.position[n],e.position[n]))return!1;return!0}var Ss=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function kj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hd=class{},st=class t extends Hd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Hv(e,n,r):n==="array-contains"?new Wv(e,r):n==="in"?new Kv(e,r):n==="not-in"?new Yv(e,r):n==="array-contains-any"?new Qv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new qv(e,r):new Gv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Cs(n,this.value)):n!==null&&li(this.value)===li(n)&&this.matchesComparison(Cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Dn=class t extends Hd{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return FS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function FS(t){return t.op==="and"}function LS(t){return Rj(t)&&FS(t)}function Rj(t){for(let e of t.filters)if(e instanceof Dn)return!1;return!0}function zv(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Ds(t.value);if(LS(t))return t.filters.map(e=>zv(e)).join(",");{let e=t.filters.map(n=>zv(n)).join(",");return`${t.op}(${e})`}}function VS(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&qn(r.value,i.value)}(t,e):t instanceof Dn?function(r,i){return i instanceof Dn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&VS(s,i.filters[a]),!0):!1}(t,e):void X(19439)}function jS(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${Ds(n.value)}`}(t):t instanceof Dn?function(n){return n.op.toString()+" {"+n.getFilters().map(jS).join(" ,")+"}"}(t):"Filter"}var Hv=class extends st{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){let n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}},qv=class extends st{constructor(e,n){super(e,"in",n),this.keys=BS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Gv=class extends st{constructor(e,n){super(e,"not-in",n),this.keys=BS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function BS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}var Wv=class extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return E0(n)&&Ec(n.arrayValue,this.value)}},Kv=class extends st{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ec(this.value.arrayValue,n)}},Yv=class extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ec(this.value.arrayValue,n)}},Qv=class extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!E0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ec(this.value.arrayValue,r))}};var Zv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function MT(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Zv(t,e,n,r,i,o,s)}function C0(t){let e=te(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ds(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ds(r)).join(",")),e.Ie=n}return e.Ie}function D0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!VS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!RT(t.startAt,e.startAt)&&RT(t.endAt,e.endAt)}function Xv(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var io=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function Mj(t,e,n,r,i,o,s,a){return new io(t,e,n,r,i,o,s,a)}function T0(t){return new io(t)}function PT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function US(t){return t.collectionGroup!==null}function vc(t){let e=te(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ht(Yt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Ss(o,r))}),n.has(Yt.keyField().canonicalString())||e.Ee.push(new Ss(Yt.keyField(),r))}return e.Ee}function zn(t){let e=te(t);return e.de||(e.de=Pj(e,vc(t))),e.de}function Pj(t,e){if(t.limitType==="F")return MT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ss(i.field,o)});let n=t.endAt?new Ts(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ts(t.startAt.position,t.startAt.inclusive):null;return MT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jv(t,e){let n=t.filters.concat([e]);return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ey(t,e,n){return new io(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ih(t,e){return D0(zn(t),zn(e))&&t.limitType===e.limitType}function $S(t){return`${C0(zn(t))}|lt:${t.limitType}`}function ms(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>jS(i)).join(", ")}]`),vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ds(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ds(i)).join(",")),`Target(${r})`}(zn(t))}; limitType=${t.limitType})`}function bh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of vc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){let u=kT(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,vc(r),i)||r.endAt&&!function(s,a,l){let u=kT(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,vc(r),i))}(t,e)}function Nj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zS(t){return(e,n)=>{let r=!1;for(let i of vc(t)){let o=Oj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Oj(t,e,n){let r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(o,s,a){let l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Cs(l,u):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}var Rr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return SS(this.inner)}size(){return this.innerSize}};var Fj=new Ke(Y.comparator);function Mr(){return Fj}var HS=new Ke(Y.comparator);function mc(...t){let e=HS;for(let n of t)e=e.insert(n.key,n);return e}function qS(t){let e=HS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ji(){return yc()}function GS(){return yc()}function yc(){return new Rr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Lj=new Ke(Y.comparator),Vj=new ht(Y.comparator);function he(...t){let e=Vj;for(let n of t)e=e.add(n);return e}var jj=new ht(ae);function Bj(){return jj}function S0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function WS(t){return{integerValue:""+t}}function Uj(t,e){return gj(e)?WS(e):S0(t,e)}var As=class{constructor(){this._=void 0}};function $j(t,e,n){return t instanceof xs?function(i,o){let s={fields:{[xS]:{stringValue:AS},[RS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&b0(o)&&(o=yh(o)),o&&(s.fields[kS]=o),{mapValue:s}}(n,e):t instanceof oo?YS(t,e):t instanceof so?QS(t,e):function(i,o){let s=KS(i,o),a=NT(s)+NT(i.Re);return $v(s)&&$v(i.Re)?WS(a):S0(i.serializer,a)}(t,e)}function zj(t,e,n){return t instanceof oo?YS(t,e):t instanceof so?QS(t,e):n}function KS(t,e){return t instanceof ks?function(r){return $v(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var xs=class extends As{},oo=class extends As{constructor(e){super(),this.elements=e}};function YS(t,e){let n=ZS(e);for(let r of t.elements)n.some(i=>qn(i,r))||n.push(r);return{arrayValue:{values:n}}}var so=class extends As{constructor(e){super(),this.elements=e}};function QS(t,e){let n=ZS(e);for(let r of t.elements)n=n.filter(i=>!qn(i,r));return{arrayValue:{values:n}}}var ks=class extends As{constructor(e,n){super(),this.serializer=e,this.Re=n}};function NT(t){return je(t.integerValue||t.doubleValue)}function ZS(t){return E0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Hj(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oo&&i instanceof oo||r instanceof so&&i instanceof so?_s(r.elements,i.elements,qn):r instanceof ks&&i instanceof ks?qn(r.Re,i.Re):r instanceof xs&&i instanceof xs}(t.transform,e.transform)}var ty=class{constructor(e,n){this.version=e,this.transformResults=n}},Tr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Od(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Rs=class{};function XS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cc(t.key,Tr.none()):new ao(t.key,t.data,Tr.none());{let n=t.data,r=Kt.empty(),i=new ht(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gn(t.key,r,new an(i.toArray()),Tr.none())}}function qj(t,e,n){t instanceof ao?function(i,o,s){let a=i.value.clone(),l=FT(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gn?function(i,o,s){if(!Od(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=FT(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(JS(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ic(t,e,n,r){return t instanceof ao?function(o,s,a,l){if(!Od(o.precondition,s))return a;let u=o.value.clone(),h=LT(o.fieldTransforms,l,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gn?function(o,s,a,l){if(!Od(o.precondition,s))return a;let u=LT(o.fieldTransforms,l,s),h=s.data;return h.setAll(JS(o)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return Od(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Gj(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=KS(r.transform,i||null);o!=null&&(n===null&&(n=Kt.empty()),n.set(r.field,o))}return n||null}function OT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_s(r,i,(o,s)=>Hj(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ao=class extends Rs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gn=class extends Rs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function JS(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function FT(t,e,n){let r=new Map;De(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,zj(s,a,n[i]))}return r}function LT(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,$j(o,s,e))}return r}var Cc=class extends Rs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},ny=class extends Rs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ry=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&qj(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=GS();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let l=XS(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&_s(this.mutations,e.mutations,(n,r)=>OT(n,r))&&_s(this.baseMutations,e.baseMutations,(n,r)=>OT(n,r))}},iy=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return Lj}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var oy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var sy=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var it,ve;function Wj(t){switch(t){case N.OK:return X(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function eA(t){if(t===void 0)return Ar("GRPC error has no .code"),N.UNKNOWN;switch(t){case it.OK:return N.OK;case it.CANCELLED:return N.CANCELLED;case it.UNKNOWN:return N.UNKNOWN;case it.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case it.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case it.INTERNAL:return N.INTERNAL;case it.UNAVAILABLE:return N.UNAVAILABLE;case it.UNAUTHENTICATED:return N.UNAUTHENTICATED;case it.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case it.NOT_FOUND:return N.NOT_FOUND;case it.ALREADY_EXISTS:return N.ALREADY_EXISTS;case it.PERMISSION_DENIED:return N.PERMISSION_DENIED;case it.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case it.ABORTED:return N.ABORTED;case it.OUT_OF_RANGE:return N.OUT_OF_RANGE;case it.UNIMPLEMENTED:return N.UNIMPLEMENTED;case it.DATA_LOSS:return N.DATA_LOSS;default:return X(39323,{code:t})}}(ve=it||(it={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var VT=null;var Kj=new Er([4294967295,4294967295],0);function jT(t){let e=hS().encode(t),n=new wv;return n.update(e),new Uint8Array(n.digest())}function BT(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Er([n,r],0),new Er([i,o],0)]}var ay=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eo(`Invalid padding: ${n}`);if(r<0)throw new eo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Er.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Er.fromNumber(r)));return i.compare(Kj)===1&&(i=new Er([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=jT(e),[r,i]=BT(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=jT(e),[r,i]=BT(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},eo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var qd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Dc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ne.min(),i,new Ke(ae),Mr(),he())}},Dc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,he(),he(),he())}};var Is=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},Gd=class{constructor(e,n){this.targetId=e,this.Ce=n}},Wd=class{constructor(e,n,r=At.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Kd=class{constructor(){this.Fe=0,this.Me=UT(),this.xe=At.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=he(),n=he(),r=he();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:X(38017,{changeType:o})}}),new Dc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=UT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,De(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},cy=class{constructor(e){this.ze=e,this.je=new Map,this.He=Mr(),this.Je=Rd(),this.Ye=Rd(),this.Ze=new Ke(ae)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:X(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(Xv(o))if(r===0){let s=new Y(o.path);this.tt(n,s,Cn.newNoDocument(s,ne.min()))}else De(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),l=a?this.lt(a,e,s):1;if(l!==0){this.st(n);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}VT==null||VT.ht(function(h,f,v,m,C){var D,S,M,F,L,B;let K={localCacheCount:h,existenceFilterCount:f.count,databaseId:v.database,projectId:v.projectId},U=f.unchangedNames;return U&&(K.bloomFilter={applied:C===0,hashCount:(D=U==null?void 0:U.hashCount)!==null&&D!==void 0?D:0,bitmapLength:(F=(M=(S=U==null?void 0:U.bits)===null||S===void 0?void 0:S.bitmap)===null||M===void 0?void 0:M.length)!==null&&F!==void 0?F:0,padding:(B=(L=U==null?void 0:U.bits)===null||L===void 0?void 0:L.padding)!==null&&B!==void 0?B:0,mightContain:I=>{var y;return(y=m==null?void 0:m.mightContain(I))!==null&&y!==void 0&&y}}),K}(s,e.Ce,this.ze.Pt(),a,l))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=kr(r).toUint8Array()}catch(l){if(l instanceof Ud)return ws("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new ay(s,i,o)}catch(l){return ws(l instanceof eo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&Xv(a.target)){let l=new Y(a.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Cn.newNoDocument(l,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=he();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{let u=this._t(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new qd(e,n,this.Ze,this.He,r);return this.He=Mr(),this.Je=Rd(),this.Ye=Rd(),this.Ze=new Ke(ae),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Kd,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new ht(ae),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new ht(ae),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Kd),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function Rd(){return new Ke(Y.comparator)}function UT(){return new Ke(Y.comparator)}var Yj={asc:"ASCENDING",desc:"DESCENDING"},Qj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zj={and:"AND",or:"OR"},ly=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function uy(t,e){return t.useProto3Json||vh(e)?e:{value:e}}function Yd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function tA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Xj(t,e){return Yd(t,e.toTimestamp())}function Hn(t){return De(!!t,49232),ne.fromTimestamp(function(n){let r=xr(n);return new yt(r.seconds,r.nanos)}(t))}function A0(t,e){return dy(t,e).canonicalString()}function dy(t,e){let n=function(i){return new $e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nA(t){let e=$e.fromString(t);return De(aA(e),10190,{key:e.toString()}),e}function hy(t,e){return A0(t.databaseId,e.path)}function Sv(t,e){let n=nA(e);if(n.get(1)!==t.databaseId.projectId)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(iA(n))}function rA(t,e){return A0(t.databaseId,e)}function Jj(t){let e=nA(t);return e.length===4?$e.emptyPath():iA(e)}function fy(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function iA(t){return De(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function $T(t,e,n){return{name:hy(t,e),fields:n.value.mapValue.fields}}function eB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:X(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,h){return u.useProto3Json?(De(h===void 0||typeof h=="string",58123),At.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),At.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?N.UNKNOWN:eA(u.code);return new H(h,u.message||"")}(s);n=new Wd(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Sv(t,r.document.name),o=Hn(r.document.updateTime),s=r.document.createTime?Hn(r.document.createTime):ne.min(),a=new Kt({mapValue:{fields:r.document.fields}}),l=Cn.newFoundDocument(i,o,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Is(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Sv(t,r.document),o=r.readTime?Hn(r.readTime):ne.min(),s=Cn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Is([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Sv(t,r.document),o=r.removedTargetIds||[];n=new Is([],o,i,null)}else{if(!("filter"in e))return X(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new sy(i,o),a=r.targetId;n=new Gd(a,s)}}return n}function tB(t,e){let n;if(e instanceof ao)n={update:$T(t,e.key,e.value)};else if(e instanceof Cc)n={delete:hy(t,e.key)};else if(e instanceof Gn)n={update:$T(t,e.key,e.data),updateMask:uB(e.fieldMask)};else{if(!(e instanceof ny))return X(16599,{ft:e.type});n={verify:hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof xs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof so)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ks)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw X(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Xj(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:X(27497)}(t,e.precondition)),n}function nB(t,e){return t&&t.length>0?(De(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?Hn(i.updateTime):Hn(o);return s.isEqual(ne.min())&&(s=Hn(o)),new ty(s,i.transformResults||[])}(n,e))):[]}function rB(t,e){return{documents:[rA(t,e.path)]}}function iB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rA(t,i);let o=function(u){if(u.length!==0)return sA(Dn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(u){if(u.length!==0)return u.map(h=>function(v){return{field:gs(v.field),direction:aB(v.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=uy(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{gt:n,parent:i}}function oB(t){let e=Jj(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){let v=oA(f);return v instanceof Dn&&LS(v)?v.getFilters():[v]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(v=>function(C){return new Ss(vs(C.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(v))}(n.orderBy));let a=null;n.limit&&(a=function(f){let v;return v=typeof f=="object"?f.value:f,vh(v)?null:v}(n.limit));let l=null;n.startAt&&(l=function(f){let v=!!f.before,m=f.values||[];return new Ts(m,v)}(n.startAt));let u=null;return n.endAt&&(u=function(f){let v=!f.before,m=f.values||[];return new Ts(m,v)}(n.endAt)),Mj(e,i,s,o,a,"F",l,u)}function sB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function oA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=vs(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=vs(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=vs(n.unaryFilter.field);return st.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=vs(n.unaryFilter.field);return st.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return st.create(vs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Dn.create(n.compositeFilter.filters.map(r=>oA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function aB(t){return Yj[t]}function cB(t){return Qj[t]}function lB(t){return Zj[t]}function gs(t){return{fieldPath:t.canonicalString()}}function vs(t){return Yt.fromServerFormat(t.fieldPath)}function sA(t){return t instanceof st?function(n){if(n.op==="=="){if(xT(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NAN"}};if(AT(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xT(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NOT_NAN"}};if(AT(n.value))return{unaryFilter:{field:gs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gs(n.field),op:cB(n.op),value:n.value}}}(t):t instanceof Dn?function(n){let r=n.getFilters().map(i=>sA(i));return r.length===1?r[0]:{compositeFilter:{op:lB(n.op),filters:r}}}(t):X(54877,{filter:t})}function uB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function aA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Tc=class t{constructor(e,n,r,i,o=ne.min(),s=ne.min(),a=At.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var py=class{constructor(e){this.wt=e}};function dB(t){let e=oB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ey(e,e.limit,"L"):e}var Qd=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),wc(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=xr(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(kr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?NS(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):PS(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):X(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=Es,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(je(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),Y.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};Qd.Wt=new Qd;var my=class{constructor(){this.yn=new gy}addToCollectionParentIndex(e,n){return this.yn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(ro.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},gy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ht($e.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ht($e.comparator)).toArray()}};var QZ=new Uint8Array(0);var zT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cA=41943040,sn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(cA,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);var Sc=class t{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new t(0)}static ir(){return new t(-1)}};var HT="LruGarbageCollector",hB=1048576;function qT([t,e],[n,r]){let i=ae(t,n);return i===0?ae(e,r):i}var vy=class{constructor(e){this.cr=e,this.buffer=new ht(qT),this.lr=0}hr(){return++this.lr}Pr(e){let n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();qT(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},yy=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){$(HT,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vs(n)?$(HT,"Ignoring IndexedDB error during garbage collection: ",n):yield Ls(n)}yield this.Ir(3e5)}))}},Iy=class{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(y0.le);let r=new vy(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(zT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zT):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,s,a,l,u,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ps()<=ue.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}};function fB(t,e){return new Iy(t,e)}var by=class{constructor(){this.changes=new Rr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var wy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var _y=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ic(r.mutation,i,an.empty(),yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,n,r=he()){let i=Ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=mc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,he()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Mr(),s=yc(),a=function(){return yc()}();return n.forEach((l,u)=>{let h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Gn)?o=o.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Ic(h.mutation,u,h.mutation.getFieldMask(),yt.now())):s.set(u.key,an.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,h)=>s.set(u,h)),n.forEach((u,h)=>{var f;return a.set(u,new wy(h,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){let r=yc(),i=new Ke((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(l=>{let u=n.get(l);if(u===null)return;let h=r.get(l)||an.empty();h=a.applyToLocalView(u,h),r.set(l,h);let f=(i.get(a.batchId)||he()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,h=l.value,f=GS();h.forEach(v=>{if(!o.has(v)){let m=XS(n.get(v),r.get(v));m!==null&&f.set(v,m),o=o.add(v)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):US(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(Ji()),a=bc,l=o;return s.next(u=>O.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(v=>{l=l.insert(h,v)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,he())).next(h=>({batchId:a,changes:qS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=mc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=mc();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,l=>{let u=function(f,v){return new io(v,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,v)=>{s=s.insert(f,v)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,Cn.newInvalidDocument(h)))});let a=mc();return s.forEach((l,u)=>{let h=o.get(l);h!==void 0&&Ic(h.mutation,u,an.empty(),yt.now()),bh(n,u)&&(a=a.insert(l,u))}),a})}};var Ey=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return O.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hn(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:dB(i.bundledQuery),readTime:Hn(i.readTime)}}(n)),O.resolve()}};var Cy=class{constructor(){this.overlays=new Ke(Y.comparator),this.Or=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ji();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=Ji(),o=n.length+1,s=new Y(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ke((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=o.get(u.largestBatchId);h===null&&(h=Ji(),o=o.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=Ji(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return O.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new oy(n,r));let o=this.Or.get(n);o===void 0&&(o=he(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}};var Dy=class{constructor(){this.sessionToken=At.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var Ac=class{constructor(){this.Nr=new ht(ot.Br),this.Lr=new ht(ot.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){let r=new ot(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new ot(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){let n=new Y(new $e([])),r=new ot(n,e),i=new ot(n,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let n=new Y(new $e([])),r=new ot(n,e),i=new ot(n,e+1),o=he();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ot(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ot=class{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return Y.comparator(e.key,n.key)||ae(e.Gr,n.Gr)}static kr(e,n){return ae(e.Gr,n.Gr)||Y.comparator(e.key,n.key)}};var Ty=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new ht(ot.Br)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ry(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.zr=this.zr.add(new ot(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Hr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?I0:this.Jn-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ot(n,0),i=new ot(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let a=this.jr(s.Gr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ht(ae);return n.forEach(i=>{let o=new ot(i,0),s=new ot(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),O.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new ot(new Y(o),0),a=new ht(ae);return this.zr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Gr)),!0)},s),O.resolve(this.Jr(a))}Jr(e){let n=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return O.forEach(n.mutations,i=>{let o=new ot(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){let r=new ot(n,0),i=this.zr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Sy=class{constructor(e){this.Zr=e,this.docs=function(){return new Ke(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():Cn.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Cn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Mr(),s=n.path,a=new Y(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:h}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||fj(hj(h),r)<=0||(i.has(h.key)||bh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){X(9500)}Xr(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ay(this)}getSize(e){return O.resolve(this.size)}},Ay=class extends by{constructor(e){super(),this.vr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}};var xy=class{constructor(e){this.persistence=e,this.ei=new Rr(n=>C0(n),D0),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ac,this.targetCount=0,this.ri=Sc.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),O.resolve()}ar(e){this.ei.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ri=new Sc(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.ar(n),O.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.ei.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ni.Wr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.ni.containsKey(n))}};var Zd=class{constructor(e,n){this.ii={},this.overlays={},this.si=new y0(0),this.oi=!1,this.oi=!0,this._i=new Dy,this.referenceDelegate=e(this),this.ai=new xy(this),this.indexManager=new my,this.remoteDocumentCache=function(i){return new Sy(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new py(n),this.ci=new Ey(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Cy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new Ty(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){$("MemoryPersistence","Starting transaction:",e);let i=new ky(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return O.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}},ky=class extends jv{constructor(e){super(),this.currentSequenceNumber=e}},Ry=class t{constructor(e){this.persistence=e,this.Ti=new Ac,this.Ii=null}static Ei(e){return new t(e)}get di(){if(this.Ii)return this.Ii;throw X(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),O.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.di,r=>{let i=Y.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,ne.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return O.or([()=>O.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}},Xd=class t{constructor(e,n){this.persistence=e,this.Ri=new Rr(r=>vj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fB(this,n)}static Ei(e,n){return new t(e,n)}li(){}hi(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return O.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?O.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ne.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),O.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pd(e.data.value)),n}gr(e,n,r){return O.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.Ri.get(n);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var My=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=he(),i=he();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Py=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Ny=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return vD()?8:mj(Gt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Py;return this.fs(e,n,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,n,s,a.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(ps()<=ue.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),O.resolve()):(ps()<=ue.DEBUG&&$("QueryEngine","Query:",ms(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ps()<=ue.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zn(n))):O.resolve())}Rs(e,n){if(PT(n))return O.resolve(null);let r=zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ey(n,null,"F"),r=zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.ps(n,a);return this.ys(n,u,s,l.readTime)?this.Rs(e,ey(n,null,"F")):this.ws(e,u,n,l)}))})))}Vs(e,n,r,i){return PT(n)||i.isEqual(ne.min())?O.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(n,o);return this.ys(n,s,r,i)?O.resolve(null):(ps()<=ue.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ms(n)),this.ws(e,s,n,dj(i,bc)).next(a=>a))})}ps(e,n){let r=new ht(zS(e));return n.forEach((i,o)=>{bh(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return ps()<=ue.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",ms(n)),this.As.getDocumentsMatchingQuery(e,n,ro.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var x0="LocalStore",pB=3e8,Oy=class{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Ke(ae),this.Ds=new Rr(o=>C0(o),D0),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _y(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}};function mB(t,e,n,r){return new Oy(t,e,n,r)}function lA(t,e){return _(this,null,function*(){let n=te(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],l=he();for(let u of i){s.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}for(let u of o){a.push(u.batchId);for(let h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Ms:u,removedBatchIds:s,addedBatchIds:a}))})})})}function gB(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){let f=u.batch,v=f.keys(),m=O.resolve();return v.forEach(C=>{m=m.next(()=>h.getEntry(l,C)).next(D=>{let S=u.docVersions.get(C);De(S!==null,48541),D.version.compareTo(S)<0&&(f.applyToRemoteDocument(D,u),D.isValidDocument()&&(D.setReadTime(u.commitVersion),h.addEntry(D)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=he();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uA(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function vB(t,e){let n=te(t),r=e.snapshotVersion,i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;let a=[];e.targetChanges.forEach((h,f)=>{let v=i.get(f);if(!v)return;a.push(n.ai.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.ai.addMatchingKeys(o,h.addedDocuments,f)));let m=v.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(At.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(f,m),function(D,S,M){return D.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=pB?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0}(v,m,h)&&a.push(n.ai.updateTargetData(o,m))});let l=Mr(),u=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(yB(o,s,e.documentUpdates).next(h=>{l=h.xs,u=h.Os})),!r.isEqual(ne.min())){let h=n.ai.getLastRemoteSnapshotVersion(o).next(f=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.Ss=i,o))}function yB(t,e,n){let r=he(),i=he();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Mr();return n.forEach((a,l)=>{let u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):$(x0,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{xs:s,Os:i}})}function IB(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=I0),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bB(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.ai.allocateTargetId(r).next(s=>(i=new Tc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}function Fy(t,e,n){return _(this,null,function*(){let r=te(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Vs(s))throw s;$(x0,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function GT(t,e,n){let r=te(t),i=ne.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,h){let f=te(l),v=f.Ds.get(h);return v!==void 0?O.resolve(f.Ss.get(v)):f.ai.getTargetData(u,h)}(r,s,zn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,n?i:ne.min(),n?o:he())).next(a=>(wB(r,Nj(e),a),{documents:a,Ns:o})))}function wB(t,e,n){let r=t.vs.get(e)||ne.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}var Jd=class{constructor(){this.activeTargetIds=Bj()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Ly=class{constructor(){this.So=new Jd,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Jd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Vy=class{vo(e){}shutdown(){}};var WT="ConnectivityMonitor",eh=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){$(WT,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){$(WT,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Md=null;function jy(){return Md===null?Md=function(){return 268435456+Math.round(2147483648*Math.random())}():Md++,"0x"+Md.toString(16)}var Av="RestConnection",_B={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},By=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===$d?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){let s=jy(),a=this.$o(e,n.toUriEncodedString());$(Av,`Sending RPC '${e}' ${s}:`,a,r);let l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(l,i,o),this.Ko(e,a,l,r).then(u=>($(Av,`Received RPC '${e}' ${s}: `,u),u),u=>{throw ws(Av,`RPC '${e}' ${s} failed with error: `,u,"url: ",a,"request:",r),u})}Wo(e,n,r,i,o,s){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Fs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){let r=_B[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}};var Uy=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var St="WebChannelConnection",$y=class extends By{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){let o=jy();return new Promise((s,a)=>{let l=new _v;l.setWithCredentials(!0),l.listenOnce(Ev.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case pc.NO_ERROR:let h=l.getResponseJson();$(St,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case pc.TIMEOUT:$(St,`RPC '${e}' ${o} timed out`),a(new H(N.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:let f=l.getStatus();if($(St,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let v=l.getResponseJson();Array.isArray(v)&&(v=v[0]);let m=v==null?void 0:v.error;if(m&&m.status&&m.message){let C=function(S){let M=S.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(M)>=0?M:N.UNKNOWN}(m.status);a(new H(C,m.message))}else a(new H(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new H(N.UNAVAILABLE,"Connection failed."));break;default:X(9055,{s_:e,streamId:o,o_:l.getLastErrorCode(),__:l.getLastError()})}}finally{$(St,`RPC '${e}' ${o} completed.`)}});let u=JSON.stringify(i);$(St,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}a_(e,n,r){let i=jy(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Tv(),a=Dv(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let h=o.join("");$(St,`Creating RPC '${e}' stream ${i}: ${h}`,l);let f=s.createWebChannel(h,l),v=!1,m=!1,C=new Uy({Go:S=>{m?$(St,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(v||($(St,`Opening RPC '${e}' stream ${i} transport.`),f.open(),v=!0),$(St,`RPC '${e}' stream ${i} sending:`,S),f.send(S))},zo:()=>f.close()}),D=(S,M,F)=>{S.listen(M,L=>{try{F(L)}catch(B){setTimeout(()=>{throw B},0)}})};return D(f,fs.EventType.OPEN,()=>{m||($(St,`RPC '${e}' stream ${i} transport opened.`),C.t_())}),D(f,fs.EventType.CLOSE,()=>{m||(m=!0,$(St,`RPC '${e}' stream ${i} transport closed`),C.r_())}),D(f,fs.EventType.ERROR,S=>{m||(m=!0,ws(St,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),C.r_(new H(N.UNAVAILABLE,"The operation could not be completed")))}),D(f,fs.EventType.MESSAGE,S=>{var M;if(!m){let F=S.data[0];De(!!F,16349);let L=F,B=(L==null?void 0:L.error)||((M=L[0])===null||M===void 0?void 0:M.error);if(B){$(St,`RPC '${e}' stream ${i} received error:`,B);let K=B.status,U=function(b){let E=it[b];if(E!==void 0)return eA(E)}(K),I=B.message;U===void 0&&(U=N.INTERNAL,I="Unknown error status: "+K+" with message "+B.message),m=!0,C.r_(new H(U,I)),f.close()}else $(St,`RPC '${e}' stream ${i} received:`,F),C.i_(F)}}),D(a,Cv.STAT_EVENT,S=>{S.stat===xd.PROXY?$(St,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===xd.NOPROXY&&$(St,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.n_()},0),C}};function xv(){return typeof document<"u"?document:null}function wh(t){return new ly(t,!0)}var th=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&$("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var KT="PersistentStream",nh=class{constructor(e,n,r,i,o,s,a,l){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new th(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return _(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return _(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){return _(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Ar(n.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(n)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{let i=new H(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){let r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>_(this,null,function*(){this.state=0,this.start()}))}L_(e){return $(KT,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():($(KT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},zy=class extends nh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let n=eB(this.serializer,e),r=function(o){if(!("targetChange"in o))return ne.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ne.min():s.readTime?Hn(s.readTime):ne.min()}(e);return this.listener.Q_(n,r)}U_(e){let n={};n.database=fy(this.serializer),n.addTarget=function(o,s){let a,l=s.target;if(a=Xv(l)?{documents:rB(o,l)}:{query:iB(o,l).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=tA(o,s.resumeToken);let u=uy(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(ne.min())>0){a.readTime=Yd(o,s.snapshotVersion.toTimestamp());let u=uy(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=sB(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){let n={};n.database=fy(this.serializer),n.removeTarget=e,this.F_(n)}},Hy=class extends nh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let n=nB(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.j_(r,n)}H_(){let e={};e.database=fy(this.serializer),this.F_(e)}G_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>tB(this.serializer,r))};this.F_(n)}};var qy=class{},Gy=class extends qy{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,dy(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(N.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,dy(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(N.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},Wy=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ar(n),this.ea=!1):$("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var co="RemoteStore",Ky=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>_(this,null,function*(){lo(this)&&($(co,"Restarting streams for network reachability change."),yield function(l){return _(this,null,function*(){let u=te(l);u.aa.add(4),yield Nc(u),u.la.set("Unknown"),u.aa.delete(4),yield _h(u)})}(this))}))}),this.la=new Wy(r,i)}};function _h(t){return _(this,null,function*(){if(lo(t))for(let e of t.ua)yield e(!0)})}function Nc(t){return _(this,null,function*(){for(let e of t.ua)yield e(!1)})}function dA(t,e){let n=te(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),P0(n)?M0(n):js(n).b_()&&R0(n,e))}function k0(t,e){let n=te(t),r=js(n);n._a.delete(e),r.b_()&&hA(n,e),n._a.size===0&&(r.b_()?r.v_():lo(n)&&n.la.set("Unknown"))}function R0(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}js(t).U_(e)}function hA(t,e){t.ha.Ke(e),js(t).K_(e)}function M0(t){t.ha=new cy({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),js(t).start(),t.la.ta()}function P0(t){return lo(t)&&!js(t).w_()&&t._a.size>0}function lo(t){return te(t).aa.size===0}function fA(t){t.ha=void 0}function EB(t){return _(this,null,function*(){t.la.set("Online")})}function CB(t){return _(this,null,function*(){t._a.forEach((e,n)=>{R0(t,e)})})}function DB(t,e){return _(this,null,function*(){fA(t),P0(t)?(t.la.ia(e),M0(t)):t.la.set("Unknown")})}function TB(t,e,n){return _(this,null,function*(){if(t.la.set("Online"),e instanceof Wd&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i._a.delete(a),i.ha.removeTarget(a))})}(t,e)}catch(r){$(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rh(t,r)}else if(e instanceof Is?t.ha.Xe(e):e instanceof Gd?t.ha.ot(e):t.ha.nt(e),!n.isEqual(ne.min()))try{let r=yield uA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.ha.It(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let h=o._a.get(u);h&&o._a.set(u,h.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{let h=o._a.get(l);if(!h)return;o._a.set(l,h.withResumeToken(At.EMPTY_BYTE_STRING,h.snapshotVersion)),hA(o,l);let f=new Tc(h.target,l,u,h.sequenceNumber);R0(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){$(co,"Failed to raise snapshot:",r),yield rh(t,r)}})}function rh(t,e,n){return _(this,null,function*(){if(!Vs(e))throw e;t.aa.add(1),yield Nc(t),t.la.set("Offline"),n||(n=()=>uA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>_(this,null,function*(){$(co,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield _h(t)}))})}function pA(t,e){return e().catch(n=>rh(t,n,e))}function Eh(t){return _(this,null,function*(){let e=te(t),n=ui(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:I0;for(;SB(e);)try{let i=yield IB(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,AB(e,i)}catch(i){yield rh(e,i)}mA(e)&&gA(e)})}function SB(t){return lo(t)&&t.oa.length<10}function AB(t,e){t.oa.push(e);let n=ui(t);n.b_()&&n.W_&&n.G_(e.mutations)}function mA(t){return lo(t)&&!ui(t).w_()&&t.oa.length>0}function gA(t){ui(t).start()}function xB(t){return _(this,null,function*(){ui(t).H_()})}function kB(t){return _(this,null,function*(){let e=ui(t);for(let n of t.oa)e.G_(n.mutations)})}function RB(t,e,n){return _(this,null,function*(){let r=t.oa.shift(),i=iy.from(r,e,n);yield pA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Eh(t)})}function MB(t,e){return _(this,null,function*(){e&&ui(t).W_&&(yield function(r,i){return _(this,null,function*(){if(function(s){return Wj(s)&&s!==N.ABORTED}(i.code)){let o=r.oa.shift();ui(r).D_(),yield pA(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Eh(r)}})}(t,e)),mA(t)&&gA(t)})}function YT(t,e){return _(this,null,function*(){let n=te(t);n.asyncQueue.verifyOperationInProgress(),$(co,"RemoteStore received new credentials");let r=lo(n);n.aa.add(3),yield Nc(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield _h(n)})}function PB(t,e){return _(this,null,function*(){let n=te(t);e?(n.aa.delete(2),yield _h(n)):e||(n.aa.add(2),yield Nc(n),n.la.set("Unknown"))})}function js(t){return t.Pa||(t.Pa=function(n,r,i){let o=te(n);return o.Y_(),new zy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:EB.bind(null,t),Jo:CB.bind(null,t),Zo:DB.bind(null,t),Q_:TB.bind(null,t)}),t.ua.push(e=>_(this,null,function*(){e?(t.Pa.D_(),P0(t)?M0(t):t.la.set("Unknown")):(yield t.Pa.stop(),fA(t))}))),t.Pa}function ui(t){return t.Ta||(t.Ta=function(n,r,i){let o=te(n);return o.Y_(),new Hy(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:xB.bind(null,t),Zo:MB.bind(null,t),z_:kB.bind(null,t),j_:RB.bind(null,t)}),t.ua.push(e=>_(this,null,function*(){e?(t.Ta.D_(),yield Eh(t)):(yield t.Ta.stop(),t.oa.length>0&&($(co,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))}))),t.Ta}var Yy=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function N0(t,e){if(Ar("AsyncQueue",`${e}: ${t}`),Vs(t))return new H(N.UNAVAILABLE,`${e}: ${t}`);throw t}var ih=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=mc(),this.sortedSet=new Ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var oh=class{constructor(){this.Ia=new Ke(Y.comparator)}track(e){let n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):X(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){let e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}},Ms=class t{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,ih.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Qy=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},Zy=class{constructor(){this.queries=QT(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){let i=te(n),o=i.queries;i.queries=QT(),o.forEach((s,a)=>{for(let l of a.Ra)l.onError(r)})})(this,new H(N.ABORTED,"Firestore shutting down"))}};function QT(){return new Rr(t=>$S(t),Ih)}function NB(t,e){return _(this,null,function*(){let n=te(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new Qy,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=N0(s,`Initialization of query '${ms(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&O0(n)})}function OB(t,e){return _(this,null,function*(){let n=te(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function FB(t,e){let n=te(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&O0(n)}function LB(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(n);r.queries.delete(e)}function O0(t){t.fa.forEach(e=>{e.next()})}var Xy,ZT;(ZT=Xy||(Xy={})).ya="default",ZT.Cache="cache";var Jy=class{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ms(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;let r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Xy.Cache}};var sh=class{constructor(e){this.key=e}},ah=class{constructor(e){this.key=e}},e0=class{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=he(),this.mutatedKeys=he(),this.Ua=zS(e),this.Ka=new ih(this.Ua)}get Wa(){return this.qa}Ga(e,n){let r=n?n.za:new oh,i=n?n.Ka:this.Ka,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{let v=i.get(h),m=bh(this.query,f)?f:null,C=!!v&&this.mutatedKeys.has(v.key),D=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),S=!1;v&&m?v.data.isEqual(m.data)?C!==D&&(r.track({type:3,doc:m}),S=!0):this.ja(v,m)||(r.track({type:2,doc:m}),S=!0,(l&&this.Ua(m,l)>0||u&&this.Ua(m,u)<0)&&(a=!0)):!v&&m?(r.track({type:0,doc:m}),S=!0):v&&!m&&(r.track({type:1,doc:v}),S=!0,(l||u)&&(a=!0)),S&&(m?(s=s.add(m),o=D?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((h,f)=>function(m,C){let D=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X(20277,{Vt:S})}};return D(m)-D(C)}(h.type,f.type)||this.Ua(h.doc,f.doc)),this.Ha(r),i=i!=null&&i;let a=n&&!i?this.Ja():[],l=this.$a.size===0&&this.current&&!i?1:0,u=l!==this.Qa;return this.Qa=l,s.length!==0||u?{snapshot:new Ms(this.query,e.Ka,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new oh,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=he(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new ah(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new sh(r))}),n}Xa(e){this.qa=e.Ns,this.$a=he();let n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ms.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},F0="SyncEngine",t0=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},n0=class{constructor(e){this.key=e,this.tu=!1}},r0=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Rr(a=>$S(a),Ih),this.iu=new Map,this.su=new Set,this.ou=new Ke(Y.comparator),this._u=new Map,this.au=new Ac,this.uu={},this.cu=new Map,this.lu=Sc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function VB(t,e,n=!0){return _(this,null,function*(){let r=_A(t),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield vA(r,e,n,!0),i})}function jB(t,e){return _(this,null,function*(){let n=_A(t);yield vA(n,e,!0,!1)})}function vA(t,e,n,r){return _(this,null,function*(){let i=yield bB(t.localStore,zn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield BB(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&dA(t.remoteStore,i),a})}function BB(t,e,n,r,i){return _(this,null,function*(){t.Pu=(f,v,m)=>function(D,S,M,F){return _(this,null,function*(){let L=S.view.Ga(M);L.ys&&(L=yield GT(D.localStore,S.query,!1).then(({documents:I})=>S.view.Ga(I,L)));let B=F&&F.targetChanges.get(S.targetId),K=F&&F.targetMismatches.get(S.targetId)!=null,U=S.view.applyChanges(L,D.isPrimaryClient,B,K);return JT(D,S.targetId,U.Ya),U.snapshot})}(t,f,v,m);let o=yield GT(t.localStore,e,!0),s=new e0(e,o.Ns),a=s.Ga(o.documents),l=Dc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);JT(t,n,u.Ya);let h=new t0(e,n,s);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),u.snapshot})}function UB(t,e,n){return _(this,null,function*(){let r=te(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!Ih(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Fy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&k0(r.remoteStore,i.targetId),i0(r,i.targetId)}).catch(Ls))):(i0(r,i.targetId),yield Fy(r.localStore,i.targetId,!0))})}function $B(t,e){return _(this,null,function*(){let n=te(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),k0(n.remoteStore,r.targetId))})}function zB(t,e,n){return _(this,null,function*(){let r=QB(t);try{let i=yield function(s,a){let l=te(s),u=yt.now(),h=a.reduce((m,C)=>m.add(C.key),he()),f,v;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let C=Mr(),D=he();return l.Cs.getEntries(m,h).next(S=>{C=S,C.forEach((M,F)=>{F.isValidDocument()||(D=D.add(M))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,C)).next(S=>{f=S;let M=[];for(let F of a){let L=Gj(F,f.get(F.key).overlayedDocument);L!=null&&M.push(new Gn(F.key,L,OS(L.value.mapValue),Tr.exists(!0)))}return l.mutationQueue.addMutationBatch(m,u,M,a)}).next(S=>{v=S;let M=S.applyToLocalDocumentSet(f,D);return l.documentOverlayCache.saveOverlays(m,S.batchId,M)})}).then(()=>({batchId:v.batchId,changes:qS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.uu[s.currentUser.toKey()];u||(u=new Ke(ae)),u=u.insert(a,l),s.uu[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Oc(r,i.changes),yield Eh(r.remoteStore)}catch(i){let o=N0(i,"Failed to persist write");n.reject(o)}})}function yA(t,e){return _(this,null,function*(){let n=te(t);try{let r=yield vB(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n._u.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?De(s.tu,14607):i.removedDocuments.size>0&&(De(s.tu,42227),s.tu=!1))}),yield Oc(n,r,e)}catch(r){yield Ls(r)}})}function XT(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ru.forEach((o,s)=>{let a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let l=te(s);l.onlineState=a;let u=!1;l.queries.forEach((h,f)=>{for(let v of f.Ra)v.ga(a)&&(u=!0)}),u&&O0(l)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function HB(t,e,n){return _(this,null,function*(){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r._u.get(e),o=i&&i.key;if(o){let s=new Ke(Y.comparator);s=s.insert(o,Cn.newNoDocument(o,ne.min()));let a=he().add(o),l=new qd(ne.min(),new Map,new Ke(ae),s,a);yield yA(r,l),r.ou=r.ou.remove(o),r._u.delete(e),L0(r)}else yield Fy(r.localStore,e,!1).then(()=>i0(r,e,n)).catch(Ls)})}function qB(t,e){return _(this,null,function*(){let n=te(t),r=e.batch.batchId;try{let i=yield gB(n.localStore,e);bA(n,r,null),IA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Oc(n,i)}catch(i){yield Ls(i)}})}function GB(t,e,n){return _(this,null,function*(){let r=te(t);try{let i=yield function(s,a){let l=te(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(De(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(r.localStore,e);bA(r,e,n),IA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Oc(r,i)}catch(i){yield Ls(i)}})}function IA(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function bA(t,e,n){let r=te(t),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function i0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||wA(t,r)})}function wA(t,e){t.su.delete(e.path.canonicalString());let n=t.ou.get(e);n!==null&&(k0(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),L0(t))}function JT(t,e,n){for(let r of n)r instanceof sh?(t.au.addReference(r.key,e),WB(t,r)):r instanceof ah?($(F0,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||wA(t,r.key)):X(19791,{Iu:r})}function WB(t,e){let n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||($(F0,"New document in limbo: "+n),t.su.add(r),L0(t))}function L0(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){let e=t.su.values().next().value;t.su.delete(e);let n=new Y($e.fromString(e)),r=t.lu.next();t._u.set(r,new n0(n)),t.ou=t.ou.insert(n,r),dA(t.remoteStore,new Tc(zn(T0(n.path)),r,"TargetPurposeLimboResolution",y0.le))}}function Oc(t,e,n){return _(this,null,function*(){let r=te(t),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((a,l)=>{s.push(r.Pu(l,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){let f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);let f=My.Ps(l.targetId,u);o.push(f)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(l,u){return _(this,null,function*(){let h=te(l);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>O.forEach(u,v=>O.forEach(v.ls,m=>h.persistence.referenceDelegate.addReference(f,v.targetId,m)).next(()=>O.forEach(v.hs,m=>h.persistence.referenceDelegate.removeReference(f,v.targetId,m)))))}catch(f){if(!Vs(f))throw f;$(x0,"Failed to update sequence numbers: "+f)}for(let f of u){let v=f.targetId;if(!f.fromCache){let m=h.Ss.get(v),C=m.snapshotVersion,D=m.withLastLimboFreeSnapshotVersion(C);h.Ss=h.Ss.insert(v,D)}}})}(r.localStore,o))})}function KB(t,e){return _(this,null,function*(){let n=te(t);if(!n.currentUser.isEqual(e)){$(F0,"User change. New user:",e.toKey());let r=yield lA(n.localStore,e);n.currentUser=e,function(o,s){o.cu.forEach(a=>{a.forEach(l=>{l.reject(new H(N.CANCELLED,s))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oc(n,r.Ms)}})}function YB(t,e){let n=te(t),r=n._u.get(e);if(r&&r.tu)return he().add(r.key);{let i=he(),o=n.iu.get(e);if(!o)return i;for(let s of o){let a=n.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function _A(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HB.bind(null,e),e.nu.Q_=FB.bind(null,e.eventManager),e.nu.Tu=LB.bind(null,e.eventManager),e}function QB(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GB.bind(null,e),e}var EA=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return _(this,null,function*(){this.serializer=wh(n.databaseInfo.databaseId),this.sharedClientState=this.Au(n),this.persistence=this.Ru(n),yield this.persistence.start(),this.localStore=this.Vu(n),this.gcScheduler=this.mu(n,this.localStore),this.indexBackfillerScheduler=this.fu(n,this.localStore)})}mu(n,r){return null}fu(n,r){return null}Vu(n){return mB(this.persistence,new Ny,n.initialUser,this.serializer)}Ru(n){return new Zd(Ry.Ei,this.serializer)}Au(n){return new Ly}terminate(){return _(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),o0=class extends EA{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){De(this.persistence.referenceDelegate instanceof Xd,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new yy(r,e.asyncQueue,n)}Ru(e){let n=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new Zd(r=>Xd.Ei(r,n),this.serializer)}};var ZB=(()=>{class t{initialize(n,r){return _(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>XT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KB.bind(null,this.syncEngine),yield PB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Zy}()}createDatastore(n){let r=wh(n.databaseInfo.databaseId),i=function(s){return new $y(s)}(n.databaseInfo);return function(s,a,l,u){return new Gy(s,a,l,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,l){return new Ky(i,o,s,a,l)}(this.localStore,this.datastore,n.asyncQueue,r=>XT(this.syncEngine,r,0),function(){return eh.C()?new eh:new Vy}())}createSyncEngine(n,r){return function(o,s,a,l,u,h,f){let v=new r0(o,s,a,l,u,h);return f&&(v.hu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var n,r;yield function(o){return _(this,null,function*(){let s=te(o);$(co,"RemoteStore shutting down."),s.aa.add(5),yield Nc(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var s0=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ar("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var di="FirestoreClient",a0=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=dt.UNAUTHENTICATED,this.clientId=Vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){$(di,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>($(di,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=N0(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function kv(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),$(di,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>_(this,null,function*(){r.isEqual(i)||(yield lA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function eS(t,e){return _(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield XB(t);$(di,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>YT(e.remoteStore,i)),t._onlineComponents=e})}function XB(t){return _(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$(di,"Using user provided OfflineComponentProvider");try{yield kv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ws("Error using user provided cache. Falling back to memory cache: "+n),yield kv(t,new EA)}}else $(di,"Using default OfflineComponentProvider"),yield kv(t,new o0(void 0));return t._offlineComponents})}function CA(t){return _(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?($(di,"Using user provided OnlineComponentProvider"),yield eS(t,t._uninitializedComponentsProvider._online)):($(di,"Using default OnlineComponentProvider"),yield eS(t,new ZB))),t._onlineComponents})}function JB(t){return CA(t).then(e=>e.syncEngine)}function tS(t){return _(this,null,function*(){let e=yield CA(t),n=e.eventManager;return n.onListen=VB.bind(null,e.syncEngine),n.onUnlisten=UB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=$B.bind(null,e.syncEngine),n})}function DA(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var nS=new Map;function TA(t,e,n){if(!n)throw new H(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eU(t,e,n,r){if(e===!0&&r===!0)throw new H(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rS(t){if(!Y.isDocumentKey(t))throw new H(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function iS(t){if(Y.isDocumentKey(t))throw new H(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ch(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Sr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Ch(t);throw new H(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var SA="firestore.googleapis.com",oS=!0,ch=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SA,this.ssl=oS}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:oS;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hB)throw new H(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ps=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ch({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ch(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Rv;switch(r.type){case"firstParty":return new Ov(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=nS.get(n);r&&($("ComponentProvider","Removing Datastore"),nS.delete(n),r.terminate())}(this),Promise.resolve()}};function AA(t,e,n,r={}){var i;let o=(t=Sr(t,Ps))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==SA&&o.host!==a&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!Gi(l,s)&&(t._setSettings(l),r.mockUserToken)){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=dt.MOCK_USER;else{u=sd(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new H(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new dt(f)}t._authCredentials=new Mv(new Fd(u,h))}}var Ns=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Pt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ci=class t extends Ns{constructor(e,n,r){super(e,n,T0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Pt(this.firestore,null,new Y(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function xA(t,e,...n){if(t=We(t),TA("collection","path",e),t instanceof Ps){let r=$e.fromString(e,...n);return iS(r),new ci(t,null,r)}{if(!(t instanceof Pt||t instanceof ci))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return iS(r),new ci(t.firestore,null,r)}}function kA(t,e,...n){if(t=We(t),arguments.length===1&&(e=Vd.newId()),TA("doc","path",e),t instanceof Ps){let r=$e.fromString(e,...n);return rS(r),new Pt(t,null,new Y(r))}{if(!(t instanceof Pt||t instanceof ci))throw new H(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child($e.fromString(e,...n));return rS(r),new Pt(t.firestore,t instanceof ci?t.converter:null,new Y(r))}}var sS="AsyncQueue",lh=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new th(this,"async_queue_retry"),this.ju=()=>{let r=xv();r&&$(sS,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=xv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=xv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new Dr;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return _(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Vs(e))throw e;$(sS,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ar("INTERNAL UNHANDLED ERROR: ",aS(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=Yy.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&X(47125,{ec:aS(this.Ku)})}verifyOperationInProgress(){}tc(){return _(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function aS(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function cS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var hi=class extends Ps{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lh,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new lh(e),this._firestoreClient=void 0,yield e}})}};function RA(t,e){let n=typeof t=="object"?t:ri(),r=typeof t=="string"?t:e||$d,i=cs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=od("firestore");o&&AA(i,...o)}return i}function MA(t){if(t._terminated)throw new H(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||tU(t),t._firestoreClient}function tU(t){var e,n,r;let i=t._freezeSettings(),o=function(a,l,u,h){return new Bv(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,DA(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new a0(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}var xc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(At.fromBase64String(e))}catch(n){throw new H(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(At.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Os=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var kc=class{constructor(e){this._methodName=e}};var Rc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}};var Mc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var nU=/^__.*__$/,c0=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gn(e,this.data,this.fieldMask,n,this.fieldTransforms):new ao(e,this.data,n,this.fieldTransforms)}},uh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Gn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function PA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{oc:t})}}var l0=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return hh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(PA(this.oc)&&nU.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},u0=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wh(e)}dc(e,n,r,i=!1){return new l0({oc:e,methodName:n,Ec:r,path:Yt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function V0(t){let e=t._freezeSettings(),n=wh(t._databaseId);return new u0(t._databaseId,!!e.ignoreUndefinedProperties,n)}function rU(t,e,n,r,i,o={}){let s=t.dc(o.merge||o.mergeFields?2:0,e,n,i);j0("Data must be an object, but it was:",s,r);let a=NA(r,s),l,u;if(o.merge)l=new an(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let f of o.mergeFields){let v=d0(e,f,n);if(!s.contains(v))throw new H(N.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);FA(h,v)||h.push(v)}l=new an(h),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new c0(new Kt(a),l,u)}var dh=class t extends kc{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function iU(t,e,n,r){let i=t.dc(1,e,n);j0("Data must be an object, but it was:",i,r);let o=[],s=Kt.empty();fi(r,(l,u)=>{let h=B0(e,l,n);u=We(u);let f=i.hc(h);if(u instanceof dh)o.push(h);else{let v=Fc(u,f);v!=null&&(o.push(h),s.set(h,v))}});let a=new an(o);return new uh(s,a,i.fieldTransforms)}function oU(t,e,n,r,i,o){let s=t.dc(1,e,n),a=[d0(e,r,n)],l=[i];if(o.length%2!=0)throw new H(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)a.push(d0(e,o[v])),l.push(o[v+1]);let u=[],h=Kt.empty();for(let v=a.length-1;v>=0;--v)if(!FA(u,a[v])){let m=a[v],C=l[v];C=We(C);let D=s.hc(m);if(C instanceof dh)u.push(m);else{let S=Fc(C,D);S!=null&&(u.push(m),h.set(m,S))}}let f=new an(u);return new uh(h,f,s.fieldTransforms)}function sU(t,e,n,r=!1){return Fc(n,t.dc(r?4:3,e))}function Fc(t,e){if(OA(t=We(t)))return j0("Unsupported field value:",e,t),NA(t,e);if(t instanceof kc)return function(r,i){if(!PA(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let l=Fc(a,i.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Uj(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=yt.fromDate(r);return{timestampValue:Yd(i.serializer,o)}}if(r instanceof yt){let o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Yd(i.serializer,o)}}if(r instanceof Rc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xc)return{bytesValue:tA(i.serializer,r._byteString)};if(r instanceof Pt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:A0(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Mc)return function(s,a){return{mapValue:{fields:{[w0]:{stringValue:_0},[Es]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Tc("VectorValues must only contain numeric values.");return S0(a.serializer,u)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Ch(r)}`)}(t,e)}function NA(t,e){let n={};return SS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fi(t,(r,i)=>{let o=Fc(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function OA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof Rc||t instanceof xc||t instanceof Pt||t instanceof kc||t instanceof Mc)}function j0(t,e,n){if(!OA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Ch(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function d0(t,e,n){if((e=We(e))instanceof Os)return e._internalPath;if(typeof e=="string")return B0(t,e);throw hh("Field path arguments must be of type string or ",t,!1,void 0,n)}var aU=new RegExp("[~\\*/\\[\\]]");function B0(t,e,n){if(e.search(aU)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Os(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function hh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new H(N.INVALID_ARGUMENT,a+t+l)}function FA(t,e){return t.some(n=>n.isEqual(e))}var fh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Pt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new h0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(U0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},h0=class extends fh{data(){return super.data()}};function U0(t,e){return typeof e=="string"?B0(t,e):e instanceof Os?e._internalPath:e._delegate._internalPath}function cU(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pc=class{},f0=class extends Pc{};function LA(t,e,...n){let r=[];e instanceof Pc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(l=>l instanceof p0).length,a=o.filter(l=>l instanceof ph).length;if(s>1||s>0&&a>0)throw new H(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var ph=class t extends f0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return jA(e._query,n),new Ns(e.firestore,e.converter,Jv(e._query,n))}_parse(e){let n=V0(e.firestore);return function(o,s,a,l,u,h,f){let v;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){uS(f,h);let C=[];for(let D of f)C.push(lS(l,o,D));v={arrayValue:{values:C}}}else v=lS(l,o,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||uS(f,h),v=sU(a,s,f,h==="in"||h==="not-in");return st.create(u,h,v)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function VA(t,e,n){let r=e,i=U0("where",t);return ph._create(i,r,n)}var p0=class t extends Pc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Dn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let l of a)jA(s,l),s=Jv(s,l)}(e._query,n),new Ns(e.firestore,e.converter,Jv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function lS(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new H(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!US(e)&&n.indexOf("/")!==-1)throw new H(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child($e.fromString(n));if(!Y.isDocumentKey(r))throw new H(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ST(t,new Y(r))}if(n instanceof Pt)return ST(t,n._key);throw new H(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(n)}.`)}function uS(t,e){if(!Array.isArray(t)||t.length===0)throw new H(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jA(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var m0=class{convertValue(e,n="none"){switch(li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return fi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Es].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>je(s.doubleValue));return new Mc(o)}convertGeoPoint(e){return new Rc(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=yh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_c(e));default:return null}}convertTimestamp(e){let n=xr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=$e.fromString(e);De(aA(r),9688,{name:e});let i=new zd(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(n)||Ar(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function lU(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var to=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},mh=class extends fh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new bs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(U0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},bs=class extends mh{data(e={}){return super.data(e)}},g0=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new to(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new bs(this._firestore,this._userDataWriter,r.key,r,new to(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let l=new bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new to(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let l=new bs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new to(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:uU(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function uU(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}var gh=class extends m0{constructor(e){super(),this.firestore=e}convertBytes(e){return new xc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Pt(this.firestore,null,n)}};function BA(t,e,n){t=Sr(t,Pt);let r=Sr(t.firestore,hi),i=lU(t.converter,e,n);return z0(r,[rU(V0(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Tr.none())])}function UA(t,e,n,...r){t=Sr(t,Pt);let i=Sr(t.firestore,hi),o=V0(i),s;return s=typeof(e=We(e))=="string"||e instanceof Os?oU(o,"updateDoc",t._key,e,n,r):iU(o,"updateDoc",t._key,e),z0(i,[s.toMutation(t._key,Tr.exists(!0))])}function $A(t){return z0(Sr(t.firestore,hi),[new Cc(t._key,Tr.none())])}function $0(t,...e){var n,r,i;t=We(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cS(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(cS(e[s])){let f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,h;if(t instanceof Pt)u=Sr(t.firestore,hi),h=T0(t._key.path),l={next:f=>{e[s]&&e[s](dU(u,t,f))},error:e[s+1],complete:e[s+2]};else{let f=Sr(t,Ns);u=Sr(f.firestore,hi),h=f._query;let v=new gh(u);l={next:m=>{e[s]&&e[s](new g0(u,v,f,m))},error:e[s+1],complete:e[s+2]},cU(t._query)}return function(v,m,C,D){let S=new s0(D),M=new Jy(m,S,C);return v.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return NB(yield tS(v),M)})),()=>{S.yu(),v.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return OB(yield tS(v),M)}))}}(MA(u),h,a,l)}function z0(t,e){return function(r,i){let o=new Dr;return r.asyncQueue.enqueueAndForget(()=>_(this,null,function*(){return zB(yield JB(r),i,o)})),o.promise}(MA(t),e)}function dU(t,e,n){let r=n.docs.get(e._key),i=new gh(t);return new mh(t,i,e._key,r,new to(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Fs=i})(ni),Wt(new vt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new hi(new Pv(r.getProvider("auth-internal")),new Fv(s,r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new H(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zd(u.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Pe(vT,yT,e),Pe(vT,yT,"esm2017")})();var Dh=function(){return Dh=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Dh.apply(this,arguments)};var mU={includeMetadataChanges:!1};function H0(t,e){return e===void 0&&(e=mU),new ce(function(n){var r=$0(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function zA(t){return H0(t,{includeMetadataChanges:!0})}function HA(t,e){return e===void 0&&(e={}),zA(t).pipe(le(function(n){return q0(n,e)}))}function q0(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Dh(Dh({},r),(n={},n[e.idField]=t.id,n))}function qA(t){return H0(t,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}function GA(t,e){return e===void 0&&(e={}),qA(t).pipe(le(function(n){return n.map(function(r){return q0(r,e)})}))}var Lc=class{constructor(e){return e}},WA="firestore",G0=class{constructor(){return ii(WA)}};var W0=new G("angularfire2.firestore-instances");function gU(t,e){let n=us(WA,t,e);return n&&new Lc(n)}function vU(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Lc(r)}}var yU={provide:G0,deps:[[new qt,W0]]},IU={provide:Lc,useFactory:gU,deps:[[new qt,W0],br]};function hJ(t,...e){return Pe("angularfire",yr.full,"fst"),yn([IU,yU,{provide:W0,useFactory:vU(t),multi:!0,deps:[oe,ke,Ir,Yi,[new qt,hs],[new qt,ds],...e]}])}var fJ=nt(GA,!0);var pJ=nt(HA,!0);var mJ=nt(xA,!0,2);var gJ=nt($A,!0,2);var vJ=nt(kA,!0,2);var yJ=nt(RA,!0);var IJ=nt(LA,!0,2);var bJ=nt(BA,!0,2);var wJ=nt(UA,!0,2);var _J=nt(VA,!0,2);var ex="firebasestorage.googleapis.com",tx="storageBucket",bU=2*60*1e3,wU=10*60*1e3;var Ye=class t extends Vt{constructor(e,n,r=0){super(K0(e),`Firebase Storage: ${n} (${K0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return K0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Je=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Je||{});function K0(t){return"storage/"+t}function eI(){let t="An unknown error occurred, please check the error payload for server response.";return new Ye(Je.UNKNOWN,t)}function _U(t){return new Ye(Je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function EU(t){return new Ye(Je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CU(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ye(Je.UNAUTHENTICATED,t)}function DU(){return new Ye(Je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function TU(t){return new Ye(Je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function SU(){return new Ye(Je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AU(){return new Ye(Je.CANCELED,"User canceled the upload/download.")}function xU(t){return new Ye(Je.INVALID_URL,"Invalid URL '"+t+"'.")}function kU(t){return new Ye(Je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function RU(){return new Ye(Je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tx+"' property when initializing the app?")}function MU(){return new Ye(Je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PU(){return new Ye(Je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function NU(t){return new Ye(Je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Y0(t){return new Ye(Je.INVALID_ARGUMENT,t)}function nx(){return new Ye(Je.APP_DELETED,"The Firebase app was deleted.")}function OU(t){return new Ye(Je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jc(t,e){return new Ye(Je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Vc(t){throw new Ye(Je.INTERNAL_ERROR,"Internal error: "+t)}var Tn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw kU(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}let s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(B){B.path_=decodeURIComponent(B.path)}let h="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",m=new RegExp(`^https?://${f}/${h}/b/${i}/o${v}`,"i"),C={bucket:1,path:3},D=n===ex?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",M=new RegExp(`^https?://${D}/${i}/${S}`,"i"),L=[{regex:a,indices:l,postModify:o},{regex:m,indices:C,postModify:u},{regex:M,indices:{bucket:1,path:2},postModify:u}];for(let B=0;B<L.length;B++){let K=L[B],U=K.regex.exec(e);if(U){let I=U[K.indices.bucket],y=U[K.indices.path];y||(y=""),r=new t(I,y),K.postModify(r);break}}if(r==null)throw xU(e);return r}},Q0=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function FU(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function h(...S){u||(u=!0,e.apply(null,S))}function f(S){i=setTimeout(()=>{i=null,t(m,l())},S)}function v(){o&&clearTimeout(o)}function m(S,...M){if(u){v();return}if(S){v(),h.call(null,S,...M);return}if(l()||s){v(),h.call(null,S,...M);return}r<64&&(r*=2);let L;a===1?(a=2,L=0):L=(r+Math.random())*1e3,f(L)}let C=!1;function D(S){C||(C=!0,v(),!u&&(i!==null?(S||(a=2),clearTimeout(i),f(0)):S||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,D(!0)},n),D}function LU(t){t(!1)}function VU(t){return t!==void 0}function jU(t){return typeof t=="object"&&!Array.isArray(t)}function tI(t){return typeof t=="string"||t instanceof String}function KA(t){return nI()&&t instanceof Blob}function nI(){return typeof Blob<"u"}function YA(t,e,n,r){if(r<e)throw Y0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Y0(`Invalid value for '${t}'. Expected ${n} or less.`)}function rI(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rx(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Us=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Us||{});function BU(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}var Z0=class{constructor(e,n,r,i,o,s,a,l,u,h,f,v=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=h,this.connectionFactory_=f,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((m,C)=>{this.resolve_=m,this.reject_=C,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Bs(!1,null,!0));return}let o=this.connectionFactory_();this.pendingConnection_=o;let s=a=>{let l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;let a=o.getErrorCode()===Us.NO_ERROR,l=o.getStatus();if(!a||BU(l,this.additionalRetryCodes_)&&this.retry){let h=o.getErrorCode()===Us.ABORT;r(!1,new Bs(!1,null,h));return}let u=this.successCodes_.indexOf(l)!==-1;r(!0,new Bs(u,o))})},n=(r,i)=>{let o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let l=this.callback_(a,a.getResponse());VU(l)?o(l):o()}catch(l){s(l)}else if(a!==null){let l=eI();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){let l=this.appDelete_?nx():AU();s(l)}else{let l=SU();s(l)}};this.canceled_?n(!1,new Bs(!1,null,!0)):this.backoffId_=FU(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&LU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Bs=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function UU(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $U(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function zU(t,e){e&&(t["X-Firebase-GMPID"]=e)}function HU(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function qU(t,e,n,r,i,o,s=!0){let a=rx(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return zU(u,e),UU(u,n),$U(u,o),HU(u,r),new Z0(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}function GU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WU(...t){let e=GU();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(nI())return new Blob(t);throw new Ye(Je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KU(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function YU(t){if(typeof atob>"u")throw NU("base-64");return atob(t)}var Wn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Bc=class{constructor(e,n){this.data=e,this.contentType=n||null}};function QU(t,e){switch(t){case Wn.RAW:return new Bc(ix(e));case Wn.BASE64:case Wn.BASE64URL:return new Bc(ox(t,e));case Wn.DATA_URL:return new Bc(XU(e),JU(e))}throw eI()}function ix(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function ZU(t){let e;try{e=decodeURIComponent(t)}catch{throw jc(Wn.DATA_URL,"Malformed data URL.")}return ix(e)}function ox(t,e){switch(t){case Wn.BASE64:{let i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw jc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Wn.BASE64URL:{let i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw jc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=YU(e)}catch(i){throw i.message.includes("polyfill")?i:jc(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var Sh=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw jc(Wn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=e$(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function XU(t){let e=new Sh(t);return e.base64?ox(Wn.BASE64,e.rest):ZU(e.rest)}function JU(t){return new Sh(t).contentType}function e$(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var Ah=class t{constructor(e,n){let r=0,i="";KA(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(KA(this.data_)){let r=this.data_,i=KU(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(nI()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(WU.apply(null,n))}else{let n=e.map(s=>tI(s)?QU(Wn.RAW,s).data:s.data_),r=0;n.forEach(s=>{r+=s.byteLength});let i=new Uint8Array(r),o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new t(i,!0)}}uploadData(){return this.data_}};function sx(t){let e;try{e=JSON.parse(t)}catch{return null}return jU(e)?e:null}function t$(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function n$(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function ax(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function r$(t,e){return e}var It=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||r$}},Th=null;function i$(t){return!tI(t)||t.length<2?t:ax(t)}function cx(){if(Th)return Th;let t=[];t.push(new It("bucket")),t.push(new It("generation")),t.push(new It("metageneration")),t.push(new It("name","fullPath",!0));function e(o,s){return i$(s)}let n=new It("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}let i=new It("size");return i.xform=r,t.push(i),t.push(new It("timeCreated")),t.push(new It("updated")),t.push(new It("md5Hash",null,!0)),t.push(new It("cacheControl",null,!0)),t.push(new It("contentDisposition",null,!0)),t.push(new It("contentEncoding",null,!0)),t.push(new It("contentLanguage",null,!0)),t.push(new It("contentType",null,!0)),t.push(new It("metadata","customMetadata",!0)),Th=t,Th}function o$(t,e){function n(){let r=t.bucket,i=t.fullPath,o=new Tn(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function s$(t,e,n){let r={};r.type="file";let i=n.length;for(let o=0;o<i;o++){let s=n[o];r[s.local]=s.xform(r,e[s.server])}return o$(r,t),r}function lx(t,e,n){let r=sx(e);return r===null?null:s$(t,r,n)}function a$(t,e,n,r){let i=sx(e);if(i===null||!tI(i.downloadTokens))return null;let o=i.downloadTokens;if(o.length===0)return null;let s=encodeURIComponent;return o.split(",").map(u=>{let h=t.bucket,f=t.fullPath,v="/b/"+s(h)+"/o/"+s(f),m=rI(v,n,r),C=rx({alt:"media",token:u});return m+C})[0]}function c$(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var xh=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function ux(t){if(!t)throw eI()}function l$(t,e){function n(r,i){let o=lx(t,i,e);return ux(o!==null),o}return n}function u$(t,e){function n(r,i){let o=lx(t,i,e);return ux(o!==null),a$(o,i,t.host,t._protocol)}return n}function dx(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=DU():i=CU():n.getStatus()===402?i=EU(t.bucket):n.getStatus()===403?i=TU(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function d$(t){let e=dx(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=_U(t.path)),o.serverResponse=i.serverResponse,o}return n}function h$(t,e,n){let r=e.fullServerUrl(),i=rI(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new xh(i,o,u$(t,n),s);return a.errorHandler=d$(e),a}function f$(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function p$(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=f$(null,e)),r}function m$(t,e,n,r,i){let o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let L="";for(let B=0;B<2;B++)L=L+Math.random().toString().slice(2);return L}let l=a();s["Content-Type"]="multipart/related; boundary="+l;let u=p$(e,r,i),h=c$(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,v=`\r
--`+l+"--",m=Ah.getBlob(f,r,v);if(m===null)throw MU();let C={name:u.fullPath},D=rI(o,t.host,t._protocol),S="POST",M=t.maxUploadRetryTime,F=new xh(D,S,l$(t,n),M);return F.urlParams=C,F.headers=s,F.body=m.uploadData(),F.errorHandler=dx(e),F}var xJ=256*1024;var QA=null,X0=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Vc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},J0=class extends X0{initXhr(){this.xhr_.responseType="text"}};function hx(){return QA?QA():new J0}var $s=class t{constructor(e,n){this._service=e,n instanceof Tn?this._location=n:this._location=Tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ax(this._location.path)}get storage(){return this._service}get parent(){let e=t$(this._location.path);if(e===null)return null;let n=new Tn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw OU(e)}};function g$(t,e,n){t._throwIfRoot("uploadBytes");let r=m$(t.storage,t._location,cx(),new Ah(e,!0),n);return t.storage.makeRequestWithTokens(r,hx).then(i=>({metadata:i,ref:t}))}function v$(t){t._throwIfRoot("getDownloadURL");let e=h$(t.storage,t._location,cx());return t.storage.makeRequestWithTokens(e,hx).then(n=>{if(n===null)throw PU();return n})}function y$(t,e){let n=n$(t._location.path,e),r=new Tn(t._location.bucket,n);return new $s(t.storage,r)}function I$(t){return/^[A-Za-z]+:\/\//.test(t)}function b$(t,e){return new $s(t,e)}function fx(t,e){if(t instanceof Uc){let n=t;if(n._bucket==null)throw RU();let r=new $s(n,n._bucket);return e!=null?fx(r,e):r}else return e!==void 0?y$(t,e):t}function w$(t,e){if(e&&I$(e)){if(t instanceof Uc)return b$(t,e);throw Y0("To use ref(service, url), the first argument must be a Storage instance.")}else return fx(t,e)}function ZA(t,e){let n=e==null?void 0:e[tx];return n==null?null:Tn.makeFromBucketSpec(n,t)}function _$(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:sd(i,t.app.options.projectId))}var Uc=class{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=ex,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=bU,this._maxUploadRetryTime=wU,this._requests=new Set,i!=null?this._bucket=Tn.makeFromBucketSpec(i,this._host):this._bucket=ZA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,e):this._bucket=ZA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){YA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){YA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return _(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return _(this,null,function*(){if(wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $s(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Q0(nx());{let s=qU(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,n){return _(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},XA="@firebase/storage",JA="0.13.7";var px="storage";function mx(t,e,n){return t=We(t),g$(t,e,n)}function gx(t){return t=We(t),v$(t)}function vx(t,e){return t=We(t),w$(t,e)}function yx(t=ri(),e){t=We(t);let r=cs(t,px).getImmediate({identifier:e}),i=od("storage");return i&&Ix(r,...i),r}function Ix(t,e,n,r={}){_$(t,e,n,r)}function E$(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Uc(n,r,i,e,ni)}function C$(){Wt(new vt(px,E$,"PUBLIC").setMultipleInstances(!0)),Pe(XA,JA,""),Pe(XA,JA,"esm2017")}C$();var $c=class{constructor(e){return e}},bx="storage",iI=class{constructor(){return ii(bx)}};var oI=new G("angularfire2.storage-instances");function D$(t,e){let n=us(bx,t,e);return n&&new $c(n)}function T$(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new $c(r)}}var S$={provide:iI,deps:[[new qt,oI]]},A$={provide:$c,useFactory:D$,deps:[[new qt,oI],br]};function XJ(t,...e){return Pe("angularfire",yr.full,"gcs"),yn([A$,S$,{provide:oI,useFactory:T$(t),multi:!0,deps:[oe,ke,Ir,Yi,[new qt,hs],[new qt,ds],...e]}])}var JJ=nt(gx,!0);var eee=nt(yx,!0);var tee=nt(vx,!0,2);var nee=nt(mx,!0);var Mh=new G(""),lI=(()=>{let e=class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(r,i){this._zone=i,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o,s){return this._findPluginFor(i).addEventListener(r,i,o,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new W(5101,!1);return this._eventNameToPlugin.set(r,i),i}};k(e,"\u0275fac",function(i){return new(i||e)(J(Mh),J(oe))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})(),zc=class{_doc;constructor(e){this._doc=e}manager},kh="ng-app-id";function wx(t){for(let e of t)e.remove()}function _x(t,e){let n=e.createElement("style");return n.textContent=t,n}function x$(t,e,n,r){var o;let i=(o=t.head)==null?void 0:o.querySelectorAll(`style[${kh}="${e}"],link[${kh}="${e}"]`);if(i)for(let s of i)s.removeAttribute(kh),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function aI(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var uI=(()=>{let e=class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.isServer=md(s),x$(r,i,this.inline,this.external),this.hosts.add(r.head)}addStyles(r,i){for(let o of r)this.addUsage(o,this.inline,_x);i==null||i.forEach(o=>this.addUsage(o,this.external,aI))}removeStyles(r,i){for(let o of r)this.removeUsage(o,this.inline);i==null||i.forEach(o=>this.removeUsage(o,this.external))}addUsage(r,i,o){let s=i.get(r);s?s.usage++:i.set(r,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(r,this.doc)))})}removeUsage(r,i){let o=i.get(r);o&&(o.usage--,o.usage<=0&&(wx(o.elements),i.delete(r)))}ngOnDestroy(){for(let[,{elements:r}]of[...this.inline,...this.external])wx(r);this.hosts.clear()}addHost(r){this.hosts.add(r);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(r,_x(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(r,aI(i,this.doc)))}removeHost(r){this.hosts.delete(r)}addElement(r,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(kh,this.appId),r.appendChild(i)}};k(e,"\u0275fac",function(i){return new(i||e)(J(rt),J(Zm),J(Jm,8),J(Zr))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})(),sI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},dI=/%COMP%/g;var Cx="%COMP%",k$=`_nghost-${Cx}`,R$=`_ngcontent-${Cx}`,M$=!0,P$=new G("",{providedIn:"root",factory:()=>M$});function N$(t){return R$.replace(dI,t)}function O$(t){return k$.replace(dI,t)}function Dx(t,e){return e.map(n=>n.replace(dI,t))}var hI=(()=>{let e=class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(r,i,o,s,a,l,u,h=null,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=u,this.nonce=h,this.tracingService=f,this.platformIsServer=md(l),this.defaultRenderer=new Hc(r,a,u,this.platformIsServer,this.tracingService)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Vn.ShadowDom&&(i=ye(j({},i),{encapsulation:Vn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Rh?o.applyToHost(r):o instanceof qc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,l=this.ngZone,u=this.eventManager,h=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,v=this.platformIsServer,m=this.tracingService;switch(i.encapsulation){case Vn.Emulated:s=new Rh(u,h,i,this.appId,f,a,l,v,m);break;case Vn.ShadowDom:return new cI(u,h,r,i,a,l,this.nonce,v,m);default:s=new qc(u,h,i,f,a,l,v,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(r){this.rendererByCompId.delete(r)}};k(e,"\u0275fac",function(i){return new(i||e)(J(lI),J(uI),J(Zm),J(P$),J(rt),J(Zr),J(oe),J(Jm),J(ss,8))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})(),Hc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(sI[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Ex(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Ex(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=sI[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=sI[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(as.DashCase|as.Important)?e.style.setProperty(n,r,i&as.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&as.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){var s;if(typeof e=="string"&&(e=wr().getGlobalEventTarget(this.doc,e),!e))throw new W(5102,!1);let o=this.decoratePreventDefault(r);return(s=this.tracingService)!=null&&s.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Ex(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var cI=class extends Hc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,l,u){var m;super(e,o,s,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=Dx(i.id,h);for(let C of h){let D=document.createElement("style");a&&D.setAttribute("nonce",a),D.textContent=C,this.shadowRoot.appendChild(D)}let f=(m=i.getExternalStyles)==null?void 0:m.call(i);if(f)for(let C of f){let D=aI(C,o);a&&D.setAttribute("nonce",a),this.shadowRoot.appendChild(D)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qc=class extends Hc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,l,u){var v;super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=u?Dx(u,h):h,this.styleUrls=(v=r.getExternalStyles)==null?void 0:v.call(r,u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Rh=class extends qc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,l,u){let h=i+"-"+r.id;super(e,n,r,o,s,a,l,u,h),this.contentAttr=N$(h),this.hostAttr=O$(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Ph=class t extends oc{supportsDOMEvents=!0;static makeCurrent(){Gg(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=F$();return n==null?null:L$(n)}resetBaseElement(){Gc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Xg(document.cookie,e)}},Gc=null;function F$(){return Gc=Gc||document.querySelector("base"),Gc?Gc.getAttribute("href"):null}function L$(t){return new URL(t,document.baseURI).pathname}var V$=(()=>{let e=class e{build(){return new XMLHttpRequest}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})(),Sx=(()=>{let e=class e extends zc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o,s){return r.addEventListener(i,o,s),()=>this.removeEventListener(r,i,o,s)}removeEventListener(r,i,o,s){return r.removeEventListener(i,o,s)}};k(e,"\u0275fac",function(i){return new(i||e)(J(rt))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})(),Tx=["alt","control","meta","shift"],j$={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},B$={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Ax=(()=>{let e=class e extends zc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o,s){let a=e.parseEventName(i),l=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wr().onAndCancel(r,a.domEventName,l,s))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),Tx.forEach(h=>{let f=i.indexOf(h);f>-1&&(i.splice(f,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let u={};return u.domEventName=o,u.fullKey=a,u}static matchEventFullKeyCode(r,i){let o=j$[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Tx.forEach(a=>{if(a!==o){let l=B$[a];l(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};k(e,"\u0275fac",function(i){return new(i||e)(J(rt))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})();function U$(t,e){return sD(j({rootComponent:t},$$(e)))}function $$(t){var e;return{appProviders:[...W$,...(e=t==null?void 0:t.providers)!=null?e:[]],platformProviders:G$}}function z$(){Ph.makeCurrent()}function H$(){return new ur}function q$(){return nC(document),document}var G$=[{provide:Zr,useValue:Jg},{provide:Xm,useValue:z$,multi:!0},{provide:rt,useFactory:q$}];var W$=[{provide:zu,useValue:"root"},{provide:ur,useFactory:H$},{provide:Mh,useClass:Sx,multi:!0,deps:[rt]},{provide:Mh,useClass:Ax,multi:!0,deps:[rt]},hI,uI,lI,{provide:es,useExisting:hI},{provide:ac,useClass:V$},[]];var xx=(()=>{let e=class e{_doc;constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};k(e,"\u0275fac",function(i){return new(i||e)(J(rt))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();var re="primary",ol=Symbol("RouteTitle"),vI=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function fo(t){return new vI(t)}function Lx(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Y$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Kn(t[n],e[n]))return!1;return!0}function Kn(t,e){let n=t?yI(t):void 0,r=e?yI(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Vx(t[i],e[i]))return!1;return!0}function yI(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function Vx(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function jx(t){return t.length>0?t[t.length-1]:null}function gi(t){return Fp(t)?t:ec(t)?Be(Promise.resolve(t)):Z(t)}var Q$={exact:Ux,subset:$x},Bx={exact:Z$,subset:X$,ignored:()=>!0};function kx(t,e,n){return Q$[n.paths](t.root,e.root,n.matrixParams)&&Bx[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function Z$(t,e){return Kn(t,e)}function Ux(t,e,n){if(!uo(t.segments,e.segments)||!Fh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Ux(t.children[r],e.children[r],n))return!1;return!0}function X$(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Vx(t[n],e[n]))}function $x(t,e,n){return zx(t,e,e.segments,n)}function zx(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!uo(i,n)||e.hasChildren()||!Fh(i,n,r))}else if(t.segments.length===n.length){if(!uo(t.segments,n)||!Fh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!$x(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!uo(t.segments,i)||!Fh(t.segments,i,r)||!t.children[re]?!1:zx(t.children[re],e,o,r)}}function Fh(t,e,n){return e.every((r,i)=>Bx[n](t[i].parameters,r.parameters))}var Qn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ce([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=fo(this.queryParams)),this._queryParamMap}toString(){return tz.serialize(this)}},Ce=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lh(this)}},pi=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return(e=this._parameterMap)!=null||(this._parameterMap=fo(this.parameters)),this._parameterMap}toString(){return qx(this)}};function J$(t,e){return uo(t,e)&&t.every((n,r)=>Kn(n.parameters,e[r].parameters))}function uo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ez(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===re&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==re&&(n=n.concat(e(i,r)))}),n}var po=(()=>{let e=class e{};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:()=>new mi,providedIn:"root"}));let t=e;return t})(),mi=class{parse(e){let n=new bI(e);return new Qn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Wc(e.root,!0)}`,r=iz(e.queryParams),i=typeof e.fragment=="string"?`#${nz(e.fragment)}`:"";return`${n}${r}${i}`}},tz=new mi;function Lh(t){return t.segments.map(e=>qx(e)).join("/")}function Wc(t,e){if(!t.hasChildren())return Lh(t);if(e){let n=t.children[re]?Wc(t.children[re],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==re&&r.push(`${i}:${Wc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ez(t,(r,i)=>i===re?[Wc(t.children[re],!1)]:[`${i}:${Wc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[re]!=null?`${Lh(t)}/${n[0]}`:`${Lh(t)}/(${n.join("//")})`}}function Hx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nh(t){return Hx(t).replace(/%3B/gi,";")}function nz(t){return encodeURI(t)}function II(t){return Hx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Vh(t){return decodeURIComponent(t)}function Rx(t){return Vh(t.replace(/\+/g,"%20"))}function qx(t){return`${II(t.path)}${rz(t.parameters)}`}function rz(t){return Object.entries(t).map(([e,n])=>`;${II(e)}=${II(n)}`).join("")}function iz(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Nh(n)}=${Nh(i)}`).join("&"):`${Nh(n)}=${Nh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var oz=/^[^\/()?;#]+/;function fI(t){let e=t.match(oz);return e?e[0]:""}var sz=/^[^\/()?;=#]+/;function az(t){let e=t.match(sz);return e?e[0]:""}var cz=/^[^=?&#]+/;function lz(t){let e=t.match(cz);return e?e[0]:""}var uz=/^[^&#]+/;function dz(t){let e=t.match(uz);return e?e[0]:""}var bI=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ce([],{}):new Ce([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[re]=new Ce(e,n)),r}parseSegment(){let e=fI(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new pi(Vh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=az(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=fI(this.remaining);i&&(r=i,this.capture(r))}e[Vh(n)]=Vh(r)}parseQueryParam(e){let n=lz(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=dz(this.remaining);s&&(r=s,this.capture(r))}let i=Rx(n),o=Rx(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fI(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=re);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[re]:new Ce([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function Gx(t){return t.segments.length>0?new Ce([],{[re]:t}):t}function Wx(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=Wx(i);if(r===re&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ce(t.segments,e);return hz(n)}function hz(t){if(t.numberOfChildren===1&&t.children[re]){let e=t.children[re];return new Ce(t.segments.concat(e.segments),e.children)}return t}function Ws(t){return t instanceof Qn}function Kx(t,e,n=null,r=null){let i=Yx(t);return Qx(i,e,n,r)}function Yx(t){let e;function n(o){let s={};for(let l of o.children){let u=n(l);s[l.outlet]=u}let a=new Ce(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Gx(r);return e!=null?e:i}function Qx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return pI(i,i,i,n,r);let o=fz(e);if(o.toRoot())return pI(i,i,new Ce([],{}),n,r);let s=pz(o,i,t),a=s.processChildren?Yc(s.segmentGroup,s.index,o.commands):Xx(s.segmentGroup,s.index,o.commands);return pI(i,s.segmentGroup,a,n,r)}function Bh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Zc(t){return typeof t=="object"&&t!=null&&t.outlets}function pI(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;t===e?s=n:s=Zx(t,e,n);let a=Gx(Wx(s));return new Qn(a,o,i)}function Zx(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=Zx(o,e,n)}),new Ce(t.segments,r)}var Uh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bh(r[0]))throw new W(4003,!1);let i=r.find(Zc);if(i&&i!==jx(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fz(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Uh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Uh(n,e,r)}var qs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function pz(t,e,n){if(t.isAbsolute)return new qs(e,!0,0);if(!n)return new qs(e,!1,NaN);if(n.parent===null)return new qs(n,!0,0);let r=Bh(t.commands[0])?0:1,i=n.segments.length-1+r;return mz(n,i,t.numberOfDoubleDots)}function mz(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new qs(r,!1,i-o)}function gz(t){return Zc(t[0])?t[0].outlets:{[re]:t}}function Xx(t,e,n){if(t!=null||(t=new Ce([],{})),t.segments.length===0&&t.hasChildren())return Yc(t,e,n);let r=vz(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ce(t.segments.slice(0,r.pathIndex),{});return o.children[re]=new Ce(t.segments.slice(r.pathIndex),t.children),Yc(o,0,i)}else return r.match&&i.length===0?new Ce(t.segments,{}):r.match&&!t.hasChildren()?wI(t,e,n):r.match?Yc(t,0,i):wI(t,e,n)}function Yc(t,e,n){if(n.length===0)return new Ce(t.segments,{});{let r=gz(n),i={};if(Object.keys(r).some(o=>o!==re)&&t.children[re]&&t.numberOfChildren===1&&t.children[re].segments.length===0){let o=Yc(t.children[re],e,n);return new Ce(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=Xx(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ce(t.segments,i)}}function vz(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Zc(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!Px(l,u,s))return o;r+=2}else{if(!Px(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function wI(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Zc(o)){let l=yz(o.outlets);return new Ce(r,l)}if(i===0&&Bh(n[0])){let l=t.segments[e];r.push(new pi(l.path,Mx(n[0]))),i++;continue}let s=Zc(o)?o.outlets[re]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Bh(a)?(r.push(new pi(s,Mx(a))),i+=2):(r.push(new pi(s,{})),i++)}return new Ce(r,{})}function yz(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=wI(new Ce([],{}),0,r))}),e}function Mx(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Px(t,e,n){return t==n.path&&Kn(e,n.parameters)}var jh="imperative",ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ct||{}),Zt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Pr=class extends Zt{type=ct.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},An=class extends Zt{urlAfterRedirects;type=ct.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},jt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(jt||{}),Ks=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ks||{}),Yn=class extends Zt{reason;code;type=ct.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Zn=class extends Zt{reason;code;type=ct.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ys=class extends Zt{error;target;type=ct.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Xc=class extends Zt{urlAfterRedirects;state;type=ct.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$h=class extends Zt{urlAfterRedirects;state;type=ct.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zh=class extends Zt{urlAfterRedirects;state;shouldActivate;type=ct.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Hh=class extends Zt{urlAfterRedirects;state;type=ct.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},qh=class extends Zt{urlAfterRedirects;state;type=ct.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gh=class{route;type=ct.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Wh=class{route;type=ct.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Kh=class{snapshot;type=ct.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Yh=class{snapshot;type=ct.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qh=class{snapshot;type=ct.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zh=class{snapshot;type=ct.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Qs=class{routerEvent;position;anchor;type=ct.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Jc=class{},Zs=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function Iz(t,e){var n;return t.providers&&!t._injector&&(t._injector=Ja(t.providers,e,`Route: ${t.path}`)),(n=t._injector)!=null?n:e}function Sn(t){return t.outlet||re}function bz(t,e){let n=t.filter(r=>Sn(r)===e);return n.push(...t.filter(r=>Sn(r)!==e)),n}function sl(t){var e;if(!t)return null;if((e=t.routeConfig)!=null&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let r=n.routeConfig;if(r!=null&&r._loadedInjector)return r._loadedInjector;if(r!=null&&r._injector)return r._injector}return null}var Xh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){var e,n;return(n=sl((e=this.route)==null?void 0:e.snapshot))!=null?n:this.rootInjector}constructor(e){this.rootInjector=e,this.children=new vi(this.rootInjector)}},vi=(()=>{let e=class e{rootInjector;contexts=new Map;constructor(r){this.rootInjector=r}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Xh(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};k(e,"\u0275fac",function(i){return new(i||e)(J(Ge))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),Jh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=_I(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=_I(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=EI(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return EI(e,this._root).map(n=>n.value)}};function _I(t,e){if(t===e.value)return e;for(let n of e.children){let r=_I(t,n);if(r)return r}return null}function EI(t,e){if(t===e.value)return[e];for(let n of e.children){let r=EI(t,n);if(r.length)return r.unshift(e),r}return[]}var Qt=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Hs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var el=class extends Jh{snapshot;constructor(e,n){super(e),this.snapshot=n,RI(this,e)}toString(){return this.snapshot.toString()}};function Jx(t){let e=wz(t),n=new lt([new pi("",{})]),r=new lt({}),i=new lt({}),o=new lt({}),s=new lt(""),a=new Xn(n,r,o,s,i,re,t,e.root);return a.snapshot=e.root,new el(new Qt(a,[]),e)}function wz(t){let e={},n={},r={},i="",o=new ho([],e,r,i,n,re,t,null,{});return new tl("",new Qt(o,[]))}var Xn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,l){var u,h;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=(h=(u=this.dataSubject)==null?void 0:u.pipe(le(f=>f[ol])))!=null?h:Z(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return(e=this._paramMap)!=null||(this._paramMap=this.params.pipe(le(n=>fo(n)))),this._paramMap}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=this.queryParams.pipe(le(n=>fo(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ef(t,e,n="emptyOnly"){var o,s;let r,{routeConfig:i}=t;return e!==null&&(n==="always"||(i==null?void 0:i.path)===""||!e.component&&!((o=e.routeConfig)!=null&&o.loadComponent))?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i==null?void 0:i.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),(s=t._resolvedData)!=null?s:{})},i&&tk(i)&&(r.resolve[ol]=i.title),r}var ho=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){var e;return(e=this.data)==null?void 0:e[ol]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return(e=this._paramMap)!=null||(this._paramMap=fo(this.params)),this._paramMap}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=fo(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},tl=class extends Jh{url;constructor(e,n){super(n),this.url=e,RI(this,n)}toString(){return ek(this._root)}};function RI(t,e){e.value._routerState=t,e.children.forEach(n=>RI(t,n))}function ek(t){let e=t.children.length>0?` { ${t.children.map(ek).join(", ")} } `:"";return`${t.value}${e}`}function mI(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Kn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Kn(e.params,n.params)||t.paramsSubject.next(n.params),Y$(e.url,n.url)||t.urlSubject.next(n.url),Kn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function CI(t,e){let n=Kn(t.params,e.params)&&J$(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||CI(t.parent,e.parent))}function tk(t){return typeof t.title=="string"||t.title===null}var nk=new G(""),MI=(()=>{let e=class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=re;activateEvents=new Ct;deactivateEvents=new Ct;attachEvents=new Ct;detachEvents=new Ct;routerOutletData=KE(void 0);parentContexts=P(vi);location=P(Xr);changeDetector=P(Mt);inputBinder=P(al,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){var r;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),(r=this.inputBinder)==null||r.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){var i;return((i=this.parentContexts.getContext(r))==null?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r!=null&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){var o;this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),(o=this.inputBinder)==null||o.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var h;if(this.isActivated)throw new W(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new DI(r,l,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:u,environmentInjector:i}),this.changeDetector.markForCheck(),(h=this.inputBinder)==null||h.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275dir",Hi({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ns]}));let t=e;return t})(),DI=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Xn?this.route:e===vi?this.childContexts:e===nk?this.outletData:this.parent.get(e,n)}},al=new G(""),PI=(()=>{let e=class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;(i=this.outletDataSubscriptions.get(r))==null||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Ai([i.queryParams,i.params,i.data]).pipe(Ft(([s,a,l],u)=>(l=j(j(j({},s),a),l),u===0?Z(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=td(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(r,o)}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})();function _z(t,e,n){let r=nl(t,e._root,n?n._root:void 0);return new el(r,e)}function nl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=Ez(t,e,n);return new Qt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>nl(t,a)),s}}let r=Cz(e.value),i=e.children.map(o=>nl(t,o));return new Qt(r,i)}}function Ez(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return nl(t,r,i);return nl(t,r)})}function Cz(t){return new Xn(new lt(t.url),new lt(t.params),new lt(t.queryParams),new lt(t.fragment),new lt(t.data),t.outlet,t.component,t)}var Xs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},rk="ngNavigationCancelingError";function tf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ws(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=ik(!1,jt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function ik(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[rk]=!0,n.cancellationCode=e,n}function Dz(t){return ok(t)&&Ws(t.url)}function ok(t){return!!t&&t[rk]}var Tz=(t,e,n,r)=>le(i=>(new TI(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),TI=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),mI(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Hs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Hs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Hs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Zh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Yh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(mI(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mI(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},nf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Gs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function Sz(t,e,n){let r=t._root,i=e?e._root:null;return Kc(r,i,n,[r.value])}function Az(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ea(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!H_(t)?t:e.get(t):r}function Kc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Hs(e);return t.children.forEach(s=>{xz(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qc(a,n.getContext(s),i)),i}function xz(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=kz(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new nf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Kc(t,e,a?a.children:null,r,i):Kc(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Gs(a.outlet.component,s))}else s&&Qc(e,a,i),i.canActivateChecks.push(new nf(r)),o.component?Kc(t,null,a?a.children:null,r,i):Kc(t,null,n,r,i);return i}function kz(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!uo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!uo(t.url,e.url)||!Kn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!CI(t,e)||!Kn(t.queryParams,e.queryParams);case"paramsChange":default:return!CI(t,e)}}function Qc(t,e,n){let r=Hs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qc(s,e.children.getContext(o),n):Qc(s,null,n):Qc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Gs(e.outlet.component,i)):n.canDeactivateChecks.push(new Gs(null,i)):n.canDeactivateChecks.push(new Gs(null,i))}function cl(t){return typeof t=="function"}function Rz(t){return typeof t=="boolean"}function Mz(t){return t&&cl(t.canLoad)}function Pz(t){return t&&cl(t.canActivate)}function Nz(t){return t&&cl(t.canActivateChild)}function Oz(t){return t&&cl(t.canDeactivate)}function Fz(t){return t&&cl(t.canMatch)}function sk(t){return t instanceof ar||(t==null?void 0:t.name)==="EmptyError"}var Oh=Symbol("INITIAL_VALUE");function Js(){return Ft(t=>Ai(t.map(e=>e.pipe(cr(1),pu(Oh)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===Oh)return Oh;if(n===!1||Lz(n))return n}return!0}),Rt(e=>e!==Oh),cr(1)))}function Lz(t){return Ws(t)||t instanceof Xs}function Vz(t,e){return Ue(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Z(ye(j({},n),{guardsResult:!0})):jz(s,r,i,t).pipe(Ue(a=>a&&Rz(a)?Bz(r,o,t,e):Z(a)),le(a=>ye(j({},n),{guardsResult:a})))})}function jz(t,e,n,r){return Be(t).pipe(Ue(i=>qz(i.component,i.route,n,e,r)),lr(i=>i!==!0,!0))}function Bz(t,e,n,r){return Be(e).pipe(Hr(i=>$o($z(i.route.parent,r),Uz(i.route,r),Hz(t,i.path,n),zz(t,i.route,n))),lr(i=>i!==!0,!0))}function Uz(t,e){return t!==null&&e&&e(new Qh(t)),Z(!0)}function $z(t,e){return t!==null&&e&&e(new Kh(t)),Z(!0)}function zz(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let i=r.map(o=>du(()=>{var u;let s=(u=sl(e))!=null?u:n,a=ea(o,s),l=Pz(a)?a.canActivate(e,t):Tt(s,()=>a(e,t));return gi(l).pipe(lr())}));return Z(i).pipe(Js())}function Hz(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Az(s)).filter(s=>s!==null).map(s=>du(()=>{let a=s.guards.map(l=>{var v;let u=(v=sl(s.node))!=null?v:n,h=ea(l,u),f=Nz(h)?h.canActivateChild(r,t):Tt(u,()=>h(r,t));return gi(f).pipe(lr())});return Z(a).pipe(Js())}));return Z(o).pipe(Js())}function qz(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Z(!0);let s=o.map(a=>{var f;let l=(f=sl(e))!=null?f:i,u=ea(a,l),h=Oz(u)?u.canDeactivate(t,e,n,r):Tt(l,()=>u(t,e,n,r));return gi(h).pipe(lr())});return Z(s).pipe(Js())}function Gz(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Z(!0);let o=i.map(s=>{let a=ea(s,t),l=Mz(a)?a.canLoad(e,n):Tt(t,()=>a(e,n));return gi(l)});return Z(o).pipe(Js(),ak(r))}function ak(t){return Ql(mt(e=>{if(typeof e!="boolean")throw tf(t,e)}),le(e=>e===!0))}function Wz(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Z(!0);let o=i.map(s=>{let a=ea(s,t),l=Fz(a)?a.canMatch(e,n):Tt(t,()=>a(e,n));return gi(l)});return Z(o).pipe(Js(),ak(r))}var rl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},il=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function zs(t){return Bo(new rl(t))}function Kz(t){return Bo(new W(4e3,!1))}function Yz(t){return Bo(ik(!1,jt.GuardRejected))}var SI=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Z(r);if(i.numberOfChildren>1||!i.children[re])return Kz(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:u,routeConfig:h,url:f,outlet:v,params:m,data:C,title:D}=i,S=Tt(o,()=>a({params:m,data:C,queryParams:l,fragment:u,routeConfig:h,url:f,outlet:v,title:D}));if(S instanceof Qn)throw new il(S);n=S}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new il(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Qn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Ce(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},AI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qz(t,e,n,r,i){let o=ck(t,e,n);return o.matched?(r=Iz(e,r),Wz(r,e,n,i).pipe(le(s=>s===!0?o:j({},AI)))):Z(o)}function ck(t,e,n){var a,l;if(e.path==="**")return Zz(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},AI):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Lx)(n,t,e);if(!i)return j({},AI);let o={};Object.entries((a=i.posParams)!=null?a:{}).forEach(([u,h])=>{o[u]=h.path});let s=i.consumed.length>0?j(j({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:(l=i.posParams)!=null?l:{}}}function Zz(t){return{matched:!0,parameters:t.length>0?jx(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Nx(t,e,n,r){return n.length>0&&eH(t,n,r)?{segmentGroup:new Ce(e,Jz(r,new Ce(n,t.children))),slicedSegments:[]}:n.length===0&&tH(t,n,r)?{segmentGroup:new Ce(t.segments,Xz(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ce(t.segments,t.children),slicedSegments:n}}function Xz(t,e,n,r){let i={};for(let o of n)if(of(t,e,o)&&!r[Sn(o)]){let s=new Ce([],{});i[Sn(o)]=s}return j(j({},r),i)}function Jz(t,e){let n={};n[re]=e;for(let r of t)if(r.path===""&&Sn(r)!==re){let i=new Ce([],{});n[Sn(r)]=i}return n}function eH(t,e,n){return n.some(r=>of(t,e,r)&&Sn(r)!==re)}function tH(t,e,n){return n.some(r=>of(t,e,r))}function of(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function nH(t,e,n){return e.length===0&&!t.children[n]}var xI=class{};function rH(t,e,n,r,i,o,s="emptyOnly"){return new kI(t,e,n,r,i,s,o).recognize()}var iH=31,kI=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new SI(this.urlSerializer,this.urlTree)}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=Nx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:n,rootSnapshot:r})=>{let i=new Qt(r,n),o=new tl("",i),s=Kx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new ho([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,n).pipe(le(r=>({children:r,rootSnapshot:n})),On(r=>{if(r instanceof il)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rl?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(le(s=>s instanceof Qt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Be(o).pipe(Hr(s=>{let a=r.children[s],l=bz(n,s);return this.processSegmentGroup(e,l,a,s,i)}),fu((s,a)=>(s.push(...a),s)),qr(null),Lp(),Ue(s=>{if(s===null)return zs(r);let a=lk(s);return oH(a),Z(a)}))}processSegment(e,n,r,i,o,s,a){return Be(n).pipe(Hr(l=>{var u;return this.processSegmentAgainstRoute((u=l._injector)!=null?u:e,n,l,r,i,o,s,a).pipe(On(h=>{if(h instanceof rl)return Z(null);throw h}))}),lr(l=>!!l),On(l=>{if(sk(l))return nH(r,i,o)?Z(new xI):zs(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return Sn(r)!==s&&(s===re||!of(i,o,r))?zs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):zs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){var S,M;let{matched:l,parameters:u,consumedSegments:h,positionalParamSegments:f,remainingSegments:v}=ck(n,i,o);if(!l)return zs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iH&&(this.allowRedirects=!1));let m=new ho(o,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Ox(i),Sn(i),(M=(S=i.component)!=null?S:i._loadedComponent)!=null?M:null,i,Fx(i)),C=ef(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(C.params),m.data=Object.freeze(C.data);let D=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,f,m,e);return this.applyRedirects.lineralizeSegments(i,D).pipe(Ue(F=>this.processSegment(e,r,n,F.concat(v),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Qz(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Ft(l=>{var u;return l.matched?(e=(u=r._injector)!=null?u:e,this.getChildConfig(e,r,i).pipe(Ft(({routes:h})=>{var B,K,U;let f=(B=r._loadedInjector)!=null?B:e,{parameters:v,consumedSegments:m,remainingSegments:C}=l,D=new ho(m,v,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Ox(r),Sn(r),(U=(K=r.component)!=null?K:r._loadedComponent)!=null?U:null,r,Fx(r)),S=ef(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(S.params),D.data=Object.freeze(S.data);let{segmentGroup:M,slicedSegments:F}=Nx(n,m,C,h);if(F.length===0&&M.hasChildren())return this.processChildren(f,h,M,D).pipe(le(I=>new Qt(D,I)));if(h.length===0&&F.length===0)return Z(new Qt(D,[]));let L=Sn(r)===o;return this.processSegment(f,h,M,F,L?re:o,!0,D).pipe(le(I=>new Qt(D,I instanceof Qt?[I]:[])))}))):zs(n)}))}getChildConfig(e,n,r){return n.children?Z({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Z({routes:n._loadedRoutes,injector:n._loadedInjector}):Gz(e,n,r,this.urlSerializer).pipe(Ue(i=>i?this.configLoader.loadChildren(e,n).pipe(mt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Yz(n))):Z({routes:[],injector:e})}};function oH(t){t.sort((e,n)=>e.value.outlet===re?-1:n.value.outlet===re?1:e.value.outlet.localeCompare(n.value.outlet))}function sH(t){let e=t.value.routeConfig;return e&&e.path===""}function lk(t){let e=[],n=new Set;for(let r of t){if(!sH(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=lk(r.children);e.push(new Qt(r.value,i))}return e.filter(r=>!n.has(r))}function Ox(t){return t.data||{}}function Fx(t){return t.resolve||{}}function aH(t,e,n,r,i,o){return Ue(s=>rH(t,e,n,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:l})=>ye(j({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function cH(t,e){return Ue(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Z(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of uk(l))s.add(u);let a=0;return Be(s).pipe(Hr(l=>o.has(l)?lH(l,r,t,e):(l.data=ef(l,l.parent,t).resolve,Z(void 0))),mt(()=>a++),Ho(1),Ue(l=>a===s.size?Z(n):Nt))})}function uk(t){let e=t.children.map(n=>uk(n)).flat();return[t,...e]}function lH(t,e,n,r){let i=t.routeConfig,o=t._resolve;return(i==null?void 0:i.title)!==void 0&&!tk(i)&&(o[ol]=i.title),uH(o,t,e,r).pipe(le(s=>(t._resolvedData=s,t.data=ef(t,t.parent,n).resolve,null)))}function uH(t,e,n,r){let i=yI(t);if(i.length===0)return Z({});let o={};return Be(i).pipe(Ue(s=>dH(t[s],e,n,r).pipe(lr(),mt(a=>{if(a instanceof Xs)throw tf(new mi,a);o[s]=a}))),Ho(1),le(()=>o),On(s=>sk(s)?Nt:Bo(s)))}function dH(t,e,n,r){var a;let i=(a=sl(e))!=null?a:r,o=ea(t,i),s=o.resolve?o.resolve(e,n):Tt(i,()=>o(e,n));return gi(s)}function gI(t){return Ft(e=>{let n=t(e);return n?Be(n).pipe(le(()=>e)):Z(e)})}var NI=(()=>{let e=class e{buildTitle(r){var s;let i,o=r.root;for(;o!==void 0;)i=(s=this.getResolvedTitleForRoute(o))!=null?s:i,o=o.children.find(a=>a.outlet===re);return i}getResolvedTitleForRoute(r){return r.data[ol]}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:()=>P(dk),providedIn:"root"}));let t=e;return t})(),dk=(()=>{let e=class e extends NI{title;constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};k(e,"\u0275fac",function(i){return new(i||e)(J(xx))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),mo=new G("",{providedIn:"root",factory:()=>({})}),OI=(()=>{let e=class e{};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275cmp",jn({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){i&1&&Ig(0,"router-outlet")},dependencies:[MI],encapsulation:2}));let t=e;return t})();function FI(t){let e=t.children&&t.children.map(FI),n=e?ye(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==re&&(n.component=OI),n}var go=new G(""),sf=(()=>{let e=class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(iD);loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Z(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=gi(r.loadComponent()).pipe(le(fk),mt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ma(()=>{this.componentLoaders.delete(r)})),o=new Oo(i,()=>new at).pipe(No());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=hk(i,this.compiler,r,this.onLoadEndListener).pipe(Ma(()=>{this.childrenLoaders.delete(i)})),a=new Oo(s,()=>new at).pipe(No());return this.childrenLoaders.set(i,a),a}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();function hk(t,e,n,r){return gi(t.loadChildren()).pipe(le(fk),Ue(i=>i instanceof mg||Array.isArray(i)?Z(i):Be(e.compileModuleAsync(i))),le(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(go,[],{optional:!0,self:!0}).flat()),{routes:s.map(FI),injector:o}}))}function hH(t){return t&&typeof t=="object"&&"default"in t}function fk(t){return hH(t)?t.default:t}var af=(()=>{let e=class e{};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:()=>P(fH),providedIn:"root"}));let t=e;return t})(),fH=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),LI=new G(""),VI=new G("");function pk(t,e,n){let r=t.get(VI),i=t.get(rt);return t.get(oe).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let o,s=new Promise(u=>{o=u}),a=i.startViewTransition(()=>(o(),pH(t))),{onViewTransitionCreated:l}=r;return l&&Tt(t,()=>l({transition:a,from:e,to:n})),s})}function pH(t){return new Promise(e=>{tg({read:()=>setTimeout(e)},{injector:t})})}var jI=new G(""),cf=(()=>{let e=class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new at;transitionAbortSubject=new at;configLoader=P(sf);environmentInjector=P(Ge);destroyRef=P(is);urlSerializer=P(po);rootContexts=P(vi);location=P(oi);inputBindingEnabled=P(al,{optional:!0})!==null;titleStrategy=P(NI);options=P(mo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(af);createViewTransition=P(LI,{optional:!0});navigationErrorHandler=P(jI,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>Z(void 0);rootComponentType=null;destroyed=!1;constructor(){let r=o=>this.events.next(new Gh(o)),i=o=>this.events.next(new Wh(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){var r;(r=this.transitions)==null||r.complete()}handleNavigationRequest(r){var o;let i=++this.navigationId;(o=this.transitions)==null||o.next(ye(j({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(r){return this.transitions=new lt(null),this.transitions.pipe(Rt(i=>i!==null),Ft(i=>{let o=!1,s=!1;return Z(i).pipe(Ft(a=>{var h;if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",jt.SupersededByNewNavigation),Nt;this.currentTransition=i,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?ye(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=(h=a.extras.onSameUrlNavigation)!=null?h:r.onSameUrlNavigation;if(!l&&u!=="reload"){let f="";return this.events.next(new Zn(a.id,this.urlSerializer.serialize(a.rawUrl),f,Ks.IgnoredSameUrlNavigation)),a.resolve(!1),Nt}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Z(a).pipe(Ft(f=>(this.events.next(new Pr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),f.id!==this.navigationId?Nt:Promise.resolve(f))),aH(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),mt(f=>{i.targetSnapshot=f.targetSnapshot,i.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ye(j({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let v=new Xc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:f,extractedUrl:v,source:m,restoredState:C,extras:D}=a,S=new Pr(f,this.urlSerializer.serialize(v),m,C);this.events.next(S);let M=Jx(this.rootComponentType).snapshot;return this.currentTransition=i=ye(j({},a),{targetSnapshot:M,urlAfterRedirects:v,extras:ye(j({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,Z(i)}else{let f="";return this.events.next(new Zn(a.id,this.urlSerializer.serialize(a.extractedUrl),f,Ks.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Nt}}),mt(a=>{let l=new $h(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),le(a=>(this.currentTransition=i=ye(j({},a),{guards:Sz(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),i)),Vz(this.environmentInjector,a=>this.events.next(a)),mt(a=>{if(i.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw tf(this.urlSerializer,a.guardsResult);let l=new zh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),Rt(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",jt.GuardRejected),!1)),gI(a=>{if(a.guards.canActivateChecks.length!==0)return Z(a).pipe(mt(l=>{let u=new Hh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ft(l=>{let u=!1;return Z(l).pipe(cH(this.paramsInheritanceStrategy,this.environmentInjector),mt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",jt.NoDataFromResolver)}}))}),mt(l=>{let u=new qh(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),gI(a=>{let l=u=>{var f;let h=[];(f=u.routeConfig)!=null&&f.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(mt(v=>{u.component=v}),le(()=>{})));for(let v of u.children)h.push(...l(v));return h};return Ai(l(a.targetSnapshot.root)).pipe(qr(null),cr(1))}),gI(()=>this.afterPreactivation()),Ft(()=>{var h;let{currentSnapshot:a,targetSnapshot:l}=i,u=(h=this.createViewTransition)==null?void 0:h.call(this,this.environmentInjector,a.root,l.root);return u?Be(u).pipe(le(()=>i)):Z(i)}),le(a=>{let l=_z(r.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=i=ye(j({},a),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,i}),mt(()=>{this.events.next(new Jc)}),Tz(this.rootContexts,r.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),cr(1),mt({next:a=>{var l;o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new An(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),(l=this.titleStrategy)==null||l.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),Vp(this.transitionAbortSubject.pipe(mt(a=>{throw a}))),Ma(()=>{var a;!o&&!s&&this.cancelNavigationTransition(i,"",jt.SupersededByNewNavigation),((a=this.currentTransition)==null?void 0:a.id)===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),On(a=>{var l;if(this.destroyed)return i.resolve(!1),Nt;if(s=!0,ok(a))this.events.next(new Yn(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode)),Dz(a)?this.events.next(new Zs(a.url,a.navigationBehaviorOptions)):i.resolve(!1);else{let u=new Ys(i.id,this.urlSerializer.serialize(i.extractedUrl),a,(l=i.targetSnapshot)!=null?l:void 0);try{let h=Tt(this.environmentInjector,()=>{var f;return(f=this.navigationErrorHandler)==null?void 0:f.call(this,u)});if(h instanceof Xs){let{message:f,cancellationCode:v}=tf(this.urlSerializer,h);this.events.next(new Yn(i.id,this.urlSerializer.serialize(i.extractedUrl),f,v)),this.events.next(new Zs(h.redirectTo,h.navigationBehaviorOptions))}else throw this.events.next(u),a}catch(h){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(h)}}return Nt}))}))}cancelNavigationTransition(r,i,o){let s=new Yn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){var r,i;return((r=this.currentTransition)==null?void 0:r.extractedUrl.toString())!==((i=this.currentTransition)==null?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var o,s,a,l;let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=(a=(o=this.currentNavigation)==null?void 0:o.targetBrowserUrl)!=null?a:(s=this.currentNavigation)==null?void 0:s.extractedUrl;return r.toString()!==(i==null?void 0:i.toString())&&!((l=this.currentNavigation)!=null&&l.extras.skipLocationChange)}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();function mH(t){return t!==jh}var mk=(()=>{let e=class e{};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:()=>P(gH),providedIn:"root"}));let t=e;return t})(),rf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},gH=(()=>{let e=class e extends rf{};k(e,"\u0275fac",(()=>{let r;return function(o){return(r||(r=Qa(e)))(o||e)}})()),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),gk=(()=>{let e=class e{urlSerializer=P(po);options=P(mo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(oi);urlHandlingStrategy=P(af);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Qn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:r,initialUrl:i,targetBrowserUrl:o}){let s=r!==void 0?this.urlHandlingStrategy.merge(r,i):i,a=o!=null?o:s;return a instanceof Qn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:r,finalUrl:i,initialUrl:o}){i&&r?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,o),this.routerState=r):this.rawUrlTree=o}routerState=Jx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:r}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r!=null?r:this.rawUrlTree)}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:()=>P(vH),providedIn:"root"}));let t=e;return t})(),vH=(()=>{let e=class e extends gk{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){var r,i;return this.canceledNavigationResolution!=="computed"?this.currentPageId:(i=(r=this.restoredState())==null?void 0:r.\u0275routerPageId)!=null?i:this.currentPageId}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{r(i.url,i.state,"popstate")})})}handleRouterEvent(r,i){r instanceof Pr?this.updateStateMemento():r instanceof Zn?this.commitTransition(i):r instanceof Xc?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):r instanceof Jc?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):r instanceof Yn&&(r.code===jt.GuardRejected||r.code===jt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Ys?this.restoreHistory(i,!0):r instanceof An&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,{extras:i,id:o}){let{replaceUrl:s,state:a}=i;if(this.location.isCurrentPathEqualTo(r)||s){let l=this.browserPageId,u=j(j({},a),this.generateNgRouterState(o,l));this.location.replaceState(r,"",u)}else{let l=j(j({},a),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(r,"",l)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===r.finalUrl&&s===0&&(this.resetInternalState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(r),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};k(e,"\u0275fac",(()=>{let r;return function(o){return(r||(r=Qa(e)))(o||e)}})()),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();function lf(t,e){t.events.pipe(Rt(n=>n instanceof An||n instanceof Yn||n instanceof Ys||n instanceof Zn),le(n=>n instanceof An||n instanceof Zn?0:(n instanceof Yn?n.code===jt.Redirect||n.code===jt.SupersededByNewNavigation:!1)?2:1),Rt(n=>n!==2),cr(1)).subscribe(()=>{e()})}var yH={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},IH={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},xn=(()=>{var e,n;let r=class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(XC);stateManager=P(gk);options=P(mo,{optional:!0})||{};pendingTasks=P(zi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(cf);urlSerializer=P(po);location=P(oi);urlHandlingStrategy=P(af);_events=new at;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(mk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(n=(e=P(go,{optional:!0}))==null?void 0:e.flat())!=null?n:[];componentInputBindingEnabled=!!P(al,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}eventsSubscription=new qe;subscribeToNavigationEvents(){let o=this.navigationTransitions.events.subscribe(s=>{try{let a=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(a!==null&&l!==null){if(this.stateManager.handleRouterEvent(s,l),s instanceof Yn&&s.code!==jt.Redirect&&s.code!==jt.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof An)this.navigated=!0;else if(s instanceof Zs){let u=s.navigationBehaviorOptions,h=this.urlHandlingStrategy.merge(s.url,a.currentRawUrl),f=j({browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||mH(a.source)},u);this.scheduleNavigation(h,jh,null,f,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}wH(s)&&this._events.next(s)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),jh,this.stateManager.restoredState())}setUpLocationChangeListener(){var o;(o=this.nonRouterCurrentEntryChangeSubscription)!=null||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((s,a,l)=>{this.navigateToSyncWithBrowser(s,l,a)}))}navigateToSyncWithBrowser(o,s,a){let l={replaceUrl:!0},u=a!=null&&a.navigationId?a:null;if(a){let f=j({},a);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(l.state=f)}let h=this.parseUrl(o);this.scheduleNavigation(h,s,u,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(FI),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,s={}){let{relativeTo:a,queryParams:l,fragment:u,queryParamsHandling:h,preserveFragment:f}=s,v=f?this.currentUrlTree.fragment:u,m=null;switch(h!=null?h:this.options.defaultQueryParamsHandling){case"merge":m=j(j({},this.currentUrlTree.queryParams),l);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=l||null}m!==null&&(m=this.removeEmptyProps(m));let C;try{let D=a?a.snapshot:this.routerState.snapshot.root;C=Yx(D)}catch{(typeof o[0]!="string"||o[0][0]!=="/")&&(o=[]),C=this.currentUrlTree.root}return Qx(C,o,m,v!=null?v:null)}navigateByUrl(o,s={skipLocationChange:!1}){let a=Ws(o)?o:this.parseUrl(o),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,jh,null,s)}navigate(o,s={skipLocationChange:!1}){return bH(o),this.navigateByUrl(this.createUrlTree(o,s),s)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,s){let a;if(s===!0?a=j({},yH):s===!1?a=j({},IH):a=s,Ws(o))return kx(this.currentUrlTree,o,a);let l=this.parseUrl(o);return kx(this.currentUrlTree,l,a)}removeEmptyProps(o){return Object.entries(o).reduce((s,[a,l])=>(l!=null&&(s[a]=l),s),{})}scheduleNavigation(o,s,a,l,u){if(this.disposed)return Promise.resolve(!1);let h,f,v;u?(h=u.resolve,f=u.reject,v=u.promise):v=new Promise((C,D)=>{h=C,f=D});let m=this.pendingTasks.add();return lf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:l,resolve:h,reject:f,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(C=>Promise.reject(C))}};k(r,"\u0275fac",function(s){return new(s||r)}),k(r,"\u0275prov",q({token:r,factory:r.\u0275fac,providedIn:"root"}));let t=r;return t})();function bH(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new W(4008,!1)}function wH(t){return!(t instanceof Jc)&&!(t instanceof Zs)}var ll=class{},EH=(()=>{let e=class e{preload(r,i){return i().pipe(On(()=>Z(null)))}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();var yk=(()=>{let e=class e{router;injector;preloadingStrategy;loader;subscription;constructor(r,i,o,s){this.router=r,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Rt(r=>r instanceof An),Hr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){var s,a,l;let o=[];for(let u of i){u.providers&&!u._injector&&(u._injector=Ja(u.providers,r,`Route: ${u.path}`));let h=(s=u._injector)!=null?s:r,f=(a=u._loadedInjector)!=null?a:h;(u.loadChildren&&!u._loadedRoutes&&u.canLoad===void 0||u.loadComponent&&!u._loadedComponent)&&o.push(this.preloadConfig(h,u)),(u.children||u._loadedRoutes)&&o.push(this.processRoutes(f,(l=u.children)!=null?l:u._loadedRoutes))}return Be(o).pipe(Uo())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=Z(null);let s=o.pipe(Ue(a=>{var l;return a===null?Z(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes((l=a.injector)!=null?l:r,a.routes))}));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Be([s,a]).pipe(Uo())}else return s})}};k(e,"\u0275fac",function(i){return new(i||e)(J(xn),J(Ge),J(ll),J(sf))}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),Ik=new G(""),CH=(()=>{let e=class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Pr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof An?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof Zn&&r.code===Ks.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Qs&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Qs(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){var r,i;(r=this.routerEventsSubscription)==null||r.unsubscribe(),(i=this.scrollEventsSubscription)==null||i.unsubscribe()}};k(e,"\u0275fac",function(i){$C()}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})();function DH(t,...e){return yn([{provide:go,multi:!0,useValue:t},[],{provide:Xn,useFactory:bk,deps:[xn]},{provide:ed,multi:!0,useFactory:wk},e.map(n=>n.\u0275providers)])}function bk(t){return t.routerState.root}function ul(t,e){return{\u0275kind:t,\u0275providers:e}}function wk(){let t=P(ke);return e=>{var o,s;let n=t.get(dr);if(e!==n.components[0])return;let r=t.get(xn),i=t.get(_k);t.get($I)===1&&r.initialNavigation(),(o=t.get(Dk,null,se.Optional))==null||o.setUpPreloading(),(s=t.get(Ik,null,se.Optional))==null||s.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var _k=new G("",{factory:()=>new at}),$I=new G("",{providedIn:"root",factory:()=>1});function Ek(){let t=[{provide:$I,useValue:0},gg(()=>{let e=P(ke);return e.get(Wg,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(xn),o=e.get(_k);lf(i,()=>{r(!0)}),e.get(cf).afterPreactivation=()=>(r(!0),o.closed?Z(void 0):o),i.initialNavigation()}))})];return ul(2,t)}function Ck(){let t=[gg(()=>{P(xn).setUpLocationChangeListener()}),{provide:$I,useValue:2}];return ul(3,t)}var Dk=new G("");function Tk(t){return ul(0,[{provide:Dk,useExisting:yk},{provide:ll,useExisting:t}])}function Sk(){return ul(8,[PI,{provide:al,useExisting:PI}])}function Ak(t){Xa("NgRouterViewTransitions");let e=[{provide:LI,useValue:pk},{provide:VI,useValue:j({skipNextTransition:!!(t!=null&&t.skipInitialTransition)},t)}];return ul(9,e)}var xk=[oi,{provide:po,useClass:mi},xn,vi,{provide:Xn,useFactory:bk,deps:[xn]},sf,[]],TH=(()=>{let e=class e{constructor(){}static forRoot(r,i){return{ngModule:e,providers:[xk,[],{provide:go,multi:!0,useValue:r},[],i!=null&&i.errorHandler?{provide:jI,useValue:i.errorHandler}:[],{provide:mo,useValue:i||{}},i!=null&&i.useHash?AH():xH(),SH(),i!=null&&i.preloadingStrategy?Tk(i.preloadingStrategy).\u0275providers:[],i!=null&&i.initialNavigation?kH(i):[],i!=null&&i.bindToComponentInputs?Sk().\u0275providers:[],i!=null&&i.enableViewTransitions?Ak().\u0275providers:[],RH()]}}static forChild(r){return{ngModule:e,providers:[{provide:go,multi:!0,useValue:r}]}}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275mod",gr({type:e})),k(e,"\u0275inj",hr({}));let t=e;return t})();function SH(){return{provide:Ik,useFactory:()=>{let t=P(UD),e=P(oe),n=P(mo),r=P(cf),i=P(po);return n.scrollOffset&&t.setOffset(n.scrollOffset),new CH(i,r,t,e,n)}}}function AH(){return{provide:_r,useClass:Qg}}function xH(){return{provide:_r,useClass:pd}}function kH(t){return[t.initialNavigation==="disabled"?Ck().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Ek().\u0275providers:[]]}var BI=new G("");function RH(){return[{provide:BI,useFactory:wk},{provide:ed,multi:!0,useExisting:BI}]}var OH={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Bte=ye(j({},OH),{"[class.ng-submitted]":"isSubmitted"});var FH=new G("",{providedIn:"root",factory:()=>kk}),kk="always";var LH=(()=>{let e=class e{};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275mod",gr({type:e})),k(e,"\u0275inj",hr({}));let t=e;return t})();var Ute=(()=>{let e=class e{static withConfig(r){var i;return{ngModule:e,providers:[{provide:FH,useValue:(i=r.callSetDisabledState)!=null?i:kk}]}}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275mod",gr({type:e})),k(e,"\u0275inj",hr({imports:[LH]}));let t=e;return t})();var ta=(t,e,n,r,i)=>jH(t[1],e[1],n[1],r[1],i).map(o=>VH(t[0],e[0],n[0],r[0],o)),VH=(t,e,n,r,i)=>{let o=3*e*Math.pow(i-1,2),s=-3*n*i+3*n+r*i,a=t*Math.pow(i-1,3);return i*(o+i*s)-a},jH=(t,e,n,r,i)=>(t-=i,e-=i,n-=i,r-=i,UH(r-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(s=>s>=0&&s<=1)),BH=(t,e,n)=>{let r=e*e-4*t*n;return r<0?[]:[(-e+Math.sqrt(r))/(2*t),(-e-Math.sqrt(r))/(2*t)]},UH=(t,e,n,r)=>{if(t===0)return BH(e,n,r);e/=t,n/=t,r/=t;let i=(3*n-e*e)/3,o=(2*e*e*e-9*e*n+27*r)/27;if(i===0)return[Math.pow(-o,.3333333333333333)];if(o===0)return[Math.sqrt(-i),-Math.sqrt(-i)];let s=Math.pow(o/2,2)+Math.pow(i/3,3);if(s===0)return[Math.pow(o/2,.5)-e/3];if(s>0)return[Math.pow(-(o/2)+Math.sqrt(s),.3333333333333333)-Math.pow(o/2+Math.sqrt(s),.3333333333333333)-e/3];let a=Math.sqrt(Math.pow(-(i/3),3)),l=Math.acos(-(o/(2*Math.sqrt(Math.pow(-(i/3),3))))),u=2*Math.pow(a,1/3);return[u*Math.cos(l/3)-e/3,u*Math.cos((l+2*Math.PI)/3)-e/3,u*Math.cos((l+4*Math.PI)/3)-e/3]};var zI=t=>Mk(t),cn=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),zI(t).includes(e)),Mk=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=$H(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},$H=t=>{let e=Ze.get("platform");return Object.keys(Rk).filter(n=>{let r=e==null?void 0:e[n];return typeof r=="function"?r(t):Rk[n](t)})},zH=t=>uf(t)&&!Nk(t),HI=t=>!!(vo(t,/iPad/i)||vo(t,/Macintosh/i)&&uf(t)),HH=t=>vo(t,/iPhone/i),qH=t=>vo(t,/iPhone|iPod/i)||HI(t),Pk=t=>vo(t,/android|sink/i),GH=t=>Pk(t)&&!vo(t,/mobile/i),WH=t=>{let e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},KH=t=>{let e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return HI(t)||GH(t)||r>460&&r<820&&i>780&&i<1400},uf=t=>XH(t,"(any-pointer:coarse)"),YH=t=>!uf(t),Nk=t=>Ok(t)||Fk(t),Ok=t=>!!(t.cordova||t.phonegap||t.PhoneGap),Fk=t=>{let e=t.Capacitor;return!!(e!=null&&e.isNative||e!=null&&e.isNativePlatform&&e.isNativePlatform())},QH=t=>vo(t,/electron/i),ZH=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},vo=(t,e)=>e.test(t.navigator.userAgent),XH=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},Rk={ipad:HI,iphone:HH,ios:qH,android:Pk,phablet:WH,tablet:KH,cordova:Ok,capacitor:Fk,electron:QH,pwa:ZH,mobile:uf,mobileweb:zH,desktop:YH,hybrid:Nk},na,fe=t=>t&&dw(t)||na,qI=(t={})=>{if(typeof window>"u")return;let e=window.document,n=window,r=n.Ionic=n.Ionic||{},i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},hw(n)),{persistConfig:!1}),r.config),pw(n)),t);Ze.reset(i),Ze.getBoolean("persistConfig")&&fw(n,i),Mk(n),r.config=Ze,r.mode=na=Ze.get("mode",e.documentElement.getAttribute("mode")||(cn(n,"ios")?"ios":"md")),Ze.set("mode",na),e.documentElement.setAttribute("mode",na),e.documentElement.classList.add(na),Ze.getBoolean("_testing")&&Ze.set("animated",!1);let o=a=>{var l;return(l=a.tagName)===null||l===void 0?void 0:l.startsWith("ION-")},s=a=>["ios","md"].includes(a);uw(a=>{for(;a;){let l=a.mode||a.getAttribute("mode");if(l){if(s(l))return l;o(a)&&Ut('Invalid ionic mode: "'+l+'", expected: "ios" or "md"')}a=a.parentElement}return na})};var kn=(t,e)=>e.closest(t)!==null,yi=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,JH=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],df=t=>{let e={};return JH(t).forEach(n=>e[n]=!0),e};var GI=t=>ee().duration(t?400:300),e4=t=>{let e,n,r=t.width+8,i=ee(),o=ee();t.isEndSide?(e=r+"px",n="0px"):(e=-r+"px",n="0px"),i.addElement(t.menuInnerEl).fromTo("transform",`translateX(${e})`,`translateX(${n})`);let a=fe(t)==="ios",l=a?.2:.25;return o.addElement(t.backdropEl).fromTo("opacity",.01,l),GI(a).addAnimation([i,o])},t4=t=>{let e,n,r=fe(t),i=t.width;t.isEndSide?(e=-i+"px",n=i+"px"):(e=i+"px",n=-i+"px");let o=ee().addElement(t.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),s=ee().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${e})`),a=ee().addElement(t.backdropEl).fromTo("opacity",.01,.32);return GI(r==="ios").addAnimation([o,s,a])},n4=t=>{let e=fe(t),n=t.width*(t.isEndSide?-1:1)+"px",r=ee().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`);return GI(e==="ios").addAnimation(r)},r4=()=>{let t=new Map,e=[],n=I=>_(void 0,null,function*(){let y=yield u(I,!0);return y?y.open():!1}),r=I=>_(void 0,null,function*(){let y=yield I!==void 0?u(I,!0):h();return y!==void 0?y.close():!1}),i=I=>_(void 0,null,function*(){let y=yield u(I,!0);return y?y.toggle():!1}),o=(I,y)=>_(void 0,null,function*(){let b=yield u(y);return b&&(b.disabled=!I),b}),s=(I,y)=>_(void 0,null,function*(){let b=yield u(y);return b&&(b.swipeGesture=I),b}),a=I=>_(void 0,null,function*(){if(I!=null){let y=yield u(I);return y!==void 0&&y.isOpen()}else return(yield h())!==void 0}),l=I=>_(void 0,null,function*(){let y=yield u(I);return y?!y.disabled:!1}),u=(I,y=!1)=>_(void 0,null,function*(){if(yield U(),I==="start"||I==="end"){let E=e.filter(A=>A.side===I&&!A.disabled);if(E.length>=1)return E.length>1&&y&&Ut(`menuController queried for a menu on the "${I}" side, but ${E.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,E.map(A=>A.el)),E[0].el;let T=e.filter(A=>A.side===I);if(T.length>=1)return T.length>1&&y&&Ut(`menuController queried for a menu on the "${I}" side, but ${T.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,T.map(A=>A.el)),T[0].el}else if(I!=null)return K(E=>E.menuId===I);let b=K(E=>!E.disabled);return b||(e.length>0?e[0].el:void 0)}),h=()=>_(void 0,null,function*(){return yield U(),F()}),f=()=>_(void 0,null,function*(){return yield U(),L()}),v=()=>_(void 0,null,function*(){return yield U(),B()}),m=(I,y)=>{t.set(I,y)},C=I=>{e.indexOf(I)<0&&e.push(I)},D=I=>{let y=e.indexOf(I);y>-1&&e.splice(y,1)},S=(I,y,b,E)=>_(void 0,null,function*(){if(B())return!1;if(y){let T=yield h();T&&I.el!==T&&(yield T.setOpen(!1,!1))}return I._setOpen(y,b,E)}),M=(I,y)=>{let b=t.get(I);if(!b)throw new Error("animation not registered");return b(y)},F=()=>K(I=>I._isOpen),L=()=>e.map(I=>I.el),B=()=>e.some(I=>I.isAnimating),K=I=>{let y=e.find(I);if(y!==void 0)return y.el},U=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(I=>new Promise(y=>dn(I,y))));return m("reveal",n4),m("push",t4),m("overlay",e4),Jt===null||Jt===void 0||Jt.addEventListener("ionBackButton",I=>{let y=F();y&&I.detail.register(Iw,()=>y.close())}),{registerAnimation:m,get:u,getMenus:f,getOpen:h,isEnabled:l,swipeGesture:s,isAnimating:v,isOpen:a,enable:o,toggle:i,close:r,open:n,_getOpenSync:F,_createAnimation:M,_register:C,_unregister:D,_setOpen:S}},Rn=r4();var hf=(t,e,n,r,i,o)=>_(void 0,null,function*(){var s;if(t)return t.attachViewToDom(e,n,i,r);if(!o&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");let a=typeof n=="string"?(s=e.ownerDocument)===null||s===void 0?void 0:s.createElement(n):n;return r&&r.forEach(l=>a.classList.add(l)),i&&Object.assign(a,i),e.appendChild(a),yield new Promise(l=>dn(a,l)),a}),ff=(t,e)=>{if(e){if(t){let n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},pf=()=>{let t,e;return{attachViewToDom:(l,u,...h)=>_(void 0,[l,u,...h],function*(i,o,s={},a=[]){var f,v;t=i;let m;if(o){let D=typeof o=="string"?(f=t.ownerDocument)===null||f===void 0?void 0:f.createElement(o):o;a.forEach(S=>D.classList.add(S)),Object.assign(D,s),t.appendChild(D),m=D,yield new Promise(S=>dn(D,S))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!(m=t.children[0]).classList.contains("ion-delegate-host")){let S=(v=t.ownerDocument)===null||v===void 0?void 0:v.createElement("div");S.classList.add("ion-delegate-host"),a.forEach(M=>S.classList.add(M)),S.append(...t.children),t.appendChild(S),m=S}let C=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),C.appendChild(t),m!=null?m:t}),removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};var dl='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ra=(t,e)=>{let n=t.querySelector(dl);Vk(n,e!=null?e:t)},mf=(t,e)=>{let n=Array.from(t.querySelectorAll(dl)),r=n.length>0?n[n.length-1]:null;Vk(r,e!=null?e:t)},Vk=(t,e)=>{let n=t,r=t==null?void 0:t.shadowRoot;if(r&&(n=r.querySelector(dl)||t),n){let i=n.closest("ion-radio-group");i?i.setFocus():ep(n)}else e.focus()},WI=0,i4=0,gf=new WeakMap,jk=t=>({create(n){return o4(t,n)},dismiss(n,r,i){return l4(document,n,r,t,i)},getTop(){return _(this,null,function*(){return yo(document,t)})}});var KI=jk("ion-modal");var YI=jk("ion-popover");var vf=t=>{typeof document<"u"&&c4(document);let e=WI++;t.overlayIndex=e},yf=t=>(t.hasAttribute("id")||(t.id=`ion-overlay-${++i4}`),t.id),o4=(t,e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(t).then(()=>{let n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},e),{hasController:!0})),Uk(document).appendChild(n),new Promise(r=>dn(n,r))}):Promise.resolve(),s4=t=>t.classList.contains("overlay-hidden"),Lk=(t,e)=>{let n=t,r=t==null?void 0:t.shadowRoot;r&&(n=r.querySelector(dl)||t),n?ep(n):e.focus()},a4=(t,e)=>{let n=yo(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),r=t.target;if(!n||!r||n.classList.contains(Io))return;let i=()=>{if(n===r)n.lastFocus=void 0;else if(r.tagName==="ION-TOAST")Lk(n.lastFocus,n);else{let s=et(n);if(!s.contains(r))return;let a=s.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(r)||r===s.querySelector("ion-backdrop"))n.lastFocus=r;else{let l=n.lastFocus;ra(a,n),l===e.activeElement&&mf(a,n),n.lastFocus=e.activeElement}}},o=()=>{if(n.contains(r))n.lastFocus=r;else if(r.tagName==="ION-TOAST")Lk(n.lastFocus,n);else{let s=n.lastFocus;ra(n),s===e.activeElement&&mf(n),n.lastFocus=e.activeElement}};n.shadowRoot?o():i()},c4=t=>{WI===0&&(WI=1,t.addEventListener("focus",e=>{a4(e,t)},!0),t.addEventListener("ionBackButton",e=>{let n=yo(t);n!=null&&n.backdropDismiss&&e.detail.register(yw,()=>{n.dismiss(void 0,Nr)})}),Ll()||t.addEventListener("keydown",e=>{if(e.key==="Escape"){let n=yo(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,Nr)}}))},l4=(t,e,n,r,i)=>{let o=yo(t,r,i);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")},u4=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),If=(t,e)=>u4(t,e).filter(n=>!s4(n)),yo=(t,e,n)=>{let r=If(t,e);return n===void 0?r[r.length-1]:r.find(i=>i.id===n)},Bk=(t=!1)=>{let n=Uk(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},bf=(t,e,n,r,i)=>_(void 0,null,function*(){var o,s;if(t.presented)return;t.el.tagName!=="ION-TOAST"&&(Bk(!0),document.body.classList.add(ap)),f4(t.el),qk(t.el),t.presented=!0,t.willPresent.emit(),(o=t.willPresentShorthand)===null||o===void 0||o.emit();let a=fe(t),l=t.enterAnimation?t.enterAnimation:Ze.get(e,a==="ios"?n:r);(yield $k(t,l,t.el,i))&&(t.didPresent.emit(),(s=t.didPresentShorthand)===null||s===void 0||s.emit()),t.el.tagName!=="ION-TOAST"&&d4(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus(),t.el.removeAttribute("aria-hidden")}),d4=t=>_(void 0,null,function*(){let e=document.activeElement;if(!e)return;let n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(dl)||e),yield t.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&e.focus()}),wf=(t,e,n,r,i,o,s)=>_(void 0,null,function*(){var a,l;if(!t.presented)return!1;let h=(Jt!==void 0?If(Jt):[]).filter(v=>v.tagName!=="ION-TOAST");h.length===1&&h[0].id===t.el.id&&(Bk(!1),document.body.classList.remove(ap)),t.presented=!1;try{qk(t.el),t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});let v=fe(t),m=t.leaveAnimation?t.leaveAnimation:Ze.get(r,v==="ios"?i:o);n!==Jn&&(yield $k(t,m,t.el,s)),t.didDismiss.emit({data:e,role:n}),(l=t.didDismissShorthand)===null||l===void 0||l.emit({data:e,role:n}),(gf.get(t)||[]).forEach(D=>D.destroy()),gf.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(v){_a(`[${t.el.tagName.toLowerCase()}] - `,v)}return t.el.remove(),p4(),!0}),Uk=t=>t.querySelector("ion-app")||t.body,$k=(t,e,n,r)=>_(void 0,null,function*(){n.classList.remove("overlay-hidden");let i=t.el,o=e(i,r);(!t.animated||!Ze.getBoolean("animated",!0))&&o.duration(0),t.keyboardClose&&o.beforeAddWrite(()=>{let a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});let s=gf.get(t)||[];return gf.set(t,[...s,o]),yield o.play(),!0}),ia=(t,e)=>{let n,r=new Promise(i=>n=i);return h4(t,e,i=>{n(i.detail)}),r},h4=(t,e,n)=>{let r=i=>{gw(t,e,r),n(i)};Pl(t,e,r)};var Nr="backdrop",Jn="gesture",zk=39;var Hk=()=>{let t,e=()=>{t&&(t(),t=void 0)};return{addClickListener:(r,i)=>{e();let o=i!==void 0?document.getElementById(i):null;if(!o){Ut(`[${r.tagName.toLowerCase()}] - A trigger element with the ID "${i}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,r);return}t=((a,l)=>{let u=()=>{l.present()};return a.addEventListener("click",u),()=>{a.removeEventListener("click",u)}})(o,r)},removeClickListener:e}},qk=t=>{Jt!==void 0&&cn("android")&&t.setAttribute("aria-hidden","true")},f4=t=>{var e;if(Jt===void 0)return;let n=If(Jt);for(let r=n.length-1;r>=0;r--){let i=n[r],o=(e=n[r+1])!==null&&e!==void 0?e:t;(o.hasAttribute("aria-hidden")||o.tagName!=="ION-TOAST")&&i.setAttribute("aria-hidden","true")}},p4=()=>{if(Jt===void 0)return;let t=If(Jt);for(let e=t.length-1;e>=0;e--){let n=t[e];if(n.removeAttribute("aria-hidden"),n.tagName!=="ION-TOAST")break}},Io="ion-disable-focus-trap";var _f=new G("USERCONFIG");var hl=class{data;constructor(e={}){this.data=e,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(e){return this.data[e]}},Ef=(()=>{let e=class e{zone=P(oe);applicationRef=P(dr);config=P(_f);create(r,i,o){var s;return new QI(r,i,this.applicationRef,this.zone,o,(s=this.config.useSetInputAPI)!=null?s:!1)}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})(),QI=class{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(e,n,r,i,o,s){this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.enableSignalsSupport=s}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(o=>{let s=j({},r);this.elementReferenceKey!==void 0&&(s[this.elementReferenceKey]=e);let a=b4(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,i,this.elementReferenceKey,this.enableSignalsSupport);o(a)}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{let i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);let o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}},b4=(t,e,n,r,i,o,s,a,l,u,h,f)=>{let v=ke.create({providers:E4(l),parent:n}),m=aD(a,{environmentInjector:e,elementInjector:v}),C=m.instance,D=m.location.nativeElement;if(l)if(h&&C[h]!==void 0&&console.error(`[Ionic Error]: ${h} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${h}" property from ${a.name}.`),f===!0&&m.setInput!==void 0){let M=l,{modal:F,popover:L}=M,B=cw(M,["modal","popover"]);for(let K in B)m.setInput(K,B[K]);F!==void 0&&Object.assign(C,{modal:F}),L!==void 0&&Object.assign(C,{popover:L})}else Object.assign(C,l);if(u)for(let F of u)D.classList.add(F);let S=_4(t,C,D);return s.appendChild(D),r.attachView(m.hostView),i.set(D,m),o.set(D,S),D},w4=[np,rp,ip,op,sp],_4=(t,e,n)=>t.run(()=>{let r=w4.filter(i=>typeof e[i]=="function").map(i=>{let o=s=>e[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),Gk=new G("NavParamsToken"),E4=t=>[{provide:Gk,useValue:t},{provide:hl,useFactory:C4,deps:[Gk]}],C4=t=>new hl(t);var D4=new G(""),T4=(()=>{let e=class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;(i=this.outletDataSubscriptions.get(r))==null||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Ai([i.queryParams,i.params,i.data]).pipe(Ft(([s,a,l],u)=>(l=j(j(j({},s),a),l),u===0?Z(l):Promise.resolve(l)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=td(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:l}of a.inputs)r.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(r,o)}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})(),Wk=()=>({provide:D4,useFactory:S4,deps:[xn]});function S4(t){return t!=null&&t.componentInputBindingEnabled?new T4:null}var ZI=class{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,n){}retrieve(e){return null}shouldReuseRoute(e,n){if(e.routeConfig!==n.routeConfig)return!1;let r=e.params,i=n.params,o=Object.keys(r),s=Object.keys(i);if(o.length!==s.length)return!1;for(let a of o)if(i[a]!==r[a])return!1;return!0}},fl=class{ctrl;constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}};var Kk="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",Yk="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>";var XI,A4=()=>{if(typeof window>"u")return new Map;if(!XI){let t=window;t.Ionicons=t.Ionicons||{},XI=t.Ionicons.map=t.Ionicons.map||new Map}return XI},x4=t=>{let e=JI(t.src);return e||(e=Zk(t.name,t.icon,t.mode,t.ios,t.md),e?k4(e,t):t.icon&&(e=JI(t.icon),e||(e=JI(t.icon[t.mode]),e))?e:null)},k4=(t,e)=>{let n=A4().get(t);if(n)return n;try{return lw(`svg/${t}.svg`)}catch{console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},Zk=(t,e,n,r,i)=>(n=(n&&Cf(n))==="ios"?"ios":"md",r&&n==="ios"?t=Cf(r):i&&n==="md"?t=Cf(i):(!t&&e&&!Xk(e)&&(t=e),Df(t)&&(t=Cf(t))),!Df(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),JI=t=>Df(t)&&(t=t.trim(),Xk(t))?t:null,Xk=t=>t.length>0&&/(\/|\.)/.test(t),Df=t=>typeof t=="string",Cf=t=>t.toLowerCase(),R4=(t,e=[])=>{let n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},M4=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",P4=t=>{let e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);let n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){let r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),Jk(n))return e.innerHTML}return""},Jk=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){let n=t.attributes[e].name;if(Df(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!Jk(t.childNodes[e]))return!1}return!0},N4=t=>t.startsWith("data:image/svg+xml"),O4=t=>t.indexOf(";utf8,")!==-1,bo=new Map,Qk=new Map,eb,F4=(t,e)=>{let n=Qk.get(t);if(!n)if(typeof fetch<"u"&&typeof document<"u")if(N4(t)&&O4(t)){eb||(eb=new DOMParser);let i=eb.parseFromString(t,"text/html").querySelector("svg");return i&&bo.set(t,i.outerHTML),Promise.resolve()}else n=fetch(t).then(r=>{if(r.ok)return r.text().then(i=>{i&&e!==!1&&(i=P4(i)),bo.set(t,i||"")});bo.set(t,"")}),Qk.set(t,n);else return bo.set(t,""),Promise.resolve();return n},L4=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:32px;stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",V4=L4,j4=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.svgContent=void 0,this.isVisible=!1,this.mode=B4(),this.color=void 0,this.ios=void 0,this.md=void 0,this.flipRtl=void 0,this.name=void 0,this.src=void 0,this.icon=void 0,this.size=void 0,this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=R4(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(ir.isBrowser&&this.lazy&&typeof window<"u"&&window.IntersectionObserver){let i=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(i.disconnect(),this.io=void 0,r())},{rootMargin:n});i.observe(e)}else r()}loadIcon(){if(ir.isBrowser&&this.isVisible){let e=x4(this);e&&(bo.has(e)?this.svgContent=bo.get(e):F4(e,this.sanitize).then(()=>this.svgContent=bo.get(e)),this.didLoadIcon=!0)}this.iconName=Zk(this.name,this.icon,this.mode,this.ios,this.md)}render(){let{flipRtl:e,iconName:n,inheritedAttributes:r,el:i}=this,o=this.mode||"md",s=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||s;return z(Le,Object.assign({role:"img",class:Object.assign(Object.assign({[o]:!0},U4(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":a,"icon-rtl":a&&M4(i)})},r),ir.isBrowser&&this.svgContent?z("div",{class:"icon-inner",innerHTML:this.svgContent}):z("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return V4}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),B4=()=>ir.isBrowser&&typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",U4=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function eR(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,j4);break}})}var $4=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",z4=$4,H4=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.type="bounded"}addRipple(e,n){return _(this,null,function*(){return new Promise(r=>{Vr(()=>{let i=this.el.getBoundingClientRect(),o=i.width,s=i.height,a=Math.sqrt(o*o+s*s),l=Math.max(s,o),u=this.unbounded?l:a+G4,h=Math.floor(l*W4),f=u/h,v=e-i.left,m=n-i.top;this.unbounded&&(v=o*.5,m=s*.5);let C=v-h*.5,D=m-h*.5,S=o*.5-v,M=s*.5-m;un(()=>{let F=document.createElement("div");F.classList.add("ripple-effect");let L=F.style;L.top=D+"px",L.left=C+"px",L.width=L.height=h+"px",L.setProperty("--final-scale",`${f}`),L.setProperty("--translate-end",`${S}px, ${M}px`),(this.el.shadowRoot||this.el).appendChild(F),setTimeout(()=>{r(()=>{q4(F)})},325)})})})})}get unbounded(){return this.type==="unbounded"}render(){let e=fe(this);return z(Le,{key:"40c7f73e7f5f67e29f83e1236a61c6e1c9943c42",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return z4}},[1,"ion-ripple-effect",{type:[1],addRipple:[64]}]),q4=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},G4=10,W4=.5;function tR(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,H4);break}})}var Tf=()=>{let t;return{lock:()=>_(void 0,null,function*(){let n=t,r;return t=new Promise(i=>r=i),n!==void 0&&(yield n),r})}};var K4=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",Y4=K4,Q4=":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:0.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color, #000)}",Z4=Q4,X4=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionBackdropTap=pe(this,"ionBackdropTap",7),this.visible=!0,this.tappable=!0,this.stopPropagation=!0}onMouseDown(e){this.emitTap(e)}emitTap(e){this.stopPropagation&&(e.preventDefault(),e.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){let e=fe(this);return z(Le,{key:"7abaf2c310aa399607451b14063265e8a5846938","aria-hidden":"true",class:{[e]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return{ios:Y4,md:Z4}}},[33,"ion-backdrop",{visible:[4],tappable:[4],stopPropagation:[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]);function oa(){if(typeof customElements>"u")return;["ion-backdrop"].forEach(e=>{switch(e){case"ion-backdrop":customElements.get(e)||customElements.define(e,X4);break}})}var pl=function(t){return t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT",t}(pl||{}),ib={getEngine(){let t=_w();if(t!=null&&t.isPluginAvailable("StatusBar"))return t.Plugins.StatusBar},setStyle(t){let e=this.getEngine();e&&e.setStyle(t)},getStyle:function(){return _(this,null,function*(){let t=this.getEngine();if(!t)return pl.Default;let{style:e}=yield t.getInfo();return e})}},tb=(t,e)=>{if(e===1)return 0;let n=1/(1-e),r=-(e*n);return t*n+r},oR=()=>{!Ea||Ea.innerWidth>=768||ib.setStyle({style:pl.Dark})},nb=(t=pl.Default)=>{!Ea||Ea.innerWidth>=768||ib.setStyle({style:t})},sR=(t,e)=>_(void 0,null,function*(){typeof t.canDismiss!="function"||!(yield t.canDismiss(void 0,Jn))||(e.isRunning()?e.onFinish(()=>{t.dismiss(void 0,"handler")},{oneTimeCallback:!0}):t.dismiss(void 0,"handler"))}),rb=t=>.00255275*2.71828**(-14.9619*t)-1.00255*2.71828**(-.0380968*t)+1,Sf={MIN_PRESENTING_SCALE:.915},J4=(t,e,n,r)=>{let o=t.offsetHeight,s=!1,a=!1,l=null,u=null,h=.2,f=!0,v=0,m=()=>l&&Ao(l)?l.scrollY:!0,F=Fl({el:t,gestureName:"modalSwipeToClose",gesturePriority:zk,direction:"y",threshold:10,canStart:L=>{let B=L.event.target;return B===null||!B.closest?!0:(l=Vl(B),l?(Ao(l)?u=et(l).querySelector(".inner-scroll"):u=l,!!!l.querySelector("ion-refresher")&&u.scrollTop===0):B.closest("ion-footer")===null)},onStart:L=>{let{deltaY:B}=L;f=m(),a=t.canDismiss!==void 0&&t.canDismiss!==!0,B>0&&l&&lp(l),e.progressStart(!0,s?1:0)},onMove:L=>{let{deltaY:B}=L;B>0&&l&&lp(l);let K=L.deltaY/o,U=K>=0&&a,I=U?h:.9999,y=U?rb(K/I):K,b=Pn(1e-4,y,I);e.progressStep(b),b>=.5&&v<.5?nb(n):b<.5&&v>=.5&&oR(),v=b},onEnd:L=>{let B=L.velocityY,K=L.deltaY/o,U=K>=0&&a,I=U?h:.9999,y=U?rb(K/I):K,b=Pn(1e-4,y,I),E=(L.deltaY+B*1e3)/o,T=!U&&E>=.5,A=T?-.001:.001;T?(e.easing("cubic-bezier(0.32, 0.72, 0, 1)"),A+=ta([0,0],[.32,.72],[0,1],[1,1],b)[0]):(e.easing("cubic-bezier(1, 0, 0.68, 0.28)"),A+=ta([0,0],[1,0],[.68,.28],[1,1],b)[0]);let w=nR(T?K*o:(1-b)*o,B);s=T,F.enable(!1),l&&ww(l,f),e.onFinish(()=>{T||F.enable(!0)}).progressEnd(T?1:0,A,w),U&&b>I/4?sR(t,e):T&&r()}});return F},nR=(t,e)=>Pn(400,t/Math.abs(e*1.1),500),aR=t=>{let{currentBreakpoint:e,backdropBreakpoint:n,expandToScroll:r}=t,i=n===void 0||n<e,o=i?`calc(var(--backdrop-opacity) * ${e})`:"0",s=ee("backdropAnimation").fromTo("opacity",0,o);i&&s.beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]);let a=ee("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:"translateY(100%)"},{offset:1,opacity:1,transform:`translateY(${100-e*100}%)`}]),l=r?void 0:ee("contentAnimation").keyframes([{offset:0,opacity:1,maxHeight:`${(1-e)*100}%`},{offset:1,opacity:1,maxHeight:`${e*100}%`}]);return{wrapperAnimation:a,backdropAnimation:s,contentAnimation:l}},cR=t=>{let{currentBreakpoint:e,backdropBreakpoint:n}=t,r=`calc(var(--backdrop-opacity) * ${tb(e,n)})`,i=[{offset:0,opacity:r},{offset:1,opacity:0}],o=[{offset:0,opacity:r},{offset:n,opacity:0},{offset:1,opacity:0}],s=ee("backdropAnimation").keyframes(n!==0?o:i);return{wrapperAnimation:ee("wrapperAnimation").keyframes([{offset:0,opacity:1,transform:`translateY(${100-e*100}%)`},{offset:1,opacity:1,transform:"translateY(100%)"}]),backdropAnimation:s}},e3=()=>{let t=ee().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=ee().fromTo("transform","translateY(100vh)","translateY(0vh)");return{backdropAnimation:t,wrapperAnimation:e,contentAnimation:void 0}},rR=(t,e)=>{let{presentingEl:n,currentBreakpoint:r,expandToScroll:i}=e,o=et(t),{wrapperAnimation:s,backdropAnimation:a,contentAnimation:l}=r!==void 0?aR(e):e3();a.addElement(o.querySelector("ion-backdrop")),s.addElement(o.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1}),!i&&(l==null||l.addElement(t.querySelector(".ion-page")));let u=ee("entering-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(500).addAnimation([s]).beforeAddWrite(()=>{if(i)return;let h=t.querySelector("ion-footer"),f=t.shadowRoot.querySelector("ion-footer");if(h&&!f){let v=h.clientHeight,m=h.cloneNode(!0);t.shadowRoot.appendChild(m),h.style.setProperty("display","none"),h.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.setProperty("padding-bottom",`${v}px`)}});if(l&&u.addAnimation(l),n){let h=window.innerWidth<768,f=n.tagName==="ION-MODAL"&&n.presentingElement!==void 0,v=et(n),m=ee().beforeStyles({transform:"translateY(0)","transform-origin":"top center",overflow:"hidden"}),C=document.body;if(h){let D=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",S=f?"-10px":D,M=Sf.MIN_PRESENTING_SCALE,F=`translateY(${S}) scale(${M})`;m.afterStyles({transform:F}).beforeAddWrite(()=>C.style.setProperty("background-color","black")).addElement(n).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"},{offset:1,filter:"contrast(0.85)",transform:F,borderRadius:"10px 10px 0 0"}]),u.addAnimation(m)}else if(u.addAnimation(a),!f)s.fromTo("opacity","0","1");else{let S=`translateY(-10px) scale(${f?Sf.MIN_PRESENTING_SCALE:1})`;m.afterStyles({transform:S}).addElement(v.querySelector(".modal-wrapper")).keyframes([{offset:0,filter:"contrast(1)",transform:"translateY(0) scale(1)"},{offset:1,filter:"contrast(0.85)",transform:S}]);let M=ee().afterStyles({transform:S}).addElement(v.querySelector(".modal-shadow")).keyframes([{offset:0,opacity:"1",transform:"translateY(0) scale(1)"},{offset:1,opacity:"0",transform:S}]);u.addAnimation([m,M])}}else u.addAnimation(a);return u},t3=()=>{let t=ee().fromTo("opacity","var(--backdrop-opacity)",0),e=ee().fromTo("transform","translateY(0vh)","translateY(100vh)");return{backdropAnimation:t,wrapperAnimation:e}},iR=(t,e,n=500)=>{let{presentingEl:r,currentBreakpoint:i,expandToScroll:o}=e,s=et(t),{wrapperAnimation:a,backdropAnimation:l}=i!==void 0?cR(e):t3();l.addElement(s.querySelector("ion-backdrop")),a.addElement(s.querySelectorAll(".modal-wrapper, .modal-shadow")).beforeStyles({opacity:1});let u=ee("leaving-base").addElement(t).easing("cubic-bezier(0.32,0.72,0,1)").duration(n).addAnimation(a).beforeAddWrite(()=>{if(o)return;let h=t.querySelector("ion-footer");if(h){let f=t.shadowRoot.querySelector("ion-footer");h.style.removeProperty("display"),h.removeAttribute("aria-hidden"),f.style.setProperty("display","none"),f.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.removeProperty("padding-bottom")}});if(r){let h=window.innerWidth<768,f=r.tagName==="ION-MODAL"&&r.presentingElement!==void 0,v=et(r),m=ee().beforeClearStyles(["transform"]).afterClearStyles(["transform"]).onFinish(D=>{if(D!==1)return;r.style.setProperty("overflow",""),Array.from(C.querySelectorAll("ion-modal:not(.overlay-hidden)")).filter(M=>M.presentingElement!==void 0).length<=1&&C.style.setProperty("background-color","")}),C=document.body;if(h){let D=CSS.supports("width","max(0px, 1px)")?"max(30px, var(--ion-safe-area-top))":"30px",S=f?"-10px":D,M=Sf.MIN_PRESENTING_SCALE,F=`translateY(${S}) scale(${M})`;m.addElement(r).keyframes([{offset:0,filter:"contrast(0.85)",transform:F,borderRadius:"10px 10px 0 0"},{offset:1,filter:"contrast(1)",transform:"translateY(0px) scale(1)",borderRadius:"0px"}]),u.addAnimation(m)}else if(u.addAnimation(l),!f)a.fromTo("opacity","1","0");else{let S=`translateY(-10px) scale(${f?Sf.MIN_PRESENTING_SCALE:1})`;m.addElement(v.querySelector(".modal-wrapper")).afterStyles({transform:"translate3d(0, 0, 0)"}).keyframes([{offset:0,filter:"contrast(0.85)",transform:S},{offset:1,filter:"contrast(1)",transform:"translateY(0) scale(1)"}]);let M=ee().addElement(v.querySelector(".modal-shadow")).afterStyles({transform:"translateY(0) scale(1)"}).keyframes([{offset:0,opacity:"0",transform:S},{offset:1,opacity:"1",transform:"translateY(0) scale(1)"}]);u.addAnimation([m,M])}}else u.addAnimation(l);return u},n3=()=>{let t=ee().fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),e=ee().keyframes([{offset:0,opacity:.01,transform:"translateY(40px)"},{offset:1,opacity:1,transform:"translateY(0px)"}]);return{backdropAnimation:t,wrapperAnimation:e,contentAnimation:void 0}},r3=(t,e)=>{let{currentBreakpoint:n,expandToScroll:r}=e,i=et(t),{wrapperAnimation:o,backdropAnimation:s,contentAnimation:a}=n!==void 0?aR(e):n3();s.addElement(i.querySelector("ion-backdrop")),o.addElement(i.querySelector(".modal-wrapper")),r&&(a==null||a.addElement(t.querySelector(".ion-page")));let l=ee().addElement(t).easing("cubic-bezier(0.36,0.66,0.04,1)").duration(280).addAnimation([s,o]).beforeAddWrite(()=>{if(r)return;let u=t.querySelector("ion-footer"),h=t.shadowRoot.querySelector("ion-footer");if(u&&!h){let f=u.clientHeight,v=u.cloneNode(!0);t.shadowRoot.appendChild(v),u.style.setProperty("display","none"),u.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.setProperty("padding-bottom",`${f}px`)}});return a&&l.addAnimation(a),l},i3=()=>{let t=ee().fromTo("opacity","var(--backdrop-opacity)",0),e=ee().keyframes([{offset:0,opacity:.99,transform:"translateY(0px)"},{offset:1,opacity:0,transform:"translateY(40px)"}]);return{backdropAnimation:t,wrapperAnimation:e}},o3=(t,e)=>{let{currentBreakpoint:n,expandToScroll:r}=e,i=et(t),{wrapperAnimation:o,backdropAnimation:s}=n!==void 0?cR(e):i3();return s.addElement(i.querySelector("ion-backdrop")),o.addElement(i.querySelector(".modal-wrapper")),ee().easing("cubic-bezier(0.47,0,0.745,0.715)").duration(200).addAnimation([s,o]).beforeAddWrite(()=>{if(r)return;let l=t.querySelector("ion-footer");if(l){let u=t.shadowRoot.querySelector("ion-footer");l.style.removeProperty("display"),l.removeAttribute("aria-hidden"),u.style.setProperty("display","none"),u.setAttribute("aria-hidden","true"),t.querySelector(".ion-page").style.removeProperty("padding-bottom")}})},s3=(t,e,n,r,i,o,s=[],a,l,u,h)=>{let f=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1,opacity:.01}],v=[{offset:0,opacity:"var(--backdrop-opacity)"},{offset:1-i,opacity:0},{offset:1,opacity:0}],m={WRAPPER_KEYFRAMES:[{offset:0,transform:"translateY(0%)"},{offset:1,transform:"translateY(100%)"}],BACKDROP_KEYFRAMES:i!==0?v:f,CONTENT_KEYFRAMES:[{offset:0,maxHeight:"100%"},{offset:1,maxHeight:"0%"}]},C=t.querySelector("ion-content"),D=n.clientHeight,S=r,M=0,F=!1,L=null,B=.95,K=s[s.length-1],U=s[0],I=o.childAnimations.find(be=>be.id==="wrapperAnimation"),y=o.childAnimations.find(be=>be.id==="backdropAnimation"),b=o.childAnimations.find(be=>be.id==="contentAnimation"),E=()=>{t.style.setProperty("pointer-events","auto"),e.style.setProperty("pointer-events","auto"),t.classList.remove(Io)},T=()=>{t.style.setProperty("pointer-events","none"),e.style.setProperty("pointer-events","none"),t.classList.add(Io)},A=be=>{let we=t.querySelector("ion-footer");if(!we)return;let Qe=n.nextElementSibling,Ne=be==="original"?Qe:we,Te=be==="original"?we:Qe;Te.style.removeProperty("display"),Te.removeAttribute("aria-hidden");let ft=t.querySelector(".ion-page");if(be==="original")ft.style.removeProperty("padding-bottom");else{let ze=Te.clientHeight;ft.style.setProperty("padding-bottom",`${ze}px`)}Ne.style.setProperty("display","none"),Ne.setAttribute("aria-hidden","true")};I&&y&&(I.keyframes([...m.WRAPPER_KEYFRAMES]),y.keyframes([...m.BACKDROP_KEYFRAMES]),b==null||b.keyframes([...m.CONTENT_KEYFRAMES]),o.progressStart(!0,1-S),S>i?E():T()),C&&S!==K&&a&&(C.scrollY=!1);let w=be=>{let we=Vl(be.event.target);if(S=l(),!a&&we)return(Ao(we)?et(we).querySelector(".inner-scroll"):we).scrollTop===0;if(S===1&&we){let Qe=Ao(we)?et(we).querySelector(".inner-scroll"):we;return!!!we.querySelector("ion-refresher")&&Qe.scrollTop===0}return!0},bt=be=>{if(F=t.canDismiss!==void 0&&t.canDismiss!==!0&&U===0,!a){let we=Vl(be.event.target);L=we&&Ao(we)?et(we).querySelector(".inner-scroll"):we}a||A("original"),be.deltaY>0&&C&&(C.scrollY=!1),or(()=>{t.focus()}),o.progressStart(!0,1-S)},er=be=>{if(!a&&be.deltaY<=0&&L)return;be.deltaY>0&&C&&(C.scrollY=!1);let we=1-S,Qe=s.length>1?1-s[1]:void 0,Ne=we+be.deltaY/D,Te=Qe!==void 0&&Ne>=Qe&&F,ft=Te?B:.9999,ze=Te&&Qe!==void 0?Qe+rb((Ne-Qe)/(ft-Qe)):Ne;M=Pn(1e-4,ze,ft),o.progressStep(M)},sa=be=>{if(!a&&be.deltaY<=0&&L&&L.scrollTop>0)return;let we=be.velocityY,Qe=(be.deltaY+we*350)/D,Ne=S-Qe,Te=s.reduce((ft,ze)=>Math.abs(ze-Ne)<Math.abs(ft-Ne)?ze:ft);Mn({breakpoint:Te,breakpointOffset:M,canDismiss:F,animated:!0})},Mn=be=>{let{breakpoint:we,canDismiss:Qe,breakpointOffset:Ne,animated:Te}=be,ft=Qe&&we===0,ze=ft?S:we,Eo=ze!==0;return S=0,I&&y&&(I.keyframes([{offset:0,transform:`translateY(${Ne*100}%)`},{offset:1,transform:`translateY(${(1-ze)*100}%)`}]),y.keyframes([{offset:0,opacity:`calc(var(--backdrop-opacity) * ${tb(1-Ne,i)})`},{offset:1,opacity:`calc(var(--backdrop-opacity) * ${tb(ze,i)})`}]),b&&b.keyframes([{offset:0,maxHeight:`${(1-Ne)*100}%`},{offset:1,maxHeight:`${ze*100}%`}]),o.progressStep(0)),Xt.enable(!1),!a&&Eo&&A("cloned"),ft?sR(t,o):Eo||u(),C&&(ze===s[s.length-1]||!a)&&(C.scrollY=!0),new Promise(tr=>{o.onFinish(()=>{Eo?I&&y?or(()=>{I.keyframes([...m.WRAPPER_KEYFRAMES]),y.keyframes([...m.BACKDROP_KEYFRAMES]),b==null||b.keyframes([...m.CONTENT_KEYFRAMES]),o.progressStart(!0,1-ze),S=ze,h(S),S>i?E():T(),Xt.enable(!0),tr()}):(Xt.enable(!0),tr()):tr()},{oneTimeCallback:!0}).progressEnd(1,0,Te?500:0)})},Xt=Fl({el:n,gestureName:"modalSheet",gesturePriority:40,direction:"y",threshold:10,canStart:w,onStart:bt,onMove:er,onEnd:sa});return{gesture:Xt,moveSheetToBreakpoint:Mn}},a3=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.4)}:host(.modal-card),:host(.modal-sheet){--border-radius:10px}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:10px}}.modal-wrapper{-webkit-transform:translate3d(0,  100%,  0);transform:translate3d(0,  100%,  0)}@media screen and (max-width: 767px){@supports (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - max(30px, var(--ion-safe-area-top)) - 10px)}}@supports not (width: max(0px, 1px)){:host(.modal-card){--height:calc(100% - 40px)}}:host(.modal-card) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-card){--backdrop-opacity:0;--width:100%;-ms-flex-align:end;align-items:flex-end}:host(.modal-card) .modal-shadow{display:none}:host(.modal-card) ion-backdrop{pointer-events:none}}@media screen and (min-width: 768px){:host(.modal-card){--width:calc(100% - 120px);--height:calc(100% - (120px + var(--ion-safe-area-top) + var(--ion-safe-area-bottom)));--max-width:720px;--max-height:1000px;--backdrop-opacity:0;--box-shadow:0px 0px 30px 10px rgba(0, 0, 0, 0.1);-webkit-transition:all 0.5s ease-in-out;transition:all 0.5s ease-in-out}:host(.modal-card) .modal-wrapper{-webkit-box-shadow:none;box-shadow:none}:host(.modal-card) .modal-shadow{-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow)}}:host(.modal-sheet) .modal-wrapper{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0;border-end-start-radius:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer ion-toolbar:first-of-type{padding-top:6px}',c3=a3,l3=':host{--width:100%;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--overflow:hidden;--border-radius:0;--border-width:0;--border-style:none;--border-color:transparent;--background:var(--ion-background-color, #fff);--box-shadow:none;--backdrop-opacity:0;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);contain:strict}.modal-wrapper,ion-backdrop{pointer-events:auto}:host(.overlay-hidden){display:none}.modal-wrapper,.modal-shadow{border-radius:var(--border-radius);width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:var(--overflow);z-index:10}.modal-shadow{position:absolute;background:transparent}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--width:600px;--height:500px;--ion-safe-area-top:0px;--ion-safe-area-bottom:0px;--ion-safe-area-right:0px;--ion-safe-area-left:0px}}@media only screen and (min-width: 768px) and (min-height: 768px){:host{--width:600px;--height:600px}}.modal-handle{left:0px;right:0px;top:5px;border-radius:8px;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;position:absolute;width:36px;height:5px;-webkit-transform:translateZ(0);transform:translateZ(0);border:0;background:var(--ion-color-step-350, var(--ion-background-color-step-350, #c0c0be));cursor:pointer;z-index:11}.modal-handle::before{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:4px;padding-bottom:4px;position:absolute;width:36px;height:5px;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);content:""}:host(.modal-sheet){--height:calc(100% - (var(--ion-safe-area-top) + 10px))}:host(.modal-sheet) .modal-wrapper,:host(.modal-sheet) .modal-shadow{position:absolute;bottom:0}:host(.modal-sheet.modal-no-expand-scroll) ion-footer{position:absolute;bottom:0;width:var(--width)}:host{--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}@media only screen and (min-width: 768px) and (min-height: 600px){:host{--border-radius:2px;--box-shadow:0 28px 48px rgba(0, 0, 0, 0.4)}}.modal-wrapper{-webkit-transform:translate3d(0,  40px,  0);transform:translate3d(0,  40px,  0);opacity:0.01}',u3=l3,lR=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=pe(this,"ionModalDidPresent",7),this.willPresent=pe(this,"ionModalWillPresent",7),this.willDismiss=pe(this,"ionModalWillDismiss",7),this.didDismiss=pe(this,"ionModalDidDismiss",7),this.ionBreakpointDidChange=pe(this,"ionBreakpointDidChange",7),this.didPresentShorthand=pe(this,"didPresent",7),this.willPresentShorthand=pe(this,"willPresent",7),this.willDismissShorthand=pe(this,"willDismiss",7),this.didDismissShorthand=pe(this,"didDismiss",7),this.ionMount=pe(this,"ionMount",7),this.lockController=Tf(),this.triggerController=Hk(),this.coreDelegate=pf(),this.isSheetModal=!1,this.inheritedAttributes={},this.inline=!1,this.gestureAnimationDismissing=!1,this.onHandleClick=()=>{let{sheetTransition:e,handleBehavior:n}=this;n!=="cycle"||e!==void 0||this.moveToNextBreakpoint()},this.onBackdropTap=()=>{let{sheetTransition:e}=this;e===void 0&&this.dismiss(void 0,Nr)},this.onLifecycle=e=>{let n=this.usersElement,r=d3[e.type];if(n&&r){let i=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(i)}},this.presented=!1,this.hasController=!1,this.overlayIndex=void 0,this.delegate=void 0,this.keyboardClose=!0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.breakpoints=void 0,this.expandToScroll=!0,this.initialBreakpoint=void 0,this.backdropBreakpoint=0,this.handle=void 0,this.handleBehavior="none",this.component=void 0,this.componentProps=void 0,this.cssClass=void 0,this.backdropDismiss=!0,this.showBackdrop=!0,this.animated=!0,this.presentingElement=void 0,this.htmlAttributes=void 0,this.isOpen=!1,this.trigger=void 0,this.keepContentsMounted=!1,this.focusTrap=!0,this.canDismiss=!0}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}triggerChanged(){let{trigger:e,el:n,triggerController:r}=this;e&&r.addClickListener(n,e)}breakpointsChanged(e){e!==void 0&&(this.sortedBreakpoints=e.sort((n,r)=>n-r))}connectedCallback(){let{el:e}=this;vf(e),this.triggerChanged()}disconnectedCallback(){this.triggerController.removeClickListener()}componentWillLoad(){var e;let{breakpoints:n,initialBreakpoint:r,el:i,htmlAttributes:o}=this,s=this.isSheetModal=n!==void 0&&r!==void 0,a=["aria-label","role"];this.inheritedAttributes=mw(i,a),o!==void 0&&a.forEach(l=>{o[l]&&(this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{[l]:o[l]}),delete o[l])}),s&&(this.currentBreakpoint=this.initialBreakpoint),n!==void 0&&r!==void 0&&!n.includes(r)&&Ut("[ion-modal] - Your breakpoints array must include the initialBreakpoint value."),!((e=this.htmlAttributes)===null||e===void 0)&&e.id||yf(this.el)}componentDidLoad(){this.isOpen===!0&&or(()=>this.present()),this.breakpointsChanged(this.breakpoints),this.triggerChanged()}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};let n=this.el.parentNode,r=this.inline=n!==null&&!this.hasController,i=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:i}}checkCanDismiss(e,n){return _(this,null,function*(){let{canDismiss:r}=this;return typeof r=="function"?r(e,n):r})}present(){return _(this,null,function*(){let e=yield this.lockController.lock();if(this.presented){e();return}let{presentingElement:n,el:r}=this;this.currentBreakpoint=this.initialBreakpoint;let{inline:i,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=yield hf(o,r,this.component,["ion-page"],this.componentProps,i),Ei(r)?yield Ol(this.usersElement):this.keepContentsMounted||(yield Nl()),un(()=>this.el.classList.add("show-modal"));let s=n!==void 0;s&&fe(this)==="ios"&&(this.statusBarStyle=yield ib.getStyle(),oR()),yield bf(this,"modalEnter",rR,r3,{presentingEl:n,currentBreakpoint:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll}),typeof window<"u"&&(this.keyboardOpenCallback=()=>{this.gesture&&(this.gesture.enable(!1),or(()=>{this.gesture&&this.gesture.enable(!0)}))},window.addEventListener(up,this.keyboardOpenCallback)),this.isSheetModal?this.initSheetGesture():s&&this.initSwipeToClose(),e()})}initSwipeToClose(){var e;if(fe(this)!=="ios")return;let{el:n}=this,r=this.leaveAnimation||Ze.get("modalLeave",iR),i=this.animation=r(n,{presentingEl:this.presentingElement,expandToScroll:this.expandToScroll});if(!Da(n)){Ta(n);return}let s=(e=this.statusBarStyle)!==null&&e!==void 0?e:pl.Default;this.gesture=J4(n,i,s,()=>{this.gestureAnimationDismissing=!0,nb(this.statusBarStyle),this.animation.onFinish(()=>_(this,null,function*(){yield this.dismiss(void 0,Jn),this.gestureAnimationDismissing=!1}))}),this.gesture.enable(!0)}initSheetGesture(){let{wrapperEl:e,initialBreakpoint:n,backdropBreakpoint:r}=this;if(!e||n===void 0)return;let i=this.enterAnimation||Ze.get("modalEnter",rR),o=this.animation=i(this.el,{presentingEl:this.presentingElement,currentBreakpoint:n,backdropBreakpoint:r,expandToScroll:this.expandToScroll});o.progressStart(!0,1);let{gesture:s,moveSheetToBreakpoint:a}=s3(this.el,this.backdropEl,e,n,r,o,this.sortedBreakpoints,this.expandToScroll,()=>{var l;return(l=this.currentBreakpoint)!==null&&l!==void 0?l:0},()=>this.sheetOnDismiss(),l=>{this.currentBreakpoint!==l&&(this.currentBreakpoint=l,this.ionBreakpointDidChange.emit({breakpoint:l}))});this.gesture=s,this.moveSheetToBreakpoint=a,this.gesture.enable(!0)}sheetOnDismiss(){this.gestureAnimationDismissing=!0,this.animation.onFinish(()=>_(this,null,function*(){this.currentBreakpoint=0,this.ionBreakpointDidChange.emit({breakpoint:this.currentBreakpoint}),yield this.dismiss(void 0,Jn),this.gestureAnimationDismissing=!1}))}dismiss(e,n){return _(this,null,function*(){var r;if(this.gestureAnimationDismissing&&n!==Jn)return!1;let i=yield this.lockController.lock();if(n!=="handler"&&!(yield this.checkCanDismiss(e,n)))return i(),!1;let{presentingElement:o}=this;o!==void 0&&fe(this)==="ios"&&nb(this.statusBarStyle),typeof window<"u"&&this.keyboardOpenCallback&&(window.removeEventListener(up,this.keyboardOpenCallback),this.keyboardOpenCallback=void 0);let a=yield wf(this,e,n,"modalLeave",iR,o3,{presentingEl:o,currentBreakpoint:(r=this.currentBreakpoint)!==null&&r!==void 0?r:this.initialBreakpoint,backdropBreakpoint:this.backdropBreakpoint,expandToScroll:this.expandToScroll});if(a){let{delegate:l}=this.getDelegate();yield ff(l,this.usersElement),un(()=>this.el.classList.remove("show-modal")),this.animation&&this.animation.destroy(),this.gesture&&this.gesture.destroy()}return this.currentBreakpoint=void 0,this.animation=void 0,i(),a})}onDidDismiss(){return ia(this.el,"ionModalDidDismiss")}onWillDismiss(){return ia(this.el,"ionModalWillDismiss")}setCurrentBreakpoint(e){return _(this,null,function*(){if(!this.isSheetModal){Ut("[ion-modal] - setCurrentBreakpoint is only supported on sheet modals.");return}if(!this.breakpoints.includes(e)){Ut(`[ion-modal] - Attempted to set invalid breakpoint value ${e}. Please double check that the breakpoint value is part of your defined breakpoints.`);return}let{currentBreakpoint:n,moveSheetToBreakpoint:r,canDismiss:i,breakpoints:o,animated:s}=this;n!==e&&r&&(this.sheetTransition=r({breakpoint:e,breakpointOffset:1-n,canDismiss:i!==void 0&&i!==!0&&o[0]===0,animated:s}),yield this.sheetTransition,this.sheetTransition=void 0)})}getCurrentBreakpoint(){return _(this,null,function*(){return this.currentBreakpoint})}moveToNextBreakpoint(){return _(this,null,function*(){let{breakpoints:e,currentBreakpoint:n}=this;if(!e||n==null)return!1;let r=e.filter(a=>a!==0),o=(r.indexOf(n)+1)%r.length,s=r[o];return yield this.setCurrentBreakpoint(s),!0})}render(){let{handle:e,isSheetModal:n,presentingElement:r,htmlAttributes:i,handleBehavior:o,inheritedAttributes:s,focusTrap:a,expandToScroll:l}=this,u=e!==!1&&n,h=fe(this),f=r!==void 0&&h==="ios",v=o==="cycle";return z(Le,Object.assign({key:"0991b2e4e32da511e59fb1463b47e4ac1b86d1ca","no-router":!0,tabindex:"-1"},i,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign({[h]:!0,"modal-default":!f&&!n,"modal-card":f,"modal-sheet":n,"modal-no-expand-scroll":n&&!l,"overlay-hidden":!0,[Io]:a===!1},df(this.cssClass)),onIonBackdropTap:this.onBackdropTap,onIonModalDidPresent:this.onLifecycle,onIonModalWillPresent:this.onLifecycle,onIonModalWillDismiss:this.onLifecycle,onIonModalDidDismiss:this.onLifecycle}),z("ion-backdrop",{key:"ca9453ffe1021fb252ad9460676cfabb5633f00f",ref:m=>this.backdropEl=m,visible:this.showBackdrop,tappable:this.backdropDismiss,part:"backdrop"}),h==="ios"&&z("div",{key:"9f8da446a7b0f3b26aec856e13f6d6d131a7e37b",class:"modal-shadow"}),z("div",Object.assign({key:"9d08bf600571849c97b58f66df40b496a358d1e1",role:"dialog"},s,{"aria-modal":"true",class:"modal-wrapper ion-overlay-wrapper",part:"content",ref:m=>this.wrapperEl=m}),u&&z("button",{key:"f8bf0d1126e5376519101225d9965727121ee042",class:"modal-handle",tabIndex:v?0:-1,"aria-label":"Activate to adjust the size of the dialog overlaying the screen",onClick:v?this.onHandleClick:void 0,part:"handle"}),z("slot",{key:"6d52849df98f2c6c8fbc03996a931ea6a39a512b"})))}get el(){return this}static get watchers(){return{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}}static get style(){return{ios:c3,md:u3}}},[33,"ion-modal",{hasController:[4,"has-controller"],overlayIndex:[2,"overlay-index"],delegate:[16],keyboardClose:[4,"keyboard-close"],enterAnimation:[16],leaveAnimation:[16],breakpoints:[16],expandToScroll:[4,"expand-to-scroll"],initialBreakpoint:[2,"initial-breakpoint"],backdropBreakpoint:[2,"backdrop-breakpoint"],handle:[4],handleBehavior:[1,"handle-behavior"],component:[1],componentProps:[16],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],showBackdrop:[4,"show-backdrop"],animated:[4],presentingElement:[16],htmlAttributes:[16],isOpen:[4,"is-open"],trigger:[1],keepContentsMounted:[4,"keep-contents-mounted"],focusTrap:[4,"focus-trap"],canDismiss:[4,"can-dismiss"],presented:[32],present:[64],dismiss:[64],onDidDismiss:[64],onWillDismiss:[64],setCurrentBreakpoint:[64],getCurrentBreakpoint:[64]},void 0,{isOpen:["onIsOpenChange"],trigger:["triggerChanged"]}]),d3={ionModalDidPresent:"ionViewDidEnter",ionModalWillPresent:"ionViewWillEnter",ionModalWillDismiss:"ionViewWillLeave",ionModalDidDismiss:"ionViewDidLeave"};function uR(){if(typeof customElements>"u")return;["ion-modal","ion-backdrop"].forEach(e=>{switch(e){case"ion-modal":customElements.get(e)||customElements.define(e,lR);break;case"ion-backdrop":customElements.get(e)||oa();break}})}var dR=uR;var h3=t=>{if(!t)return{arrowWidth:0,arrowHeight:0};let{width:e,height:n}=t.getBoundingClientRect();return{arrowWidth:e,arrowHeight:n}},fR=(t,e,n)=>{let r=e.getBoundingClientRect(),i=r.height,o=r.width;return t==="cover"&&n&&(o=n.getBoundingClientRect().width),{contentWidth:o,contentHeight:i}},f3=(t,e,n,r)=>{let i=[],s=et(r).querySelector(".popover-content");switch(e){case"hover":i=[{eventName:"mouseenter",callback:a=>{document.elementFromPoint(a.clientX,a.clientY)!==t&&n.dismiss(void 0,void 0,!1)}}];break;case"context-menu":case"click":default:i=[{eventName:"click",callback:a=>{if(a.target.closest("[data-ion-popover-trigger]")===t){a.stopPropagation();return}n.dismiss(void 0,void 0,!1)}}];break}return i.forEach(({eventName:a,callback:l})=>s.addEventListener(a,l)),()=>{i.forEach(({eventName:a,callback:l})=>s.removeEventListener(a,l))}},p3=(t,e,n)=>{let r=[];switch(e){case"hover":let i;r=[{eventName:"mouseenter",callback:o=>_(void 0,null,function*(){o.stopPropagation(),i&&clearTimeout(i),i=setTimeout(()=>{or(()=>{n.presentFromTrigger(o),i=void 0})},100)})},{eventName:"mouseleave",callback:o=>{i&&clearTimeout(i);let s=o.relatedTarget;s&&s.closest("ion-popover")!==n&&n.dismiss(void 0,void 0,!1)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break;case"context-menu":r=[{eventName:"contextmenu",callback:o=>{o.preventDefault(),n.presentFromTrigger(o)}},{eventName:"click",callback:o=>o.stopPropagation()},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break;case"click":default:r=[{eventName:"click",callback:o=>n.presentFromTrigger(o)},{eventName:"ionPopoverActivateTrigger",callback:o=>n.presentFromTrigger(o,!0)}];break}return r.forEach(({eventName:i,callback:o})=>t.addEventListener(i,o)),t.setAttribute("data-ion-popover-trigger","true"),()=>{r.forEach(({eventName:i,callback:o})=>t.removeEventListener(i,o)),t.removeAttribute("data-ion-popover-trigger")}},pR=(t,e)=>!e||e.tagName!=="ION-ITEM"?-1:t.findIndex(n=>n===e),m3=(t,e)=>{let n=pR(t,e);return t[n+1]},g3=(t,e)=>{let n=pR(t,e);return t[n-1]},Af=t=>{let n=et(t).querySelector("button");n&&or(()=>n.focus())},v3=t=>t.hasAttribute("data-ion-popover-trigger"),y3=t=>{let e=n=>_(void 0,null,function*(){var r;let i=document.activeElement,o=[],s=(r=n.target)===null||r===void 0?void 0:r.tagName;if(!(s!=="ION-POPOVER"&&s!=="ION-ITEM")){try{o=Array.from(t.querySelectorAll("ion-item:not(ion-popover ion-popover *):not([disabled])"))}catch{}switch(n.key){case"ArrowLeft":(yield t.getParentPopover())&&t.dismiss(void 0,void 0,!1);break;case"ArrowDown":n.preventDefault();let l=m3(o,i);l!==void 0&&Af(l);break;case"ArrowUp":n.preventDefault();let u=g3(o,i);u!==void 0&&Af(u);break;case"Home":n.preventDefault();let h=o[0];h!==void 0&&Af(h);break;case"End":n.preventDefault();let f=o[o.length-1];f!==void 0&&Af(f);break;case"ArrowRight":case" ":case"Enter":if(i&&v3(i)){let v=new CustomEvent("ionPopoverActivateTrigger");i.dispatchEvent(v)}break}}});return t.addEventListener("keydown",e),()=>t.removeEventListener("keydown",e)},mR=(t,e,n,r,i,o,s,a,l,u,h)=>{var f;let v={top:0,left:0,width:0,height:0};switch(o){case"event":if(!h)return l;let K=h;v={top:K.clientY,left:K.clientX,width:1,height:1};break;case"trigger":default:let U=h,I=u||((f=U==null?void 0:U.detail)===null||f===void 0?void 0:f.ionShadowTarget)||(U==null?void 0:U.target);if(!I)return l;let y=I.getBoundingClientRect();v={top:y.top,left:y.left,width:y.width,height:y.height};break}let m=w3(s,v,e,n,r,i,t),C=_3(a,s,v,e,n),D=m.top+C.top,S=m.left+C.left,{arrowTop:M,arrowLeft:F}=b3(s,r,i,D,S,e,n,t),{originX:L,originY:B}=I3(s,a,t);return{top:D,left:S,referenceCoordinates:v,arrowTop:M,arrowLeft:F,originX:L,originY:B}},I3=(t,e,n)=>{switch(t){case"top":return{originX:hR(e),originY:"bottom"};case"bottom":return{originX:hR(e),originY:"top"};case"left":return{originX:"right",originY:xf(e)};case"right":return{originX:"left",originY:xf(e)};case"start":return{originX:n?"left":"right",originY:xf(e)};case"end":return{originX:n?"right":"left",originY:xf(e)}}},hR=t=>{switch(t){case"start":return"left";case"center":return"center";case"end":return"right"}},xf=t=>{switch(t){case"start":return"top";case"center":return"center";case"end":return"bottom"}},b3=(t,e,n,r,i,o,s,a)=>{let l={arrowTop:r+s/2-e/2,arrowLeft:i+o-e/2},u={arrowTop:r+s/2-e/2,arrowLeft:i-e*1.5};switch(t){case"top":return{arrowTop:r+s,arrowLeft:i+o/2-e/2};case"bottom":return{arrowTop:r-n,arrowLeft:i+o/2-e/2};case"left":return l;case"right":return u;case"start":return a?u:l;case"end":return a?l:u;default:return{arrowTop:0,arrowLeft:0}}},w3=(t,e,n,r,i,o,s)=>{let a={top:e.top,left:e.left-n-i},l={top:e.top,left:e.left+e.width+i};switch(t){case"top":return{top:e.top-r-o,left:e.left};case"right":return l;case"bottom":return{top:e.top+e.height+o,left:e.left};case"left":return a;case"start":return s?l:a;case"end":return s?a:l}},_3=(t,e,n,r,i)=>{switch(t){case"center":return C3(e,n,r,i);case"end":return E3(e,n,r,i);case"start":default:return{top:0,left:0}}},E3=(t,e,n,r)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(r-e.height),left:0};case"top":case"bottom":default:return{top:0,left:-(n-e.width)}}},C3=(t,e,n,r)=>{switch(t){case"start":case"end":case"left":case"right":return{top:-(r/2-e.height/2),left:0};case"top":case"bottom":default:return{top:0,left:-(n/2-e.width/2)}}},gR=(t,e,n,r,i,o,s,a,l,u,h,f,v=0,m=0,C=0)=>{let D=v,S=m,M=n,F=e,L,B=u,K=h,U=!1,I=!1,y=f?f.top+f.height:o/2-a/2,b=f?f.height:0,E=!1;return M<r+l?(M=r,U=!0,B="left"):s+r+M+l>i&&(I=!0,M=i-s-r,B="right"),y+b+a>o&&(t==="top"||t==="bottom")&&(y-a>0?(F=Math.max(12,y-a-b-(C-1)),D=F+a,K="bottom",E=!0):L=r),{top:F,left:M,bottom:L,originX:B,originY:K,checkSafeAreaLeft:U,checkSafeAreaRight:I,arrowTop:D,arrowLeft:S,addPopoverBottomClass:E}},D3=(t,e=!1,n,r)=>!(!n&&!r||t!=="top"&&t!=="bottom"&&e),T3=5,S3=(t,e)=>{var n;let{event:r,size:i,trigger:o,reference:s,side:a,align:l}=e,u=t.ownerDocument,h=u.dir==="rtl",f=u.defaultView.innerWidth,v=u.defaultView.innerHeight,m=et(t),C=m.querySelector(".popover-content"),D=m.querySelector(".popover-arrow"),S=o||((n=r==null?void 0:r.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(r==null?void 0:r.target),{contentWidth:M,contentHeight:F}=fR(i,C,S),{arrowWidth:L,arrowHeight:B}=h3(D),K={top:v/2-F/2,left:f/2-M/2,originX:h?"right":"left",originY:"top"},U=mR(h,M,F,L,B,s,a,l,K,o,r),I=i==="cover"?0:T3,y=i==="cover"?0:25,{originX:b,originY:E,top:T,left:A,bottom:w,checkSafeAreaLeft:bt,checkSafeAreaRight:er,arrowTop:sa,arrowLeft:Mn,addPopoverBottomClass:Xt}=gR(a,U.top,U.left,I,f,v,M,F,y,U.originX,U.originY,U.referenceCoordinates,U.arrowTop,U.arrowLeft,B),be=ee(),we=ee(),Qe=ee();return we.addElement(m.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),Qe.addElement(m.querySelector(".popover-arrow")).addElement(m.querySelector(".popover-content")).fromTo("opacity",.01,1),be.easing("ease").duration(100).beforeAddWrite(()=>{i==="cover"&&t.style.setProperty("--width",`${M}px`),Xt&&t.classList.add("popover-bottom"),w!==void 0&&C.style.setProperty("bottom",`${w}px`);let Ne=" + var(--ion-safe-area-left, 0)",Te=" - var(--ion-safe-area-right, 0)",ft=`${A}px`;if(bt&&(ft=`${A}px${Ne}`),er&&(ft=`${A}px${Te}`),C.style.setProperty("top",`calc(${T}px + var(--offset-y, 0))`),C.style.setProperty("left",`calc(${ft} + var(--offset-x, 0))`),C.style.setProperty("transform-origin",`${E} ${b}`),D!==null){let ze=U.top!==T||U.left!==A;D3(a,ze,r,o)?(D.style.setProperty("top",`calc(${sa}px + var(--offset-y, 0))`),D.style.setProperty("left",`calc(${Mn}px + var(--offset-x, 0))`)):D.style.setProperty("display","none")}}).addAnimation([we,Qe])},A3=t=>{let e=et(t),n=e.querySelector(".popover-content"),r=e.querySelector(".popover-arrow"),i=ee(),o=ee(),s=ee();return o.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),s.addElement(e.querySelector(".popover-arrow")).addElement(e.querySelector(".popover-content")).fromTo("opacity",.99,0),i.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin"),r&&(r.style.removeProperty("top"),r.style.removeProperty("left"),r.style.removeProperty("display"))}).duration(300).addAnimation([o,s])},x3=12,k3=(t,e)=>{var n;let{event:r,size:i,trigger:o,reference:s,side:a,align:l}=e,u=t.ownerDocument,h=u.dir==="rtl",f=u.defaultView.innerWidth,v=u.defaultView.innerHeight,m=et(t),C=m.querySelector(".popover-content"),D=o||((n=r==null?void 0:r.detail)===null||n===void 0?void 0:n.ionShadowTarget)||(r==null?void 0:r.target),{contentWidth:S,contentHeight:M}=fR(i,C,D),F={top:v/2-M/2,left:f/2-S/2,originX:h?"right":"left",originY:"top"},L=mR(h,S,M,0,0,s,a,l,F,o,r),B=i==="cover"?0:x3,{originX:K,originY:U,top:I,left:y,bottom:b}=gR(a,L.top,L.left,B,f,v,S,M,0,L.originX,L.originY,L.referenceCoordinates),E=ee(),T=ee(),A=ee(),w=ee(),bt=ee();return T.addElement(m.querySelector("ion-backdrop")).fromTo("opacity",.01,"var(--backdrop-opacity)").beforeStyles({"pointer-events":"none"}).afterClearStyles(["pointer-events"]),A.addElement(m.querySelector(".popover-wrapper")).duration(150).fromTo("opacity",.01,1),w.addElement(C).beforeStyles({top:`calc(${I}px + var(--offset-y, 0px))`,left:`calc(${y}px + var(--offset-x, 0px))`,"transform-origin":`${U} ${K}`}).beforeAddWrite(()=>{b!==void 0&&C.style.setProperty("bottom",`${b}px`)}).fromTo("transform","scale(0.8)","scale(1)"),bt.addElement(m.querySelector(".popover-viewport")).fromTo("opacity",.01,1),E.easing("cubic-bezier(0.36,0.66,0.04,1)").duration(300).beforeAddWrite(()=>{i==="cover"&&t.style.setProperty("--width",`${S}px`),U==="bottom"&&t.classList.add("popover-bottom")}).addAnimation([T,A,w,bt])},R3=t=>{let e=et(t),n=e.querySelector(".popover-content"),r=ee(),i=ee(),o=ee();return i.addElement(e.querySelector("ion-backdrop")).fromTo("opacity","var(--backdrop-opacity)",0),o.addElement(e.querySelector(".popover-wrapper")).fromTo("opacity",.99,0),r.easing("ease").afterAddWrite(()=>{t.style.removeProperty("--width"),t.classList.remove("popover-bottom"),n.style.removeProperty("top"),n.style.removeProperty("left"),n.style.removeProperty("bottom"),n.style.removeProperty("transform-origin")}).duration(150).addAnimation([i,o])},M3=':host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:200px;--max-height:90%;--box-shadow:none;--backdrop-opacity:var(--ion-backdrop-opacity, 0.08)}:host(.popover-desktop){--box-shadow:0px 4px 16px 0px rgba(0, 0, 0, 0.12)}.popover-content{border-radius:10px}:host(.popover-desktop) .popover-content{border:0.5px solid var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6))}.popover-arrow{display:block;position:absolute;width:20px;height:10px;overflow:hidden;z-index:11}.popover-arrow::after{top:3px;border-radius:3px;position:absolute;width:14px;height:14px;-webkit-transform:rotate(45deg);transform:rotate(45deg);background:var(--background);content:"";z-index:10}.popover-arrow::after{inset-inline-start:3px}:host(.popover-bottom) .popover-arrow{top:auto;bottom:-10px}:host(.popover-bottom) .popover-arrow::after{top:-6px}:host(.popover-side-left) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host(.popover-side-right) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host(.popover-side-top) .popover-arrow{-webkit-transform:rotate(180deg);transform:rotate(180deg)}:host(.popover-side-start) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}:host-context([dir=rtl]):host(.popover-side-start) .popover-arrow,:host-context([dir=rtl]).popover-side-start .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}@supports selector(:dir(rtl)){:host(.popover-side-start:dir(rtl)) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}}:host(.popover-side-end) .popover-arrow{-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}:host-context([dir=rtl]):host(.popover-side-end) .popover-arrow,:host-context([dir=rtl]).popover-side-end .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}@supports selector(:dir(rtl)){:host(.popover-side-end:dir(rtl)) .popover-arrow{-webkit-transform:rotate(90deg);transform:rotate(90deg)}}.popover-arrow,.popover-content{opacity:0}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.popover-translucent) .popover-content,:host(.popover-translucent) .popover-arrow::after{background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}}',P3=M3,N3=":host{--background:var(--ion-background-color, #fff);--min-width:0;--min-height:0;--max-width:auto;--height:auto;--offset-x:0px;--offset-y:0px;left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:fixed;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;outline:none;color:var(--ion-text-color, #000);z-index:1001}:host(.popover-nested){pointer-events:none}:host(.popover-nested) .popover-wrapper{pointer-events:auto}:host(.overlay-hidden){display:none}.popover-wrapper{z-index:10}.popover-content{display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);-webkit-box-shadow:var(--box-shadow);box-shadow:var(--box-shadow);overflow:auto;z-index:10}::slotted(.popover-viewport){--ion-safe-area-top:0px;--ion-safe-area-right:0px;--ion-safe-area-bottom:0px;--ion-safe-area-left:0px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}:host(.popover-nested.popover-side-left){--offset-x:5px}:host(.popover-nested.popover-side-right){--offset-x:-5px}:host(.popover-nested.popover-side-start){--offset-x:5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-start),:host-context([dir=rtl]).popover-nested.popover-side-start{--offset-x:-5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-start:dir(rtl)){--offset-x:-5px}}:host(.popover-nested.popover-side-end){--offset-x:-5px}:host-context([dir=rtl]):host(.popover-nested.popover-side-end),:host-context([dir=rtl]).popover-nested.popover-side-end{--offset-x:5px}@supports selector(:dir(rtl)){:host(.popover-nested.popover-side-end:dir(rtl)){--offset-x:5px}}:host{--width:250px;--max-height:90%;--box-shadow:0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);--backdrop-opacity:var(--ion-backdrop-opacity, 0.32)}.popover-content{border-radius:4px;-webkit-transform-origin:left top;transform-origin:left top}:host-context([dir=rtl]) .popover-content{-webkit-transform-origin:right top;transform-origin:right top}[dir=rtl] .popover-content{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.popover-content:dir(rtl){-webkit-transform-origin:right top;transform-origin:right top}}.popover-viewport{-webkit-transition-delay:100ms;transition-delay:100ms}.popover-wrapper{opacity:0}",O3=N3,vR=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.didPresent=pe(this,"ionPopoverDidPresent",7),this.willPresent=pe(this,"ionPopoverWillPresent",7),this.willDismiss=pe(this,"ionPopoverWillDismiss",7),this.didDismiss=pe(this,"ionPopoverDidDismiss",7),this.didPresentShorthand=pe(this,"didPresent",7),this.willPresentShorthand=pe(this,"willPresent",7),this.willDismissShorthand=pe(this,"willDismiss",7),this.didDismissShorthand=pe(this,"didDismiss",7),this.ionMount=pe(this,"ionMount",7),this.parentPopover=null,this.coreDelegate=pf(),this.lockController=Tf(),this.inline=!1,this.focusDescendantOnPresent=!1,this.onBackdropTap=()=>{this.dismiss(void 0,Nr)},this.onLifecycle=e=>{let n=this.usersElement,r=F3[e.type];if(n&&r){let i=new CustomEvent(r,{bubbles:!1,cancelable:!1,detail:e.detail});n.dispatchEvent(i)}},this.configureTriggerInteraction=()=>{let{trigger:e,triggerAction:n,el:r,destroyTriggerInteraction:i}=this;if(i&&i(),e===void 0)return;let o=this.triggerEl=e!==void 0?document.getElementById(e):null;if(!o){Ut(`[ion-popover] - A trigger element with the ID "${e}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on ion-popover.`,this.el);return}this.destroyTriggerInteraction=p3(o,n,r)},this.configureKeyboardInteraction=()=>{let{destroyKeyboardInteraction:e,el:n}=this;e&&e(),this.destroyKeyboardInteraction=y3(n)},this.configureDismissInteraction=()=>{let{destroyDismissInteraction:e,parentPopover:n,triggerAction:r,triggerEl:i,el:o}=this;!n||!i||(e&&e(),this.destroyDismissInteraction=f3(i,r,o,n))},this.presented=!1,this.hasController=!1,this.delegate=void 0,this.overlayIndex=void 0,this.enterAnimation=void 0,this.leaveAnimation=void 0,this.component=void 0,this.componentProps=void 0,this.keyboardClose=!0,this.cssClass=void 0,this.backdropDismiss=!0,this.event=void 0,this.showBackdrop=!0,this.translucent=!1,this.animated=!0,this.htmlAttributes=void 0,this.triggerAction="click",this.trigger=void 0,this.size="auto",this.dismissOnSelect=!1,this.reference="trigger",this.side="bottom",this.alignment=void 0,this.arrow=!0,this.isOpen=!1,this.keyboardEvents=!1,this.focusTrap=!0,this.keepContentsMounted=!1}onTriggerChange(){this.configureTriggerInteraction()}onIsOpenChange(e,n){e===!0&&n===!1?this.present():e===!1&&n===!0&&this.dismiss()}connectedCallback(){let{configureTriggerInteraction:e,el:n}=this;vf(n),e()}disconnectedCallback(){let{destroyTriggerInteraction:e}=this;e&&e()}componentWillLoad(){var e,n;let{el:r}=this,i=(n=(e=this.htmlAttributes)===null||e===void 0?void 0:e.id)!==null&&n!==void 0?n:yf(r);this.parentPopover=r.closest(`ion-popover:not(#${i})`),this.alignment===void 0&&(this.alignment=fe(this)==="ios"?"center":"start")}componentDidLoad(){let{parentPopover:e,isOpen:n}=this;n===!0&&or(()=>this.present()),e&&Pl(e,"ionPopoverWillDismiss",()=>{this.dismiss(void 0,void 0,!1)}),this.configureTriggerInteraction()}presentFromTrigger(e,n=!1){return _(this,null,function*(){this.focusDescendantOnPresent=n,yield this.present(e),this.focusDescendantOnPresent=!1})}getDelegate(e=!1){if(this.workingDelegate&&!e)return{delegate:this.workingDelegate,inline:this.inline};let n=this.el.parentNode,r=this.inline=n!==null&&!this.hasController,i=this.workingDelegate=r?this.delegate||this.coreDelegate:this.delegate;return{inline:r,delegate:i}}present(e){return _(this,null,function*(){let n=yield this.lockController.lock();if(this.presented){n();return}let{el:r}=this,{inline:i,delegate:o}=this.getDelegate(!0);this.ionMount.emit(),this.usersElement=yield hf(o,r,this.component,["popover-viewport"],this.componentProps,i),this.keyboardEvents||this.configureKeyboardInteraction(),this.configureDismissInteraction(),Ei(r)?yield Ol(this.usersElement):this.keepContentsMounted||(yield Nl()),yield bf(this,"popoverEnter",S3,k3,{event:e||this.event,size:this.size,trigger:this.triggerEl,reference:this.reference,side:this.side,align:this.alignment}),this.focusDescendantOnPresent&&ra(r),n()})}dismiss(e,n,r=!0){return _(this,null,function*(){let i=yield this.lockController.lock(),{destroyKeyboardInteraction:o,destroyDismissInteraction:s}=this;r&&this.parentPopover&&this.parentPopover.dismiss(e,n,r);let a=yield wf(this,e,n,"popoverLeave",A3,R3,this.event);if(a){o&&(o(),this.destroyKeyboardInteraction=void 0),s&&(s(),this.destroyDismissInteraction=void 0);let{delegate:l}=this.getDelegate();yield ff(l,this.usersElement)}return i(),a})}getParentPopover(){return _(this,null,function*(){return this.parentPopover})}onDidDismiss(){return ia(this.el,"ionPopoverDidDismiss")}onWillDismiss(){return ia(this.el,"ionPopoverWillDismiss")}render(){let e=fe(this),{onLifecycle:n,parentPopover:r,dismissOnSelect:i,side:o,arrow:s,htmlAttributes:a,focusTrap:l}=this,u=cn("desktop"),h=s&&!r;return z(Le,Object.assign({key:"ff24e8d9677711248a36994cce568e74ba151499","aria-modal":"true","no-router":!0,tabindex:"-1"},a,{style:{zIndex:`${2e4+this.overlayIndex}`},class:Object.assign(Object.assign({},df(this.cssClass)),{[e]:!0,"popover-translucent":this.translucent,"overlay-hidden":!0,"popover-desktop":u,[`popover-side-${o}`]:!0,[Io]:l===!1,"popover-nested":!!r}),onIonPopoverDidPresent:n,onIonPopoverWillPresent:n,onIonPopoverWillDismiss:n,onIonPopoverDidDismiss:n,onIonBackdropTap:this.onBackdropTap}),!r&&z("ion-backdrop",{key:"aca68b4002a08b0e563a976a867141162c20f8b4",tappable:this.backdropDismiss,visible:this.showBackdrop,part:"backdrop"}),z("div",{key:"62d21d1eab5c6d675d49932559ffb161747e5fec",class:"popover-wrapper ion-overlay-wrapper",onClick:i?()=>this.dismiss():void 0},h&&z("div",{key:"1b46cc77d5302637fc979353483bb5fd780fd1d3",class:"popover-arrow",part:"arrow"}),z("div",{key:"a5657bff26e46d1959b71eb0992e7dc8fcae86f1",class:"popover-content",part:"content"},z("slot",{key:"e1a98007226a46b51109e7004c4d338ca1bc0f9e"}))))}get el(){return this}static get watchers(){return{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}}static get style(){return{ios:P3,md:O3}}},[33,"ion-popover",{hasController:[4,"has-controller"],delegate:[16],overlayIndex:[2,"overlay-index"],enterAnimation:[16],leaveAnimation:[16],component:[1],componentProps:[16],keyboardClose:[4,"keyboard-close"],cssClass:[1,"css-class"],backdropDismiss:[4,"backdrop-dismiss"],event:[8],showBackdrop:[4,"show-backdrop"],translucent:[4],animated:[4],htmlAttributes:[16],triggerAction:[1,"trigger-action"],trigger:[1],size:[1],dismissOnSelect:[4,"dismiss-on-select"],reference:[1],side:[1],alignment:[1025],arrow:[4],isOpen:[4,"is-open"],keyboardEvents:[4,"keyboard-events"],focusTrap:[4,"focus-trap"],keepContentsMounted:[4,"keep-contents-mounted"],presented:[32],presentFromTrigger:[64],present:[64],dismiss:[64],getParentPopover:[64],onDidDismiss:[64],onWillDismiss:[64]},void 0,{trigger:["onTriggerChange"],triggerAction:["onTriggerChange"],isOpen:["onIsOpenChange"]}]),F3={ionPopoverDidPresent:"ionViewDidEnter",ionPopoverWillPresent:"ionViewWillEnter",ionPopoverWillDismiss:"ionViewWillLeave",ionPopoverDidDismiss:"ionViewDidLeave"};function yR(){if(typeof customElements>"u")return;["ion-popover","ion-backdrop"].forEach(e=>{switch(e){case"ion-popover":customElements.get(e)||customElements.define(e,vR);break;case"ion-backdrop":customElements.get(e)||oa();break}})}var IR=yR;var L3=".sc-ion-buttons-ios-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-ios-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.41em;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.65em;line-height:0.67}",V3=L3,j3=".sc-ion-buttons-md-h{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:3px;--padding-bottom:3px;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;min-height:32px}.sc-ion-buttons-md-s .button-has-icon-only{--padding-top:0;--padding-bottom:0}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:3rem;height:3rem}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}",B3=j3,bR=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.collapse=!1}render(){let e=fe(this);return z(Le,{key:"58c1fc5eb867d0731c63549b1ccb3ec3bbbe6e1b",class:{[e]:!0,"buttons-collapse":this.collapse}},z("slot",{key:"0c8f95b9840c8fa0c4e50be84c5159620a3eb5c8"}))}static get style(){return{ios:V3,md:B3}}},[38,"ion-buttons",{collapse:[4]}]);function wR(){if(typeof customElements>"u")return;["ion-buttons"].forEach(e=>{switch(e){case"ion-buttons":customElements.get(e)||customElements.define(e,bR);break}})}var _R=wR;var U3=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',$3=U3,ER=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionScrollStart=pe(this,"ionScrollStart",7),this.ionScroll=pe(this,"ionScroll",7),this.ionScrollEnd=pe(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.color=void 0,this.fullscreen=!1,this.fixedSlotPlacement="after",this.forceOverscroll=void 0,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=jr(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,Ei(this.el)){let e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),Ei(this.el)){let{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){let{forceOverscroll:e}=this,n=fe(this);return e===void 0?n==="ios"&&cn("ios"):e}resize(){ir.isBrowser&&(this.fullscreen?Vr(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,wa(this)))}readDimensions(){let e=H3(this.el),n=Math.max(this.el.offsetTop,0),r=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||r!==this.cBottom)&&(this.cTop=n,this.cBottom=r,wa(this))}onScroll(e){let n=Date.now(),r=!this.isScrolling;this.lastScroll=n,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,Vr(i=>{this.queued=!1,this.detail.event=e,q3(this.detail,this.scrollEl,i,r),this.ionScroll.emit(this.detail)}))}getScrollElement(){return _(this,null,function*(){return this.scrollEl||(yield new Promise(e=>dn(this.el,e))),Promise.resolve(this.scrollEl)})}getBackgroundElement(){return _(this,null,function*(){return this.backgroundContentEl||(yield new Promise(e=>dn(this.el,e))),Promise.resolve(this.backgroundContentEl)})}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}scrollToBottom(e=0){return _(this,null,function*(){let n=yield this.getScrollElement(),r=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,r,e)})}scrollByPoint(e,n,r){return _(this,null,function*(){let i=yield this.getScrollElement();return this.scrollToPoint(e+i.scrollLeft,n+i.scrollTop,r)})}scrollToPoint(e,n,r=0){return _(this,null,function*(){let i=yield this.getScrollElement();if(r<32){n!=null&&(i.scrollTop=n),e!=null&&(i.scrollLeft=e);return}let o,s=0,a=new Promise(m=>o=m),l=i.scrollTop,u=i.scrollLeft,h=n!=null?n-l:0,f=e!=null?e-u:0,v=m=>{let C=Math.min(1,(m-s)/r)-1,D=Math.pow(C,3)+1;h!==0&&(i.scrollTop=Math.floor(D*h+l)),f!==0&&(i.scrollLeft=Math.floor(D*f+u)),D<1?requestAnimationFrame(v):o()};return requestAnimationFrame(m=>{s=m,v(m)}),a})}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){let{fixedSlotPlacement:e,inheritedAttributes:n,isMainContent:r,scrollX:i,scrollY:o,el:s}=this,a=bw(s)?"rtl":"ltr",l=fe(this),u=this.shouldForceOverscroll(),h=l==="ios";return this.resize(),z(Le,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:r?"main":void 0,class:yi(this.color,{[l]:!0,"content-sizing":kn("ion-popover",this.el),overscroll:u,[`content-${a}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},n),z("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:f=>this.backgroundContentEl=f,id:"background-content",part:"background"}),e==="before"?z("slot",{name:"fixed"}):null,z("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":o,overscroll:(i||o)&&u},ref:f=>this.scrollEl=f,onScroll:this.scrollEvents?f=>this.onScroll(f):void 0,part:"scroll"},z("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),h?z("div",{class:"transition-effect"},z("div",{class:"transition-cover"}),z("div",{class:"transition-shadow"})):null,e==="after"?z("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return $3}},[1,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),z3=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},H3=t=>{let e=t.closest("ion-tabs");if(e)return e;let n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||z3(t)},q3=(t,e,n,r)=>{let i=t.currentX,o=t.currentY,s=t.currentTime,a=e.scrollLeft,l=e.scrollTop,u=n-s;if(r&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,u>0&&u<100){let h=(a-i)/u,f=(l-o)/u;t.velocityX=h*.7+t.velocityX*.3,t.velocityY=f*.7+t.velocityY*.3}};function CR(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,ER);break}})}var DR=CR;var G3="all 0.2s ease-in-out",TR=t=>{let e=document.querySelector(`${t}.ion-cloned-element`);if(e!==null)return e;let n=document.createElement(t);return n.classList.add("ion-cloned-element"),n.style.setProperty("display","none"),document.body.appendChild(n),n},SR=t=>{if(!t)return;let e=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(e).map(n=>{let r=n.querySelector("ion-title");return{el:n,background:n.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:r,innerTitleEl:r?r.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(n.querySelectorAll("ion-buttons"))}})}},W3=(t,e,n)=>{Vr(()=>{let r=t.scrollTop,i=Pn(1,1+-r/500,1.1);n.querySelector("ion-refresher.refresher-native")===null&&un(()=>{Q3(e.toolbars,i)})})},ob=(t,e)=>{t.collapse!=="fade"&&(e===void 0?t.style.removeProperty("--opacity-scale"):t.style.setProperty("--opacity-scale",e.toString()))},K3=(t,e,n)=>{if(!t[0].isIntersecting)return;let r=t[0].intersectionRatio>.9||n<=0?0:(1-t[0].intersectionRatio)*100/75;ob(e.el,r===1?void 0:r)},Y3=(t,e,n,r)=>{un(()=>{let i=r.scrollTop;K3(t,e,i);let o=t[0],s=o.intersectionRect,a=s.width*s.height,l=o.rootBounds.width*o.rootBounds.height,u=a===0&&l===0,h=Math.abs(s.left-o.boundingClientRect.left),f=Math.abs(s.right-o.boundingClientRect.right),v=a>0&&(h>=5||f>=5);u||v||(o.isIntersecting?(ml(e,!1),ml(n)):(s.x===0&&s.y===0||s.width!==0&&s.height!==0)&&i>0&&(ml(e),ml(n,!1),ob(e.el)))})},ml=(t,e=!0)=>{let n=t.el,i=t.toolbars.map(o=>o.ionTitleEl);e?(n.classList.remove("header-collapse-condense-inactive"),i.forEach(o=>{o&&o.removeAttribute("aria-hidden")})):(n.classList.add("header-collapse-condense-inactive"),i.forEach(o=>{o&&o.setAttribute("aria-hidden","true")}))},Q3=(t=[],e=1,n=!1)=>{t.forEach(r=>{let i=r.ionTitleEl,o=r.innerTitleEl;!i||i.size!=="large"||(o.style.transition=n?G3:"",o.style.transform=`scale3d(${e}, ${e}, 1)`)})},AR=(t,e,n)=>{Vr(()=>{let r=t.scrollTop,i=e.clientHeight,o=n?n.clientHeight:0;if(n!==null&&r<o){e.style.setProperty("--opacity-scale","0"),t.style.setProperty("clip-path",`inset(${i}px 0px 0px 0px)`);return}let s=r-o,l=Pn(0,s/10,1);un(()=>{t.style.removeProperty("clip-path"),e.style.setProperty("--opacity-scale",l.toString())})})},Z3="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:0px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{-webkit-transition:all 0.2s ease-in-out;transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}ion-header.header-ios:not(.header-collapse-main):has(~ion-content ion-header.header-ios[collapse=condense],~ion-content ion-header.header-ios.header-collapse-condense){opacity:0}",X3=Z3,J3="ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md{-webkit-box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12);box-shadow:0 2px 4px -1px rgba(0, 0, 0, 0.2), 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12)}.header-collapse-condense{display:none}.header-md.ion-no-border{-webkit-box-shadow:none;box-shadow:none}",e6=J3,xR=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.inheritedAttributes={},this.setupFadeHeader=(e,n)=>_(this,null,function*(){let r=this.scrollEl=yield cp(e);this.contentScrollCallback=()=>{AR(this.scrollEl,this.el,n)},r.addEventListener("scroll",this.contentScrollCallback),AR(this.scrollEl,this.el,n)}),this.collapse=void 0,this.translucent=!1}componentWillLoad(){this.inheritedAttributes=jr(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}checkCollapsibleHeader(){return _(this,null,function*(){if(fe(this)!=="ios")return;let{collapse:n}=this,r=n==="condense",i=n==="fade";if(this.destroyCollapsibleHeader(),r){let o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=o?Da(o):null;un(()=>{let a=TR("ion-title");a.size="large",TR("ion-back-button")}),yield this.setupCondenseHeader(s,o)}else if(i){let o=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=o?Da(o):null;if(!s){Ta(this.el);return}let a=s.querySelector('ion-header[collapse="condense"]');yield this.setupFadeHeader(s,a)}})}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0),this.collapsibleMainHeader&&(this.collapsibleMainHeader.classList.remove("header-collapse-main"),this.collapsibleMainHeader=void 0)}setupCondenseHeader(e,n){return _(this,null,function*(){if(!e||!n){Ta(this.el);return}if(typeof IntersectionObserver>"u")return;this.scrollEl=yield cp(e);let r=n.querySelectorAll("ion-header");if(this.collapsibleMainHeader=Array.from(r).find(a=>a.collapse!=="condense"),!this.collapsibleMainHeader)return;let i=SR(this.collapsibleMainHeader),o=SR(this.el);if(!i||!o)return;ml(i,!1),ob(i.el,0);let s=a=>{Y3(a,i,o,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(s,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]}),this.intersectionObserver.observe(o.toolbars[o.toolbars.length-1].el),this.contentScrollCallback=()=>{W3(this.scrollEl,o,e)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback),un(()=>{this.collapsibleMainHeader!==void 0&&this.collapsibleMainHeader.classList.add("header-collapse-main")})})}render(){let{translucent:e,inheritedAttributes:n}=this,r=fe(this),i=this.collapse||"none",o=kn("ion-menu",this.el)?"none":"banner";return z(Le,Object.assign({key:"b6cc27f0b08afc9fcc889683525da765d80ba672",role:o,class:{[r]:!0,[`header-${r}`]:!0,"header-translucent":this.translucent,[`header-collapse-${i}`]:!0,[`header-translucent-${r}`]:this.translucent}},n),r==="ios"&&e&&z("div",{key:"395766d4dcee3398bc91960db21f922095292f14",class:"header-background"}),z("slot",{key:"09a67ece27b258ff1248805d43d92a49b2c6859a"}))}get el(){return this}static get style(){return{ios:X3,md:e6}}},[36,"ion-header",{collapse:[1],translucent:[4]}]);function kR(){if(typeof customElements>"u")return;["ion-header"].forEach(e=>{switch(e){case"ion-header":customElements.get(e)||customElements.define(e,xR);break}})}var RR=kR;var t6=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",n6=t6,r6=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{-webkit-transform:translateX(-9999px);transform:translateX(-9999px);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translate3d(0,  0,  0);transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){-ms-flex:0 1 auto;flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;-webkit-box-shadow:none;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:-ms-flexbox;display:flex;-ms-flex-negative:0;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){-ms-flex-order:-1;order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){-ms-flex-order:1;order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none;transform:none;-webkit-box-shadow:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{-webkit-box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18);box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",i6=r6,o6="cubic-bezier(0.32,0.72,0,1)",s6="cubic-bezier(0.0,0.0,0.2,1)",a6="cubic-bezier(1, 0, 0.68, 0.28)",c6="cubic-bezier(0.4, 0, 0.6, 1)",l6=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionWillOpen=pe(this,"ionWillOpen",7),this.ionWillClose=pe(this,"ionWillClose",7),this.ionDidOpen=pe(this,"ionDidOpen",7),this.ionDidClose=pe(this,"ionDidClose",7),this.ionMenuChange=pe(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=vw.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{let n=yo(document);n&&!n.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,n){let r=this.contentEl;r&&(n!==void 0&&r.classList.remove(`menu-content-${n}`),r.classList.add(`menu-content-${e}`),r.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=tp(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}connectedCallback(){return _(this,null,function*(){if(typeof customElements<"u"&&customElements!=null&&(yield customElements.whenDefined("ion-menu")),this.type===void 0&&(this.type=Ze.get("menuType","overlay")),!ir.isBrowser)return;let e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){_a('[ion-menu] - Must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&_a(`[ion-menu] - The "contentId" should refer to the main view's ion-content, not the ion-content inside of the ion-menu.`),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),Rn._register(this),this.menuChanged(),this.gesture=(yield import("./chunk-6HOACLGR.js")).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:n=>this.canStart(n),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:n=>this.onMove(n),onEnd:n=>this.onEnd(n)}),this.updateState()})}componentWillLoad(){this.inheritedAttributes=jr(this.el)}componentDidLoad(){return _(this,null,function*(){this.didLoad=!0;let e=this.el.closest("ion-split-pane");e!==null&&(this.isPaneVisible=yield e.isVisible()),this.menuChanged(),this.updateState()})}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}disconnectedCallback(){return _(this,null,function*(){yield this.close(!1),this.blocker.destroy(),Rn._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0})}onSplitPaneChanged(e){let n=this.el.closest("ion-split-pane");n!==null&&n===e.target&&(this.isPaneVisible=e.detail.visible,this.updateState())}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close(void 0,Nr))}onKeydown(e){e.key==="Escape"&&this.close(void 0,Nr)}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0,n){return this.setOpen(!1,e,n)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,n=!0,r){return Rn._setOpen(this,e,n,r)}trapKeyboardFocus(e,n){let r=e.target;if(r)if(this.el.contains(r))this.lastFocus=r;else{let{el:i}=this;ra(i),this.lastFocus===n.activeElement&&mf(i)}}_setOpen(e,n=!0,r){return _(this,null,function*(){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e,r),yield this.loadAnimation(),yield this.startAnimation(e,n),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e,r),!0))})}loadAnimation(){return _(this,null,function*(){let e=this.menuInnerEl.offsetWidth,n=tp(this.side);if(e===this.width&&this.animation!==void 0&&n===this.isEndSide)return;this.width=e,this.isEndSide=n,this.animation&&(this.animation.destroy(),this.animation=void 0);let r=this.animation=yield Rn._createAnimation(this.type,this);Ze.getBoolean("animated",!0)||r.duration(0),r.fill("both")})}startAnimation(e,n){return _(this,null,function*(){let r=!e,i=fe(this),o=i==="ios"?o6:s6,s=i==="ios"?a6:c6,a=this.animation.direction(r?"reverse":"normal").easing(r?s:o);n?yield a.play():a.play({sync:!0}),a.getDirection()==="reverse"&&a.direction("normal")})}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:Rn._getOpenSync()?!1:u6(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen,Jn),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){Ca(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){Ca(!1,"isAnimating has to be true");return}let r=MR(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-r:r)}onEnd(e){if(!this.isAnimating||!this.animation){Ca(!1,"isAnimating has to be true");return}let n=this._isOpen,r=this.isEndSide,i=MR(e.deltaX,n,r),o=this.width,s=i/o,a=e.velocityX,l=o/2,u=a>=0&&(a>.2||e.deltaX>l),h=a<=0&&(a<-.2||e.deltaX<-l),f=n?r?u:h:r?h:u,v=!n&&f;n&&!f&&(v=!0),this.lastOnEnd=e.currentTime;let m=f?.001:-.001,C=s<0?.01:s;m+=ta([0,0],[.4,0],[.6,1],[1,1],Pn(0,C,.9999))[0]||0;let D=this._isOpen?!f:f;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(v,Jn),{oneTimeCallback:!0}).progressEnd(D?1:0,this._isOpen?1-m:m,300)}beforeAnimation(e,n){Ca(!this.isAnimating,"_before() should not be called while animating"),cn("android")&&this.el.setAttribute("aria-hidden","true"),this.el.classList.add(PR),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(NR),this.contentEl&&(this.contentEl.classList.add(OR),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit({role:n})}afterAnimation(e,n){var r;this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(cn("android")&&this.el.removeAttribute("aria-hidden"),this.ionDidOpen.emit(),((r=document.activeElement)===null||r===void 0?void 0:r.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.removeAttribute("aria-hidden"),this.el.classList.remove(PR),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(OR),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(NR),this.animation&&this.animation.stop(),this.ionDidClose.emit({role:n}),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){let e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1,Jn))}render(){let{type:e,disabled:n,el:r,isPaneVisible:i,inheritedAttributes:o,side:s}=this,a=fe(this);return z(Le,{key:"0a2ba4ff5600b80b54d1b5b45124779c6aa0d2f2",onKeyDown:Ll()?null:this.onKeydown,role:"navigation","aria-label":o["aria-label"]||"menu",class:{[a]:!0,[`menu-type-${e}`]:!0,"menu-enabled":!n,[`menu-side-${s}`]:!0,"menu-pane-visible":i,"split-pane-side":kn("ion-split-pane",r)}},z("div",{key:"40a222bcde4b959abc9939c44e89ea0cf8967aba",class:"menu-inner",part:"container",ref:l=>this.menuInnerEl=l},z("slot",{key:"6a7ec5583294bb314990ff4ce6f25045652c07cb"})),z("ion-backdrop",{key:"95f1e87237f3cc24845d91b744f935bad6bb460d",ref:l=>this.backdropEl=l,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return this}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return{ios:n6,md:i6}}},[33,"ion-menu",{contentId:[513,"content-id"],menuId:[513,"menu-id"],type:[1025],disabled:[1028],side:[513],swipeGesture:[4,"swipe-gesture"],maxEdgeStart:[2,"max-edge-start"],isPaneVisible:[32],isEndSide:[32],isOpen:[64],isActive:[64],open:[64],close:[64],toggle:[64],setOpen:[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}]),MR=(t,e,n)=>Math.max(0,e!==n?-t:t),u6=(t,e,n,r)=>n?e>=t.innerWidth-r:e<=r,PR="show-menu",NR="show-backdrop",OR="menu-content-open";function d6(){if(typeof customElements>"u")return;["ion-menu","ion-backdrop"].forEach(e=>{switch(e){case"ion-menu":customElements.get(e)||customElements.define(e,l6);break;case"ion-backdrop":customElements.get(e)||oa();break}})}var FR=d6;var LR=t=>_(void 0,null,function*(){let e=yield Rn.get(t);return!!(e&&(yield e.isActive()))});var h6=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--padding-start:5px;--padding-end:5px;min-height:32px;font-size:clamp(31px, 1.9375rem, 38.13px)}:host(.ion-activated){opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',f6=h6,p6=':host{--background:transparent;--color-focused:currentColor;--border-radius:initial;--padding-top:0;--padding-bottom:0;color:var(--color);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-font-kerning:none;font-kerning:none}.button-native{border-radius:var(--border-radius);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;min-height:inherit;z-index:1}ion-icon{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;pointer-events:none}:host(.menu-button-hidden){display:none}:host(.menu-button-disabled){cursor:default;opacity:0.5;pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity, 0)}}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:.04;--border-radius:50%;--color:initial;--padding-start:8px;--padding-end:8px;width:3rem;height:3rem;font-size:1.5rem}:host(.ion-color.ion-focused)::after{background:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}',m6=p6,g6=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.onClick=()=>_(this,null,function*(){return Rn.toggle(this.menu)}),this.visible=!1,this.color=void 0,this.disabled=!1,this.menu=void 0,this.autoHide=!0,this.type="button"}componentWillLoad(){this.inheritedAttributes=jr(this.el)}componentDidLoad(){this.visibilityChanged()}visibilityChanged(){return _(this,null,function*(){this.visible=yield LR(this.menu)})}render(){let{color:e,disabled:n,inheritedAttributes:r}=this,i=fe(this),o=Ze.get("menuIcon",i==="ios"?Kk:Yk),s=this.autoHide&&!this.visible,a={type:this.type},l=r["aria-label"]||"menu";return z(Le,{key:"3cde3704f28eb275f4a5ff2985bbb68c1024e79c",onClick:this.onClick,"aria-disabled":n?"true":null,"aria-hidden":s?"true":null,class:yi(e,{[i]:!0,button:!0,"menu-button-hidden":s,"menu-button-disabled":n,"in-toolbar":kn("ion-toolbar",this.el),"in-toolbar-color":kn("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0})},z("button",Object.assign({key:"a02a3374288bd1759b6e352ada8eab0d45c6422f"},a,{disabled:n,class:"button-native",part:"native","aria-label":l}),z("span",{key:"ba699f2277a4e7b27ce5e42faeefc53d8805bb43",class:"button-inner"},z("slot",{key:"829fe6cbdeb173f50d1a670389d1565baa6273e4"},z("ion-icon",{key:"a9a9f7b8dcffc648a8429fe0adbe766869de72fd",part:"icon",icon:o,mode:i,lazy:!1,"aria-hidden":"true"}))),i==="md"&&z("ion-ripple-effect",{key:"48deca9a771a249f2fc76eaa8b9741c8d66d8355",type:"unbounded"})))}get el(){return this}static get style(){return{ios:f6,md:m6}}},[33,"ion-menu-button",{color:[513],disabled:[4],menu:[1],autoHide:[4,"auto-hide"],type:[1],visible:[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]);function v6(){if(typeof customElements>"u")return;["ion-menu-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-menu-button":customElements.get(e)||customElements.define(e,g6);break;case"ion-icon":customElements.get(e)||eR();break;case"ion-ripple-effect":customElements.get(e)||tR();break}})}var VR=v6;var y6=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{top:0;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:min(1.0625rem, 20.4px);font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host{inset-inline-start:0}:host(.title-small){-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px;padding-top:6px;padding-bottom:16px;position:relative;font-size:min(0.8125rem, 23.4px);font-weight:normal}:host(.title-large){-webkit-padding-start:12px;padding-inline-start:12px;-webkit-padding-end:12px;padding-inline-end:12px;padding-top:2px;padding-bottom:4px;-webkit-transform-origin:left center;transform-origin:left center;position:static;-ms-flex-align:end;align-items:flex-end;min-width:100%;font-size:min(2.125rem, 61.2px);font-weight:700;text-align:start}:host(.title-large.title-rtl){-webkit-transform-origin:right center;transform-origin:right center}:host(.title-large.ion-cloned-element){--color:var(--ion-text-color, #000);font-family:var(--ion-font-family)}:host(.title-large) .toolbar-title{-webkit-transform-origin:inherit;transform-origin:inherit;width:auto}:host-context([dir=rtl]):host(.title-large) .toolbar-title,:host-context([dir=rtl]).title-large .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}@supports selector(:dir(rtl)){:host(.title-large:dir(rtl)) .toolbar-title{-webkit-transform-origin:calc(100% - inherit);transform-origin:calc(100% - inherit)}}",I6=y6,b6=":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host{-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px;padding-top:0;padding-bottom:0;font-size:1.25rem;font-weight:500;letter-spacing:0.0125em}:host(.title-small){width:100%;height:100%;font-size:0.9375rem;font-weight:normal}",w6=b6,jR=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.ionStyle=pe(this,"ionStyle",7),this.color=void 0,this.size=void 0}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){let e=this.getSize();this.ionStyle.emit({[`title-${e}`]:!0})}getSize(){return this.size!==void 0?this.size:"default"}render(){let e=fe(this),n=this.getSize();return z(Le,{key:"3f7b19c99961dbb86c0a925218332528b22e6880",class:yi(this.color,{[e]:!0,[`title-${n}`]:!0,"title-rtl":document.dir==="rtl"})},z("div",{key:"12054fbdd60e40a15875e442c20143766fc34fc3",class:"toolbar-title"},z("slot",{key:"9f14fb14a67d4bd1e4536a4d64a637fbe5a151c7"})))}get el(){return this}static get watchers(){return{size:["sizeChanged"]}}static get style(){return{ios:I6,md:w6}}},[33,"ion-title",{color:[513],size:[1]},void 0,{size:["sizeChanged"]}]);function BR(){if(typeof customElements>"u")return;["ion-title"].forEach(e=>{switch(e){case"ion-title":customElements.get(e)||customElements.define(e,jR);break}})}var _6=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--color:var(--ion-toolbar-color, var(--ion-text-color, #000));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment) .toolbar-content{display:-ms-inline-flexbox;display:inline-flex}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}",E6=_6,C6=":host{--border-width:0;--border-style:solid;--opacity:1;--opacity-scale:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;width:100%;padding-right:var(--ion-safe-area-right);padding-left:var(--ion-safe-area-left);color:var(--color);font-family:var(--ion-font-family, inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}.toolbar-background{left:0;right:0;top:0;bottom:0;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:calc(var(--opacity) * var(--opacity-scale));z-index:-1;pointer-events:none}::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background, var(--ion-background-color, #fff));--color:var(--ion-toolbar-color, var(--ion-text-color, #424242));--border-color:var(--ion-toolbar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, #c1c4cd))));--padding-top:0;--padding-bottom:0;--padding-start:0;--padding-end:0;--min-height:56px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:3;order:3;min-width:0;max-width:100%}::slotted(.buttons-first-slot){-webkit-margin-start:4px;margin-inline-start:4px}::slotted(.buttons-last-slot){-webkit-margin-end:4px;margin-inline-end:4px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:4;order:4}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}",D6=C6,UR=Ve(class extends Fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.childrenStyles=new Map,this.color=void 0}componentWillLoad(){let e=Array.from(this.el.querySelectorAll("ion-buttons")),n=e.find(o=>o.slot==="start");n&&n.classList.add("buttons-first-slot");let r=e.reverse(),i=r.find(o=>o.slot==="end")||r.find(o=>o.slot==="primary")||r.find(o=>o.slot==="secondary");i&&i.classList.add("buttons-last-slot")}childrenStyle(e){e.stopPropagation();let n=e.target.tagName,r=e.detail,i={},o=this.childrenStyles.get(n)||{},s=!1;Object.keys(r).forEach(a=>{let l=`toolbar-${a}`,u=r[a];u!==o[l]&&(s=!0),u&&(i[l]=!0)}),s&&(this.childrenStyles.set(n,i),wa(this))}render(){let e=fe(this),n={};return this.childrenStyles.forEach(r=>{Object.assign(n,r)}),z(Le,{key:"402afe7ce0c97883cedd0e48a5a0492a9bfe76ae",class:Object.assign(Object.assign({},n),yi(this.color,{[e]:!0,"in-toolbar":kn("ion-toolbar",this.el)}))},z("div",{key:"2465a6dc8d507ec650538378d1be2abd399c58ad",class:"toolbar-background",part:"background"}),z("div",{key:"6075096afd12303b961e4fe9ad345ef2887573af",class:"toolbar-container",part:"container"},z("slot",{key:"8b7eec1148cfeb339d87cdf9273f2104703e7601",name:"start"}),z("slot",{key:"b102d3926cade24faf78b7af78ad5e192c4c0308",name:"secondary"}),z("div",{key:"c6ab2e978328324c6f9e7892024cbcd8b8987067",class:"toolbar-content",part:"content"},z("slot",{key:"86f8952c4355a9df5b4bbb95e9d0cafefd272d5b"})),z("slot",{key:"501e43431da6b9dd35b47b79222f948d445f7a78",name:"primary"}),z("slot",{key:"84bf1a15a5e52e8e94df9f479c4ce18004f5ab57",name:"end"})))}get el(){return this}static get style(){return{ios:E6,md:D6}}},[33,"ion-toolbar",{color:[513]},[[0,"ionStyle","childrenStyle"]]]);function $R(){if(typeof customElements>"u")return;["ion-toolbar"].forEach(e=>{switch(e){case"ion-toolbar":customElements.get(e)||customElements.define(e,UR);break}})}var zR=BR;var HR=$R;var wo=["*"];var T6=(t,e)=>{let n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)},configurable:!0})})},S6=(t,e)=>{let n=t.prototype;e.forEach(r=>{n[r]=function(){let i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},qR=(t,e,n)=>{n.forEach(r=>t[r]=zo(e,r))};function _o(t){return function(n){let{defineCustomElementFn:r,inputs:i,methods:o}=t;return r!==void 0&&r(),i&&T6(n,i),o&&S6(n,o),n}}var ase=(()=>{var e;let t=(e=class{z;el;constructor(r,i,o){this.z=o,r.detach(),this.el=i.nativeElement}},k(e,"\u0275fac",function(i){return new(i||e)(Re(Mt),Re(ut),Re(oe))}),k(e,"\u0275cmp",jn({type:e,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:wo,decls:1,vars:0,template:function(i,o){i&1&&(Jr(),ei(0))},encapsulation:2,changeDetection:0})),e);return t=Ur([_o({defineCustomElementFn:_R,inputs:["collapse"]})],t),t})();var cse=(()=>{var e;let t=(e=class{z;el;constructor(r,i,o){this.z=o,r.detach(),this.el=i.nativeElement,qR(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},k(e,"\u0275fac",function(i){return new(i||e)(Re(Mt),Re(ut),Re(oe))}),k(e,"\u0275cmp",jn({type:e,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:wo,decls:1,vars:0,template:function(i,o){i&1&&(Jr(),ei(0))},encapsulation:2,changeDetection:0})),e);return t=Ur([_o({defineCustomElementFn:DR,inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})();var lse=(()=>{var e;let t=(e=class{z;el;constructor(r,i,o){this.z=o,r.detach(),this.el=i.nativeElement}},k(e,"\u0275fac",function(i){return new(i||e)(Re(Mt),Re(ut),Re(oe))}),k(e,"\u0275cmp",jn({type:e,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:wo,decls:1,vars:0,template:function(i,o){i&1&&(Jr(),ei(0))},encapsulation:2,changeDetection:0})),e);return t=Ur([_o({defineCustomElementFn:RR,inputs:["collapse","mode","translucent"]})],t),t})();var use=(()=>{var e;let t=(e=class{z;el;constructor(r,i,o){this.z=o,r.detach(),this.el=i.nativeElement,qR(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}},k(e,"\u0275fac",function(i){return new(i||e)(Re(Mt),Re(ut),Re(oe))}),k(e,"\u0275cmp",jn({type:e,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:wo,decls:1,vars:0,template:function(i,o){i&1&&(Jr(),ei(0))},encapsulation:2,changeDetection:0})),e);return t=Ur([_o({defineCustomElementFn:FR,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],t),t})(),dse=(()=>{var e;let t=(e=class{z;el;constructor(r,i,o){this.z=o,r.detach(),this.el=i.nativeElement}},k(e,"\u0275fac",function(i){return new(i||e)(Re(Mt),Re(ut),Re(oe))}),k(e,"\u0275cmp",jn({type:e,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:wo,decls:1,vars:0,template:function(i,o){i&1&&(Jr(),ei(0))},encapsulation:2,changeDetection:0})),e);return t=Ur([_o({defineCustomElementFn:VR,inputs:["autoHide","color","disabled","menu","mode","type"]})],t),t})();var hse=(()=>{var e;let t=(e=class{z;el;constructor(r,i,o){this.z=o,r.detach(),this.el=i.nativeElement}},k(e,"\u0275fac",function(i){return new(i||e)(Re(Mt),Re(ut),Re(oe))}),k(e,"\u0275cmp",jn({type:e,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:wo,decls:1,vars:0,template:function(i,o){i&1&&(Jr(),ei(0))},encapsulation:2,changeDetection:0})),e);return t=Ur([_o({defineCustomElementFn:zR,inputs:["color","size"]})],t),t})();var fse=(()=>{var e;let t=(e=class{z;el;constructor(r,i,o){this.z=o,r.detach(),this.el=i.nativeElement}},k(e,"\u0275fac",function(i){return new(i||e)(Re(Mt),Re(ut),Re(oe))}),k(e,"\u0275cmp",jn({type:e,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:wo,decls:1,vars:0,template:function(i,o){i&1&&(Jr(),ei(0))},encapsulation:2,changeDetection:0})),e);return t=Ur([_o({defineCustomElementFn:HR,inputs:["color","mode"]})],t),t})();var A6=(()=>{let e=class e extends fl{angularDelegate=P(Ef);injector=P(ke);environmentInjector=P(Ge);constructor(){super(KI),dR()}create(r){return super.create(ye(j({},r),{delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")}))}};k(e,"\u0275fac",function(i){return new(i||e)}),k(e,"\u0275prov",q({token:e,factory:e.\u0275fac}));let t=e;return t})(),sb=class extends fl{angularDelegate=P(Ef);injector=P(ke);environmentInjector=P(Ge);constructor(){super(YI),IR()}create(e){return super.create(ye(j({},e),{delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")}))}},pse=(t={})=>yn([{provide:_f,useValue:t},{provide:Ju,useFactory:x6,multi:!0,deps:[_f,rt]},Wk(),Ef,A6,sb]),x6=(t,e)=>()=>{e.documentElement.classList.add("ion-ce"),qI(t)};export{q as a,J as b,P as c,YE as d,jn as e,vg as f,yg as g,Ig as h,nD as i,bg as j,wg as k,l7 as l,oD as m,dK as n,hK as o,Zg as p,ZY as q,Lc as r,hJ as s,fJ as t,pJ as u,mJ as v,gJ as w,vJ as x,yJ as y,IJ as z,bJ as A,wJ as B,_J as C,$c as D,XJ as E,JJ as F,eee as G,tee as H,nee as I,U$ as J,MI as K,mk as L,EH as M,DH as N,Tk as O,TH as P,Ute as Q,ZI as R,ase as S,cse as T,lse as U,use as V,dse as W,hse as X,fse as Y,pse as Z};
