import{a as Dr,b as rp,c as ip,d as op,e as sp,f as ap}from"./chunk-CESVDTFF.js";import{h as Sw,i as Aw}from"./chunk-NH7O73XC.js";import{a as Fw,d as Lw,e as Vw}from"./chunk-LYYJ2XOB.js";import{a as mn,e as kw,f as xw,g as Ow,j as np}from"./chunk-4RGYXDAY.js";import{a as cp}from"./chunk-JWIEPCRG.js";import{a as xt,b as Rw,c as Mw,d as Nw,e as ri,f as Pw}from"./chunk-C5RQ2IC2.js";import{b as Ht}from"./chunk-SV7S5NYR.js";import{a as F,b as ee,d as Cw,e as w,f as C}from"./chunk-RW4GY4BD.js";function fp(t,e){return Object.is(t,e)}var Ue=null,bu=!1,pp=1,qt=Symbol("SIGNAL");function pe(t){let e=Ue;return Ue=t,e}function gp(){return Ue}var ma={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ya(t){if(bu)throw new Error("");if(Ue===null)return;Ue.consumerOnSignalRead(t);let e=Ue.nextProducerIndex++;if(Au(Ue),e<Ue.producerNode.length&&Ue.producerNode[e]!==t&&ga(Ue)){let n=Ue.producerNode[e];Su(n,Ue.producerIndexOfThis[e])}Ue.producerNode[e]!==t&&(Ue.producerNode[e]=t,Ue.producerIndexOfThis[e]=ga(Ue)?Uw(t,Ue,e):0),Ue.producerLastReadVersion[e]=t.version}function jw(){pp++}function mp(t){if(!(ga(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===pp)){if(!t.producerMustRecompute(t)&&!Ep(t)){hp(t);return}t.producerRecomputeValue(t),hp(t)}}function yp(t){if(t.liveConsumerNode===void 0)return;let e=bu;bu=!0;try{for(let n of t.liveConsumerNode)n.dirty||kP(n)}finally{bu=e}}function vp(){return(Ue==null?void 0:Ue.consumerAllowSignalWrites)!==!1}function kP(t){var e;t.dirty=!0,yp(t),(e=t.consumerMarkedDirty)==null||e.call(t,t)}function hp(t){t.dirty=!1,t.lastCleanEpoch=pp}function Cu(t){return t&&(t.nextProducerIndex=0),pe(t)}function _p(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ga(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Su(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ep(t){Au(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(mp(n),r!==n.version))return!0}return!1}function Ip(t){if(Au(t),ga(t))for(let e=0;e<t.producerNode.length;e++)Su(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Uw(t,e,n){if(Bw(t),t.liveConsumerNode.length===0&&$w(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Uw(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Su(t,e){if(Bw(t),t.liveConsumerNode.length===1&&$w(t))for(let r=0;r<t.producerNode.length;r++)Su(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Au(i),i.producerIndexOfThis[r]=e}}function ga(t){var e,n;return t.consumerIsAlwaysLive||((n=(e=t==null?void 0:t.liveConsumerNode)==null?void 0:e.length)!=null?n:0)>0}function Au(t){var e,n,r;(e=t.producerNode)!=null||(t.producerNode=[]),(n=t.producerIndexOfThis)!=null||(t.producerIndexOfThis=[]),(r=t.producerLastReadVersion)!=null||(t.producerLastReadVersion=[])}function Bw(t){var e,n;(e=t.liveConsumerNode)!=null||(t.liveConsumerNode=[]),(n=t.liveConsumerIndexOfThis)!=null||(t.liveConsumerIndexOfThis=[])}function $w(t){return t.producerNode!==void 0}function wp(t,e){let n=Object.create(xP);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(mp(n),ya(n),n.value===Tu)throw n.error;return n.value};return r[qt]=n,r}var up=Symbol("UNSET"),lp=Symbol("COMPUTING"),Tu=Symbol("ERRORED"),xP=ee(F({},ma),{value:up,dirty:!0,error:null,equal:fp,kind:"computed",producerMustRecompute(t){return t.value===up||t.value===lp},producerRecomputeValue(t){if(t.value===lp)throw new Error("Detected cycle in computations.");let e=t.value;t.value=lp;let n=Cu(t),r,i=!1;try{r=t.computation(),pe(null),i=e!==up&&e!==Tu&&r!==Tu&&t.equal(e,r)}catch(o){r=Tu,t.error=o}finally{_p(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function OP(){throw new Error}var Hw=OP;function qw(t){Hw(t)}function Dp(t){Hw=t}var dp=null;function bp(t,e){let n=Object.create(Ru);n.value=t,e!==void 0&&(n.equal=e);let r=()=>(ya(n),n.value);return r[qt]=n,r}function va(t,e){vp()||qw(t),t.equal(t.value,e)||(t.value=e,FP(t))}function Tp(t,e){vp()||qw(t),va(t,e(t.value))}var Ru=ee(F({},ma),{equal:fp,value:void 0,kind:"signal"});function FP(t){t.version++,jw(),yp(t),dp==null||dp()}function Cp(t){let e=pe(null);try{return t()}finally{pe(e)}}var Sp;function _a(){return Sp}function Wn(t){let e=Sp;return Sp=t,e}var Mu=Symbol("NotFound");function Q(t){return typeof t=="function"}function po(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Nu=po(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ii(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){e=o instanceof Nu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{zw(o)}catch(s){e=e!=null?e:[],s instanceof Nu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Nu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)zw(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ii(n,e)}remove(e){let{_finalizers:n}=this;n&&ii(n,e),e instanceof t&&e._removeParent(this)}};Le.EMPTY=(()=>{let t=new Le;return t.closed=!0,t})();var Ap=Le.EMPTY;function Pu(t){return t instanceof Le||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function zw(t){Q(t)?t():t.unsubscribe()}var tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var go={setTimeout(t,e,...n){let{delegate:r}=go;return r!=null&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=go;return((e==null?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function ku(t){go.setTimeout(()=>{let{onUnhandledError:e}=tn;if(e)e(t);else throw t})}function Ea(){}var Gw=Rp("C",void 0,void 0);function Ww(t){return Rp("E",void 0,t)}function Kw(t){return Rp("N",t,void 0)}function Rp(t,e,n){return{kind:t,value:e,error:n}}var oi=null;function mo(t){if(tn.useDeprecatedSynchronousErrorHandling){let e=!oi;if(e&&(oi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=oi;if(oi=null,n)throw r}}else t()}function Qw(t){tn.useDeprecatedSynchronousErrorHandling&&oi&&(oi.errorThrown=!0,oi.error=t)}var si=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pu(e)&&e.add(this)):this.destination=$P}static create(e,n,r){return new yo(e,n,r)}next(e){this.isStopped?Np(Kw(e),this):this._next(e)}error(e){this.isStopped?Np(Ww(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Np(Gw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},UP=Function.prototype.bind;function Mp(t,e){return UP.call(t,e)}var Pp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){xu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){xu(r)}else xu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){xu(n)}}},yo=class extends si{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e!=null?e:void 0,error:n!=null?n:void 0,complete:r!=null?r:void 0};else{let o;this&&tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mp(e.next,o),error:e.error&&Mp(e.error,o),complete:e.complete&&Mp(e.complete,o)}):i=e}this.destination=new Pp(i)}};function xu(t){tn.useDeprecatedSynchronousErrorHandling?Qw(t):ku(t)}function BP(t){throw t}function Np(t,e){let{onStoppedNotification:n}=tn;n&&go.setTimeout(()=>n(t,e))}var $P={closed:!0,next:Ea,error:BP,complete:Ea};var vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function yt(t){return t}function Ou(...t){return kp(t)}function kp(t){return t.length===0?yt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var re=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=qP(n)?n:new yo(n,r,i);return mo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Yw(r),new r((i,o)=>{let s=new yo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[vo](){return this}pipe(...n){return kp(n)(this)}toPromise(n){return n=Yw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Yw(t){var e;return(e=t!=null?t:tn.Promise)!==null&&e!==void 0?e:Promise}function HP(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function qP(t){return t&&t instanceof si||HP(t)&&Pu(t)}function xp(t){return Q(t==null?void 0:t.lift)}function ge(t){return e=>{if(xp(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(t,e,n,r,i){return new Op(t,e,n,r,i)}var Op=class extends si{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function _o(){return ge((t,e)=>{let n=null;t._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Eo=class extends re{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e==null||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let n=this.getSubject();e.add(this.source.subscribe(ue(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return _o()(this)}};var Zw=po(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=(()=>{class t extends re{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Fu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Zw}next(n){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){mo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ap:(this.currentObservers=null,o.push(n),new Le(()=>{this.currentObservers=null,ii(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new re;return n.source=this,n}}return t.create=(e,n)=>new Fu(e,n),t})(),Fu=class extends be{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ap}};var He=class extends be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fp={now(){return(Fp.delegate||Date).now()},delegate:void 0};var Lu=class extends Le{constructor(e,n){super()}schedule(e,n=0){return this}};var Ia={setInterval(t,e,...n){let{delegate:r}=Ia;return r!=null&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ia;return((e==null?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};var Io=class extends Lu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Ia.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ia.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,ii(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var wo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};wo.now=Fp.now;var Do=class extends wo{constructor(e,n=wo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Lp=new Do(Io);var Vu=class extends Io{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ju=class extends Do{};var Vp=new ju(Vu);var Tt=new re(t=>t.complete());function Jw(t){return t&&Q(t.schedule)}function Xw(t){return t[t.length-1]}function Uu(t){return Q(Xw(t))?t.pop():void 0}function br(t){return Jw(Xw(t))?t.pop():void 0}function jp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wa(t,e,n,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(i<3?s(o):i>3?s(e,n,o):s(e,n))||o);return i>3&&o&&Object.defineProperty(e,n,o),o}function tD(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function eD(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ai(t){return this instanceof ai?(this.v=t,this):new ai(t)}function nD(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(D){return Promise.resolve(D).then(m,p)}}function a(m,D){r[m]&&(i[m]=function(S){return new Promise(function(M,O){o.push([m,S,M,O])>1||u(m,S)})},D&&(i[m]=D(i[m])))}function u(m,D){try{l(r[m](D))}catch(S){y(o[0][3],S)}}function l(m){m.value instanceof ai?Promise.resolve(m.value.v).then(h,p):y(o[0][2],m)}function h(m){u("next",m)}function p(m){u("throw",m)}function y(m,D){m(D),o.shift(),o.length&&u(o[0][0],o[0][1])}}function rD(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof eD=="function"?eD(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var bo=t=>t&&typeof t.length=="number"&&typeof t!="function";function Bu(t){return Q(t==null?void 0:t.then)}function $u(t){return Q(t[vo])}function Hu(t){return Symbol.asyncIterator&&Q(t==null?void 0:t[Symbol.asyncIterator])}function qu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var zu=zP();function Gu(t){return Q(t==null?void 0:t[zu])}function Wu(t){return nD(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ai(n.read());if(i)return yield ai(void 0);yield yield ai(r)}}finally{n.releaseLock()}})}function Ku(t){return Q(t==null?void 0:t.getReader)}function Ve(t){if(t instanceof re)return t;if(t!=null){if($u(t))return GP(t);if(bo(t))return WP(t);if(Bu(t))return KP(t);if(Hu(t))return iD(t);if(Gu(t))return QP(t);if(Ku(t))return YP(t)}throw qu(t)}function GP(t){return new re(e=>{let n=t[vo]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WP(t){return new re(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function KP(t){return new re(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ku)})}function QP(t){return new re(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function iD(t){return new re(e=>{ZP(t,e).catch(n=>e.error(n))})}function YP(t){return iD(Wu(t))}function ZP(t,e){var n,r,i,o;return tD(this,void 0,void 0,function*(){try{for(n=rD(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ct(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Tr(t,e=0){return ge((n,r)=>{n.subscribe(ue(r,i=>Ct(r,t,()=>r.next(i),e),()=>Ct(r,t,()=>r.complete(),e),i=>Ct(r,t,()=>r.error(i),e)))})}function Cr(t,e=0){return ge((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function oD(t,e){return Ve(t).pipe(Cr(e),Tr(e))}function sD(t,e){return Ve(t).pipe(Cr(e),Tr(e))}function aD(t,e){return new re(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function cD(t,e){return new re(n=>{let r;return Ct(n,e,()=>{r=t[zu](),Ct(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Q(r==null?void 0:r.return)&&r.return()})}function Qu(t,e){if(!t)throw new Error("Iterable cannot be null");return new re(n=>{Ct(n,e,()=>{let r=t[Symbol.asyncIterator]();Ct(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function uD(t,e){return Qu(Wu(t),e)}function lD(t,e){if(t!=null){if($u(t))return oD(t,e);if(bo(t))return aD(t,e);if(Bu(t))return sD(t,e);if(Hu(t))return Qu(t,e);if(Gu(t))return cD(t,e);if(Ku(t))return uD(t,e)}throw qu(t)}function Re(t,e){return e?lD(t,e):Ve(t)}function W(...t){let e=br(t);return Re(t,e)}function To(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new re(e?i=>e.schedule(r,0,i):r)}function Up(t){return!!t&&(t instanceof re||Q(t.lift)&&Q(t.subscribe))}var Kn=po(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return ge((n,r)=>{let i=0;n.subscribe(ue(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:JP}=Array;function XP(t,e){return JP(e)?t(...e):t(e)}function Co(t){return oe(e=>XP(t,e))}var{isArray:ek}=Array,{getPrototypeOf:tk,prototype:nk,keys:rk}=Object;function Yu(t){if(t.length===1){let e=t[0];if(ek(e))return{args:e,keys:null};if(ik(e)){let n=rk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function ik(t){return t&&typeof t=="object"&&tk(t)===nk}function Zu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ci(...t){let e=br(t),n=Uu(t),{args:r,keys:i}=Yu(t);if(r.length===0)return Re([],e);let o=new re(ok(r,e,i?s=>Zu(i,s):yt));return n?o.pipe(Co(n)):o}function ok(t,e,n=yt){return r=>{dD(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)dD(e,()=>{let l=Re(t[u],e),h=!1;l.subscribe(ue(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function dD(t,e,n){t?Ct(n,t,e):e()}function hD(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,y=()=>{p&&!u.length&&!l&&e.complete()},m=S=>l<r?D(S):u.push(S),D=S=>{o&&e.next(S),l++;let M=!1;Ve(n(S,h++)).subscribe(ue(e,O=>{i==null||i(O),o?m(O):e.next(O)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let O=u.shift();s?Ct(e,s,()=>D(O)):D(O)}y()}catch(O){e.error(O)}}))};return t.subscribe(ue(e,m,()=>{p=!0,y()})),()=>{a==null||a()}}function Pe(t,e,n=1/0){return Q(e)?Pe((r,i)=>oe((o,s)=>e(r,o,i,s))(Ve(t(r,i))),n):(typeof e=="number"&&(n=e),ge((r,i)=>hD(r,i,t,n)))}function Sr(t=1/0){return Pe(yt,t)}function fD(){return Sr(1)}function So(...t){return fD()(Re(t,br(t)))}function Ju(t){return new re(e=>{Ve(t()).subscribe(e)})}function Bp(...t){let e=Uu(t),{args:n,keys:r}=Yu(t),i=new re(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ve(n[h]).subscribe(ue(o,y=>{p||(p=!0,l--),a[h]=y},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Zu(r,a):a),o.complete())}))}});return e?i.pipe(Co(e)):i}var sk=["addListener","removeListener"],ak=["addEventListener","removeEventListener"],ck=["on","off"];function Da(t,e,n,r){if(Q(n)&&(r=n,n=void 0),r)return Da(t,e,n).pipe(Co(r));let[i,o]=dk(t)?ak.map(s=>a=>t[s](e,a,n)):uk(t)?sk.map(pD(t,e)):lk(t)?ck.map(pD(t,e)):[];if(!i&&bo(t))return Pe(s=>Da(s,e,n))(Ve(t));if(!i)throw new TypeError("Invalid event target");return new re(s=>{let a=(...u)=>s.next(1<u.length?u:u[0]);return i(a),()=>o(a)})}function pD(t,e){return n=>r=>t[n](e,r)}function uk(t){return Q(t.addListener)&&Q(t.removeListener)}function lk(t){return Q(t.on)&&Q(t.off)}function dk(t){return Q(t.addEventListener)&&Q(t.removeEventListener)}function tt(t,e){return ge((n,r)=>{let i=0;n.subscribe(ue(r,o=>t.call(e,o,i++)&&r.next(o)))})}function yn(t){return ge((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ue(n,void 0,void 0,s=>{o=Ve(t(s,yn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function gD(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ue(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ar(t,e){return Q(e)?Pe(t,e,1):Pe(t,1)}function Rr(t){return ge((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Qn(t){return t<=0?()=>Tt:ge((e,n)=>{let r=0;e.subscribe(ue(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Xu(t,e=yt){return t=t!=null?t:hk,ge((n,r)=>{let i,o=!0;n.subscribe(ue(r,s=>{let a=e(s);(o||!t(i,a))&&(o=!1,i=a,r.next(s))}))})}function hk(t,e){return t===e}function el(t=fk){return ge((e,n)=>{let r=!1;e.subscribe(ue(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fk(){return new Kn}function ba(t){return ge((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Yn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tt((i,o)=>t(i,o,r)):yt,Qn(1),n?Rr(e):el(()=>new Kn))}function Ao(t){return t<=0?()=>Tt:ge((e,n)=>{let r=[];e.subscribe(ue(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $p(t,e){let n=arguments.length>=2;return r=>r.pipe(t?tt((i,o)=>t(i,o,r)):yt,Ao(1),n?Rr(e):el(()=>new Kn))}function tl(t,e){return ge(gD(t,e,arguments.length>=2,!0))}function nl(...t){let e=br(t);return ge((n,r)=>{(e?So(t,n,e):So(t,n)).subscribe(r)})}function ut(t,e){return ge((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ue(r,u=>{i==null||i.unsubscribe();let l=0,h=o++;Ve(t(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Hp(t){return ge((e,n)=>{Ve(t).subscribe(ue(n,()=>n.complete(),Ea)),!n.closed&&e.subscribe(n)})}function nt(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?ge((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ue(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):yt}var nb="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",q=class extends Error{code;constructor(e,n){super(rb(e,n)),this.code=e}};function pk(t){return`NG0${Math.abs(t)}`}function rb(t,e){return`${pk(t)}${e?": "+e:""}`}var ib=Symbol("InputSignalNode#UNSET"),gk=ee(F({},Ru),{transformFn:void 0,applyValueToInputSignal(t,e){va(t,e)}});function ob(t,e){let n=Object.create(gk);n.value=t,n.transformFn=e==null?void 0:e.transform;function r(){if(ya(n),n.value===ib){let o=null;throw new q(-950,o)}return n.value}return r[qt]=n,r}function La(t){return{toString:t}.toString()}var rl="__parameters__";function mk(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function sb(t,e,n){return La(()=>{let r=mk(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(rl)?u[rl]:Object.defineProperty(u,rl,{value:[]})[rl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var di=globalThis;function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function yk(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function At(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(At).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function mD(t,e){return t?e?`${t} ${e}`:t:e||""}var vk=Ae({__forward_ref__:Ae});function tr(t){return t.__forward_ref__=tr,t.toString=function(){return At(this())},t}function vt(t){return ab(t)?t():t}function ab(t){return typeof t=="function"&&t.hasOwnProperty(vk)&&t.__forward_ref__===tr}function B(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Tn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ol(t){return yD(t,ub)||yD(t,lb)}function cb(t){return Ol(t)!==null}function yD(t,e){return t.hasOwnProperty(e)?t[e]:null}function _k(t){let e=t&&(t[ub]||t[lb]);return e||null}function vD(t){return t&&(t.hasOwnProperty(_D)||t.hasOwnProperty(Ek))?t[_D]:null}var ub=Ae({\u0275prov:Ae}),_D=Ae({\u0275inj:Ae}),lb=Ae({ngInjectableDef:Ae}),Ek=Ae({ngInjectorDef:Ae}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=B({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function db(t){return t&&!!t.\u0275providers}var Ik=Ae({\u0275cmp:Ae}),wk=Ae({\u0275dir:Ae}),Dk=Ae({\u0275pipe:Ae}),bk=Ae({\u0275mod:Ae}),hl=Ae({\u0275fac:Ae}),Aa=Ae({__NG_ELEMENT_ID__:Ae}),ED=Ae({__NG_ENV_ID__:Ae});function Zn(t){return typeof t=="string"?t:t==null?"":String(t)}function Tk(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Zn(t)}function hb(t,e){throw new q(-200,t)}function em(t,e){throw new q(-201,!1)}var se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(se||{}),ig;function fb(){return ig}function St(t){let e=ig;return ig=t,e}function pb(t,e,n){let r=Ol(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&se.Optional)return null;if(e!==void 0)return e;em(t,"Injector")}var Ck={},hi=Ck,og="__NG_DI_FLAG__",fl=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=n;return this.injector.get(e,r.optional?Mu:hi,r)}},pl="ngTempTokenPath",Sk="ngTokenPath",Ak=/\n/gm,Rk="\u0275",ID="__source";function Mk(t,e=se.Default){if(_a()===void 0)throw new q(-203,!1);if(_a()===null)return pb(t,void 0,e);{let n=_a(),r;return n instanceof fl?r=n.injector:r=n,r.get(t,e&se.Optional?null:void 0,e)}}function z(t,e=se.Default){return(fb()||Mk)(vt(t),e)}function P(t,e=se.Default){return z(t,Fl(e))}function Fl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function sg(t){let e=[];for(let n=0;n<t.length;n++){let r=vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new q(900,!1);let i,o=se.Default;for(let s=0;s<r.length;s++){let a=r[s],u=Nk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(z(i,o))}else e.push(z(r))}return e}function gb(t,e){return t[og]=e,t.prototype[og]=e,t}function Nk(t){return t[og]}function Pk(t,e,n,r){let i=t[pl];throw e[ID]&&i.unshift(e[ID]),t.message=kk(`
`+t.message,i,n,r),t[Sk]=i,t[pl]=null,t}function kk(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==Rk?t.slice(2):t;let i=At(e);if(Array.isArray(e))i=e.map(At).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):At(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Ak,`
  `)}`}var nr=gb(sb("Optional"),8);var xk=gb(sb("SkipSelf"),4);function pi(t,e){let n=t.hasOwnProperty(hl);return n?t[hl]:null}function Ok(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Fk(t){return t.flat(Number.POSITIVE_INFINITY)}function tm(t,e){t.forEach(n=>Array.isArray(n)?tm(n,e):e(n))}function mb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Lk(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function Vk(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function jk(t,e,n){let r=Va(t,e);return r>=0?t[r|1]=n:(r=~r,Vk(t,r,e,n)),r}function qp(t,e){let n=Va(t,e);if(n>=0)return t[n|1]}function Va(t,e){return Uk(t,e,1)}function Uk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var gi={},zt=[],Ma=new $(""),yb=new $("",-1),vb=new $(""),ml=class{get(e,n=hi){if(n===hi){let r=new Error(`NullInjectorError: No provider for ${At(e)}!`);throw r.name="NullInjectorError",r}return n}};function _b(t,e){let n=t[bk]||null;if(!n&&e===!0)throw new Error(`Type ${At(t)} does not have '\u0275mod' property.`);return n}function kr(t){return t[Ik]||null}function Bk(t){return t[wk]||null}function $k(t){return t[Dk]||null}function Ci(t){return{\u0275providers:t}}function Hk(...t){return{\u0275providers:Eb(!0,t),\u0275fromNgModule:!0}}function Eb(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return tm(e,s=>{let a=s;ag(a,o,[],r)&&(i||(i=[]),i.push(a))}),i!==void 0&&Ib(i,o),n}function Ib(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];nm(i,o=>{e(o,r)})}}function ag(t,e,n,r){if(t=vt(t),!t)return!1;let i=null,o=vD(t),s=!o&&kr(t);if(!o&&!s){let u=t.ngModule;if(o=vD(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)ag(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{tm(o.imports,h=>{ag(h,e,n,r)&&(l||(l=[]),l.push(h))})}finally{}l!==void 0&&Ib(l,e)}if(!a){let l=pi(i)||(()=>new i);e({provide:i,useFactory:l,deps:zt},i),e({provide:vb,useValue:i,multi:!0},i),e({provide:Ma,useValue:()=>z(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;nm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function nm(t,e){for(let n of t)db(n)&&(n=n.\u0275providers),Array.isArray(n)?nm(n,e):e(n)}var qk=Ae({provide:String,useValue:Ae});function wb(t){return t!==null&&typeof t=="object"&&qk in t}function zk(t){return!!(t&&t.useExisting)}function Gk(t){return!!(t&&t.useFactory)}function Oo(t){return typeof t=="function"}function Wk(t){return!!t.useClass}var Ll=new $(""),sl={},wD={},zp;function Vl(){return zp===void 0&&(zp=new ml),zp}var qe=class{},Na=class extends qe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,ug(e,s=>this.processProvider(s)),this.records.set(yb,Ro(void 0,this)),i.has("environment")&&this.records.set(qe,Ro(void 0,this));let o=this.records.get(Ll);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vb,zt,se.Self))}retrieve(e,n){let r=n;return this.get(e,r.optional?Mu:hi,r)}destroy(){Ca(this),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return Ca(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ca(this);let n=Wn(this),r=St(void 0),i;try{return e()}finally{Wn(n),St(r)}}get(e,n=hi,r=se.Default){if(Ca(this),e.hasOwnProperty(ED))return e[ED](this);r=Fl(r);let i,o=Wn(this),s=St(void 0);try{if(!(r&se.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=Jk(e)&&Ol(e);l&&this.injectableDefInScope(l)?u=Ro(cg(e),sl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&se.Self?Vl():this.parent;return n=r&se.Optional&&n===hi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[pl]=a[pl]||[]).unshift(At(e)),o)throw a;return Pk(a,e,"R3InjectorError",this.source)}else throw a}finally{St(s),Wn(o)}}resolveInjectorInitializers(){let e=pe(null),n=Wn(this),r=St(void 0),i;try{let o=this.get(Ma,zt,se.Self);for(let s of o)s()}finally{Wn(n),St(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(At(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=vt(e);let n=Oo(e)?e:vt(e&&e.provide),r=Qk(e);if(!Oo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ro(void 0,sl,!0),i.factory=()=>sg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===wD?hb(At(e)):n.value===sl&&(n.value=wD,n.value=n.factory()),typeof n.value=="object"&&n.value&&Zk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function cg(t){let e=Ol(t),n=e!==null?e.factory:pi(t);if(n!==null)return n;if(t instanceof $)throw new q(204,!1);if(t instanceof Function)return Kk(t);throw new q(204,!1)}function Kk(t){if(t.length>0)throw new q(204,!1);let n=_k(t);return n!==null?()=>n.factory(t):()=>new t}function Qk(t){if(wb(t))return Ro(void 0,t.useValue);{let e=Db(t);return Ro(e,sl)}}function Db(t,e,n){let r;if(Oo(t)){let i=vt(t);return pi(i)||cg(i)}else if(wb(t))r=()=>vt(t.useValue);else if(Gk(t))r=()=>t.useFactory(...sg(t.deps||[]));else if(zk(t))r=()=>z(vt(t.useExisting));else{let i=vt(t&&(t.useClass||t.provide));if(Yk(t))r=()=>new i(...sg(t.deps));else return pi(i)||cg(i)}return r}function Ca(t){if(t.destroyed)throw new q(205,!1)}function Ro(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Yk(t){return!!t.deps}function Zk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Jk(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function ug(t,e){for(let n of t)Array.isArray(n)?ug(n,e):n&&db(n)?ug(n.\u0275providers,e):e(n)}function dt(t,e){let n;t instanceof Na?(Ca(t),n=t):n=new fl(t);let r,i=Wn(n),o=St(void 0);try{return e()}finally{Wn(i),St(o)}}function bb(){return fb()!==void 0||_a()!=null}function rm(t){if(!bb())throw new q(-203,!1)}function Xk(t){return typeof t=="function"}var rr=0,ae=1,J=2,lt=3,rn=4,Mt=5,Pa=6,ko=7,Rt=8,mi=9,Jn=10,Be=11,ka=12,DD=13,$o=14,Wt=15,yi=16,Mo=17,on=18,jl=19,Tb=20,Mr=21,Gp=22,yl=23,Gt=24,Nr=25,_t=26,Cb=1;var vi=7,vl=8,Fo=9,Ot=10;function Pr(t){return Array.isArray(t)&&typeof t[Cb]=="object"}function ir(t){return Array.isArray(t)&&t[Cb]===!0}function im(t){return(t.flags&4)!==0}function Ho(t){return t.componentOffset>-1}function Ul(t){return(t.flags&1)===1}function _n(t){return!!t.template}function _l(t){return(t[J]&512)!==0}function qo(t){return(t[J]&256)===256}var lg=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Sb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Et=(()=>{let t=()=>Ab;return t.ngInherit=!0,t})();function Ab(t){return t.type.prototype.ngOnChanges&&(t.setInput=tx),ex}function ex(){let t=Mb(this),e=t==null?void 0:t.current;if(e){let n=t.previous;if(n===gi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function tx(t,e,n,r,i){let o=this.declaredInputs[r],s=Mb(t)||nx(t,{previous:gi,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new lg(l&&l.currentValue,n,u===gi),Sb(t,e,i,n)}var Rb="__ngSimpleChanges__";function Mb(t){return t[Rb]||null}function nx(t,e){return t[Rb]=e}var bD=null;var Te=function(t,e=null,n){bD!=null&&bD(t,e,n)},rx="svg",ix="math";function En(t){for(;Array.isArray(t);)t=t[rr];return t}function Nb(t,e){return En(e[t])}function Cn(t,e){return En(e[t.index])}function Pb(t,e){return t.data[e]}function kb(t,e){return t[e]}function In(t,e){let n=e[t];return Pr(n)?n:n[rr]}function ox(t){return(t[J]&4)===4}function om(t){return(t[J]&128)===128}function sx(t){return ir(t[lt])}function Lo(t,e){return e==null?null:t[e]}function xb(t){t[Mo]=0}function Ob(t){t[J]&1024||(t[J]|=1024,om(t)&&ja(t))}function ax(t,e){for(;t>0;)e=e[$o],t--;return e}function Bl(t){var e;return!!(t[J]&9216||(e=t[Gt])!=null&&e.dirty)}function dg(t){var e;(e=t[Jn].changeDetectionScheduler)==null||e.notify(8),t[J]&64&&(t[J]|=1024),Bl(t)&&ja(t)}function ja(t){var n;(n=t[Jn].changeDetectionScheduler)==null||n.notify(0);let e=_i(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!om(e)));)e=_i(e)}function Fb(t,e){if(qo(t))throw new q(911,!1);t[Mr]===null&&(t[Mr]=[]),t[Mr].push(e)}function cx(t,e){if(t[Mr]===null)return;let n=t[Mr].indexOf(e);n!==-1&&t[Mr].splice(n,1)}function _i(t){let e=t[lt];return ir(e)?e[lt]:e}function sm(t){var e;return(e=t[ko])!=null?e:t[ko]=[]}function am(t){var e;return(e=t.cleanup)!=null?e:t.cleanup=[]}function ux(t,e,n,r){let i=sm(e);i.push(n),t.firstCreatePass&&am(t).push(r,i.length-1)}var ie={lFrame:zb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var hg=!1;function lx(){return ie.lFrame.elementDepthCount}function dx(){ie.lFrame.elementDepthCount++}function hx(){ie.lFrame.elementDepthCount--}function cm(){return ie.bindingsEnabled}function Lb(){return ie.skipHydrationRootTNode!==null}function fx(t){return ie.skipHydrationRootTNode===t}function px(){ie.skipHydrationRootTNode=null}function he(){return ie.lFrame.lView}function ze(){return ie.lFrame.tView}function H5(t){return ie.lFrame.contextLView=t,t[Rt]}function q5(t){return ie.lFrame.contextLView=null,t}function ht(){let t=Vb();for(;t!==null&&t.type===64;)t=t.parent;return t}function Vb(){return ie.lFrame.currentTNode}function gx(){let t=ie.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Si(t,e){let n=ie.lFrame;n.currentTNode=t,n.isParent=e}function um(){return ie.lFrame.isParent}function lm(){ie.lFrame.isParent=!1}function mx(){return ie.lFrame.contextLView}function jb(){return hg}function TD(t){let e=hg;return hg=t,e}function Ub(){let t=ie.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function Bb(){return ie.lFrame.bindingIndex}function yx(t){return ie.lFrame.bindingIndex=t}function $l(){return ie.lFrame.bindingIndex++}function dm(t){let e=ie.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vx(){return ie.lFrame.inI18n}function _x(t,e){let n=ie.lFrame;n.bindingIndex=n.bindingRootIndex=t,fg(e)}function Ex(){return ie.lFrame.currentDirectiveIndex}function fg(t){ie.lFrame.currentDirectiveIndex=t}function Ix(t){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $b(){return ie.lFrame.currentQueryIndex}function hm(t){ie.lFrame.currentQueryIndex=t}function wx(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[Mt]:null}function Hb(t,e,n){if(n&se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&se.Host);)if(i=wx(o),i===null||(o=o[$o],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ie.lFrame=qb();return r.currentTNode=e,r.lView=t,!0}function fm(t){let e=qb(),n=t[ae];ie.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function qb(){let t=ie.lFrame,e=t===null?null:t.child;return e===null?zb(t):e}function zb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Gb(){let t=ie.lFrame;return ie.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Wb=Gb;function pm(){let t=Gb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Dx(t){return(ie.lFrame.contextLView=ax(t,ie.lFrame.contextLView))[Rt]}function Fr(){return ie.lFrame.selectedIndex}function Ei(t){ie.lFrame.selectedIndex=t}function gm(){let t=ie.lFrame;return Pb(t.tView,t.selectedIndex)}function bx(){return ie.lFrame.currentNamespace}var Kb=!0;function Hl(){return Kb}function ql(t){Kb=t}function Tx(t,e,n){var s,a,u,l,h;let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let p=Ab(e);((s=n.preOrderHooks)!=null?s:n.preOrderHooks=[]).push(t,p),((a=n.preOrderCheckHooks)!=null?a:n.preOrderCheckHooks=[]).push(t,p)}i&&((u=n.preOrderHooks)!=null?u:n.preOrderHooks=[]).push(0-t,i),o&&(((l=n.preOrderHooks)!=null?l:n.preOrderHooks=[]).push(t,o),((h=n.preOrderCheckHooks)!=null?h:n.preOrderCheckHooks=[]).push(t,o))}function mm(t,e){var n,r,i,o,s,a,u;for(let l=e.directiveStart,h=e.directiveEnd;l<h;l++){let y=t.data[l].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:D,ngAfterViewInit:S,ngAfterViewChecked:M,ngOnDestroy:O}=y;m&&((n=t.contentHooks)!=null?n:t.contentHooks=[]).push(-l,m),D&&(((r=t.contentHooks)!=null?r:t.contentHooks=[]).push(l,D),((i=t.contentCheckHooks)!=null?i:t.contentCheckHooks=[]).push(l,D)),S&&((o=t.viewHooks)!=null?o:t.viewHooks=[]).push(-l,S),M&&(((s=t.viewHooks)!=null?s:t.viewHooks=[]).push(l,M),((a=t.viewCheckHooks)!=null?a:t.viewCheckHooks=[]).push(l,M)),O!=null&&((u=t.destroyHooks)!=null?u:t.destroyHooks=[]).push(l,O)}}function al(t,e,n){Qb(t,e,3,n)}function cl(t,e,n,r){(t[J]&3)===n&&Qb(t,e,n,r)}function Wp(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function Qb(t,e,n,r){let i=r!==void 0?t[Mo]&65535:0,o=r!=null?r:-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Mo]+=65536),(a<o||o==-1)&&(Cx(t,n,e,u),t[Mo]=(t[Mo]&4294901760)+u+2),u++}function CD(t,e){Te(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),Te(5,t,e)}}function Cx(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[Mo]>>16&&(t[J]&3)===e&&(t[J]+=16384,CD(a,o)):CD(a,o)}var xo=-1,Ii=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function Sx(t){return(t.flags&8)!==0}function Ax(t){return(t.flags&16)!==0}function Rx(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];Mx(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function Yb(t){return t===3||t===4||t===6}function Mx(t){return t.charCodeAt(0)===64}function Vo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?SD(t,n,i,null,e[++r]):SD(t,n,i,null,null))}}return t}function SD(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function Zb(t){return t!==xo}function El(t){return t&32767}function Nx(t){return t>>16}function Il(t,e){let n=Nx(t),r=e;for(;n>0;)r=r[$o],n--;return r}var pg=!0;function wl(t){let e=pg;return pg=t,e}var Px=256,Jb=Px-1,Xb=5,kx=0,vn={};function xx(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Aa)&&(r=n[Aa]),r==null&&(r=n[Aa]=kx++);let i=r&Jb,o=1<<i;e.data[t+(i>>Xb)]|=o}function Dl(t,e){let n=eT(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,Kp(r.data,t),Kp(e,null),Kp(r.blueprint,null));let i=ym(t,e),o=t.injectorIndex;if(Zb(i)){let s=El(i),a=Il(i,e),u=a[ae].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Kp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function eT(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ym(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=oT(i),r===null)return xo;if(n++,i=i[$o],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return xo}function gg(t,e,n){xx(t,e,n)}function Ox(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(Yb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function tT(t,e,n){if(n&se.Optional||t!==void 0)return t;em(e,"NodeInjector")}function nT(t,e,n,r){if(n&se.Optional&&r===void 0&&(r=null),(n&(se.Self|se.Host))===0){let i=t[mi],o=St(void 0);try{return i?i.get(e,r,n&se.Optional):pb(e,r,n&se.Optional)}finally{St(o)}}return tT(r,e,n)}function rT(t,e,n,r=se.Default,i){if(t!==null){if(e[J]&2048&&!(r&se.Self)){let s=jx(t,e,n,r,vn);if(s!==vn)return s}let o=iT(t,e,n,r,vn);if(o!==vn)return o}return nT(e,n,r,i)}function iT(t,e,n,r,i){let o=Lx(n);if(typeof o=="function"){if(!Hb(e,t,r))return r&se.Host?tT(i,n,r):nT(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&se.Optional))em(n);else return s}finally{Wb()}}else if(typeof o=="number"){let s=null,a=eT(t,e),u=xo,l=r&se.Host?e[Wt][Mt]:null;for((a===-1||r&se.SkipSelf)&&(u=a===-1?ym(t,e):e[a+8],u===xo||!RD(r,!1)?a=-1:(s=e[ae],a=El(u),e=Il(u,e)));a!==-1;){let h=e[ae];if(AD(o,a,h.data)){let p=Fx(a,e,n,s,r,l);if(p!==vn)return p}u=e[a+8],u!==xo&&RD(r,e[ae].data[a+8]===l)&&AD(o,a,e)?(s=h,a=El(u),e=Il(u,e)):a=-1}}return i}function Fx(t,e,n,r,i,o){let s=e[ae],a=s.data[t+8],u=r==null?Ho(a)&&pg:r!=s&&(a.type&3)!==0,l=i&se.Host&&o===a,h=ul(a,s,n,u,l);return h!==null?xa(e,s,h,a):vn}function ul(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,y=i?a+h:l;for(let m=p;m<y;m++){let D=s[m];if(m<u&&n===D||m>=u&&D.type===n)return m}if(i){let m=s[u];if(m&&_n(m)&&m.type===n)return u}return null}function xa(t,e,n,r){let i=t[n],o=e.data;if(i instanceof Ii){let s=i;s.resolving&&hb(Tk(o[n]));let a=wl(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?St(s.injectImpl):null,h=Hb(t,r,se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&Tx(n,o[n],e)}finally{l!==null&&St(l),wl(a),s.resolving=!1,Wb()}}return i}function Lx(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Aa)?t[Aa]:void 0;return typeof e=="number"?e>=0?e&Jb:Vx:e}function AD(t,e,n){let r=1<<t;return!!(n[e+(t>>Xb)]&r)}function RD(t,e){return!(t&se.Self)&&!(t&se.Host&&e)}var fi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return rT(this._tNode,this._lView,e,Fl(r),n)}};function Vx(){return new fi(ht(),he())}function Ai(t){return La(()=>{let e=t.prototype.constructor,n=e[hl]||mg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[hl]||mg(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function mg(t){return ab(t)?()=>{let e=mg(vt(t));return e&&e()}:pi(t)}function jx(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!_l(s);){let a=iT(o,s,n,r|se.Self,vn);if(a!==vn)return a;let u=o.parent;if(!u){let l=s[Tb];if(l){let h=l.get(n,vn,r);if(h!==vn)return h}u=oT(s),s=s[$o]}o=u}return i}function oT(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[Mt]:null}function zo(t){return Ox(ht(),t)}function MD(t,e=null,n=null,r){let i=sT(t,e,n,r);return i.resolveInjectorInitializers(),i}function sT(t,e=null,n=null,r,i=new Set){let o=[n||zt,Hk(t)];return r=r||(typeof t=="object"?void 0:At(t)),new Na(o,e||Vl(),r||null,i)}var li=class li{static create(e,n){var r;if(Array.isArray(e))return MD({name:""},n,e,"");{let i=(r=e.name)!=null?r:"";return MD({name:i},e.parent,e.providers,i)}}};w(li,"THROW_IF_NOT_FOUND",hi),w(li,"NULL",new ml),w(li,"\u0275prov",B({token:li,providedIn:"any",factory:()=>z(yb)})),w(li,"__NG_ELEMENT_ID__",-1);var ke=li;var Ux=new $("");Ux.__NG_ELEMENT_ID__=t=>{let e=ht();if(e===null)throw new q(204,!1);if(e.type&2)return e.value;if(t&se.Optional)return null;throw new q(204,!1)};var aT=!1,Go=(()=>{class t{}return w(t,"__NG_ELEMENT_ID__",Bx),w(t,"__NG_ENV_ID__",n=>n),t})(),yg=class extends Go{_lView;constructor(e){super(),this._lView=e}onDestroy(e){let n=this._lView;return qo(n)?(e(),()=>{}):(Fb(n,e),()=>cx(n,e))}};function Bx(){return new yg(he())}var wi=class{},cT=new $("",{providedIn:"root",factory:()=>!1});var uT=new $(""),lT=new $(""),Ri=(()=>{let e=class e{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new He(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}has(r){return this.pendingTasks.has(r)}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};w(e,"\u0275prov",B({token:e,providedIn:"root",factory:()=>new e}));let t=e;return t})(),zl=(()=>{let e=class e{internalPendingTasks=P(Ri);scheduler=P(wi);add(){let r=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(r)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(r))}}run(r){return C(this,null,function*(){let i=this.add();try{return yield r()}finally{i()}})}};w(e,"\u0275prov",B({token:e,providedIn:"root",factory:()=>new e}));let t=e;return t})(),vg=class extends be{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){var n,r;super(),this.__isAsync=e,bb()&&(this.destroyRef=(n=P(Go,{optional:!0}))!=null?n:void 0,this.pendingTasks=(r=P(Ri,{optional:!0}))!=null?r:void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){var u,l,h;let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let p=e;i=(u=p.next)==null?void 0:u.bind(p),o=(l=p.error)==null?void 0:l.bind(p),s=(h=p.complete)==null?void 0:h.bind(p)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return n=>{var i;let r=(i=this.pendingTasks)==null?void 0:i.add();setTimeout(()=>{var o;try{e(n)}finally{r!==void 0&&((o=this.pendingTasks)==null||o.remove(r))}})}}},Ce=vg;function bl(...t){}function dT(t){let e,n;function r(){t=bl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ND(t){return queueMicrotask(()=>t()),()=>{t=bl}}var vm="isAngularZone",Tl=vm+"_ID",$x=0,de=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ce(!1);onMicrotaskEmpty=new Ce(!1);onStable=new Ce(!1);onError=new Ce(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=aT}=e;if(typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,zx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vm)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Hx,bl,bl);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},Hx={};function _m(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qx(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){dT(()=>{t.callbackScheduled=!1,_g(t),t.isCheckStableRunning=!0,_m(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),_g(t)}function zx(t){let e=()=>{qx(t)},n=$x++;t._inner=t._inner.fork({name:"angular",properties:{[vm]:!0,[Tl]:n,[Tl+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Gx(u))return r.invokeTask(o,s,a,u);try{return PD(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),kD(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return PD(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Wx(u)&&e(),kD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,_g(t),_m(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function _g(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function PD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kD(t){t._nesting--,_m(t)}var Eg=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ce;onMicrotaskEmpty=new Ce;onStable=new Ce;onError=new Ce;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Gx(t){return hT(t,"__ignore_ng_zone__")}function Wx(t){return hT(t,"__scheduler_tick__")}function hT(t,e){var n,r;return!Array.isArray(t)||t.length!==1?!1:((r=(n=t[0])==null?void 0:n.data)==null?void 0:r[e])===!0}var wn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Kx=new $("",{providedIn:"root",factory:()=>{let t=P(de),e=P(wn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function xD(t,e){return ob(t,e)}function Qx(t){return ob(ib,t)}var fT=(xD.required=Qx,xD);function Yx(){return Wo(ht(),he())}function Wo(t,e){return new xe(Cn(t,e))}var xe=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}}return w(t,"__NG_ELEMENT_ID__",Yx),t})();function Zx(t){return t instanceof xe?t.nativeElement:t}function Jx(t){return typeof t=="function"&&t[qt]!==void 0}function Ko(t,e){let n=bp(t,e==null?void 0:e.equal),r=n[qt];return n.set=i=>va(r,i),n.update=i=>Tp(r,i),n.asReadonly=Xx.bind(n),n}function Xx(){let t=this[qt];if(t.readonlyFn===void 0){let e=()=>this();e[qt]=t,t.readonlyFn=e}return t.readonlyFn}function pT(t){return Jx(t)&&typeof t.set=="function"}function eO(){return this._results[Symbol.iterator]()}var Ig=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){var e;return(e=this._changes)!=null?e:this._changes=new be}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=Fk(e);(this._changesDetected=!Ok(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){var e;this.dirty=!0,(e=this._onDirty)==null||e.call(this)}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=eO};function gT(t){return(t.flags&128)===128}var mT=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(mT||{}),yT=new Map,tO=0;function nO(){return tO++}function rO(t){yT.set(t[jl],t)}function wg(t){yT.delete(t[jl])}var OD="__ngContext__";function Qo(t,e){Pr(e)?(t[OD]=e[jl],rO(e)):t[OD]=e}function vT(t){return ET(t[ka])}function _T(t){return ET(t[rn])}function ET(t){for(;t!==null&&!ir(t);)t=t[rn];return t}var Dg;function IT(t){Dg=t}function iO(){if(Dg!==void 0)return Dg;if(typeof document<"u")return document;throw new q(210,!1)}var Gl=new $("",{providedIn:"root",factory:()=>oO}),oO="ng",Em=new $(""),Lr=new $("",{providedIn:"platform",factory:()=>"unknown"});var Im=new $("",{providedIn:"root",factory:()=>{var t,e;return((e=(t=iO().body)==null?void 0:t.querySelector("[ngCspNonce]"))==null?void 0:e.getAttribute("ngCspNonce"))||null}});var sO="h",aO="b";var wT=!1,cO=new $("",{providedIn:"root",factory:()=>wT});var wm=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(wm||{}),Yo=new $(""),FD=new Set;function Ua(t){var e;FD.has(t)||(FD.add(t),(e=performance==null?void 0:performance.mark)==null||e.call(performance,"mark_feature_usage",{detail:{feature:t}}))}var DT=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}}return w(t,"__NG_ELEMENT_ID__",uO),t})();function uO(){return new DT(he(),ht())}var No=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(No||{}),bT=(()=>{let e=class e{impl=null;execute(){var r;(r=this.impl)==null||r.execute()}};w(e,"\u0275prov",B({token:e,providedIn:"root",factory:()=>new e}));let t=e;return t})(),lO=[No.EarlyRead,No.Write,No.MixedReadWrite,No.Read],dO=(()=>{let e=class e{ngZone=P(de);scheduler=P(wi);errorHandler=P(wn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){P(Yo,{optional:!0})}execute(){var i;let r=this.sequences.size>0;r&&Te(16),this.executing=!0;for(let o of lO)for(let s of this.sequences)if(!(s.erroredOrDestroyed||!s.hooks[o]))try{s.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let a=s.hooks[o];return a(s.pipelinedValue)},s.snapshot))}catch(a){s.erroredOrDestroyed=!0,(i=this.errorHandler)==null||i.handleError(a)}this.executing=!1;for(let o of this.sequences)o.afterRun(),o.once&&(this.sequences.delete(o),o.destroy());for(let o of this.deferredRegistrations)this.sequences.add(o);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),r&&Te(17)}register(r){var o;let{view:i}=r;i!==void 0?(((o=i[Nr])!=null?o:i[Nr]=[]).push(r),ja(i),i[J]|=8192):this.executing?this.deferredRegistrations.add(r):this.addSequence(r)}addSequence(r){this.sequences.add(r),this.scheduler.notify(7)}unregister(r){this.executing&&this.sequences.has(r)?(r.erroredOrDestroyed=!0,r.pipelinedValue=void 0,r.once=!0):(this.sequences.delete(r),this.deferredRegistrations.delete(r))}maybeTrace(r,i){return i?i.run(wm.AFTER_NEXT_RENDER,r):r()}};w(e,"\u0275prov",B({token:e,providedIn:"root",factory:()=>new e}));let t=e;return t})(),bg=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o==null?void 0:o.onDestroy(()=>this.destroy())}afterRun(){var e;this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,(e=this.snapshot)==null||e.dispose(),this.snapshot=null}destroy(){var n,r;this.impl.unregister(this),(n=this.unregisterOnDestroy)==null||n.call(this);let e=(r=this.view)==null?void 0:r[Nr];e&&(this.view[Nr]=e.filter(i=>i!==this))}};function Dm(t,e){var r;!(e!=null&&e.injector)&&rm(Dm);let n=(r=e==null?void 0:e.injector)!=null?r:P(ke);return Ua("NgAfterNextRender"),fO(t,n,e,!0)}function hO(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function fO(t,e,n,r){var h,p;let i=e.get(bT);(h=i.impl)!=null||(i.impl=e.get(dO));let o=e.get(Yo,null,{optional:!0}),s=(p=n==null?void 0:n.phase)!=null?p:No.MixedReadWrite,a=(n==null?void 0:n.manualCleanup)!==!0?e.get(Go):null,u=e.get(DT,null,{optional:!0}),l=new bg(i.impl,hO(t,s),u==null?void 0:u.view,r,a,o==null?void 0:o.snapshot(null));return i.impl.register(l),l}var pO=()=>null;function TT(t,e,n=!1){return pO(t,e,n)}function CT(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];hm(o),a.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Tg(t,e,n){hm(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function bm(t,e,n){if(im(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{pe(r)}}}var Dn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Dn||{});var il;function gO(){if(il===void 0&&(il=null,di.trustedTypes))try{il=di.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return il}function LD(t){var e;return((e=gO())==null?void 0:e.createScriptURL(t))||t}var Cl=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${nb})`}};function Wl(t){return t instanceof Cl?t.changingThisBreaksApplicationSecurity:t}function ST(t,e){let n=mO(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${nb})`)}return n===e}function mO(t){return t instanceof Cl&&t.getTypeName()||null}var yO=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function vO(t){return t=String(t),t.match(yO)?t:"unsafe:"+t}var Tm=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Tm||{});function _O(t){let e=RT();return e?e.sanitize(Tm.URL,t)||"":ST(t,"URL")?Wl(t):vO(Zn(t))}function EO(t){let e=RT();if(e)return LD(e.sanitize(Tm.RESOURCE_URL,t)||"");if(ST(t,"ResourceURL"))return LD(Wl(t));throw new q(904,!1)}function IO(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?EO:_O}function AT(t,e,n){return IO(e,n)(t)}function RT(){let t=he();return t&&t[Jn].sanitizer}var wO=/^>|^->|<!--|-->|--!>|<!-$/g,DO=/(<|>)/g,bO="\u200B$1\u200B";function TO(t){return t.replace(wO,e=>e.replace(DO,bO))}function MT(t){return t instanceof Function?t():t}function CO(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var NT="ng-template";function SO(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&CO(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Cm(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Cm(t){return t.type===4&&t.value!==NT}function AO(t,e,n){let r=t.type===4&&!n?NT:t.value;return e===r}function RO(t,e,n){let r=4,i=t.attrs,o=i!==null?PO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!nn(r)&&!nn(u))return!1;if(s&&nn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!AO(t,u,n)||u===""&&e.length===1){if(nn(r))return!1;s=!0}}else if(r&8){if(i===null||!SO(t,i,u,n)){if(nn(r))return!1;s=!0}}else{let l=e[++a],h=MO(u,i,Cm(t),n);if(h===-1){if(nn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(nn(r))return!1;s=!0}}}}return nn(r)||s}function nn(t){return(t&1)===0}function MO(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kO(e,t)}function PT(t,e,n=!1){for(let r=0;r<e.length;r++)if(RO(t,e[r],n))return!0;return!1}function NO(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if((n&1)===0)return e[n+1]}return null}function PO(t){for(let e=0;e<t.length;e++){let n=t[e];if(Yb(n))return e}return t.length}function kO(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function xO(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function VD(t,e){return t?":not("+e.trim()+")":e}function OO(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!nn(s)&&(e+=VD(o,i),i=""),r=s,o=o||!nn(r);n++}return i!==""&&(e+=VD(o,i)),e}function FO(t){return t.map(OO).join(",")}function LO(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!nn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Kt={};function VO(t,e){return t.createText(e)}function jO(t,e,n){t.setValue(e,n)}function UO(t,e){return t.createComment(TO(e))}function kT(t,e,n){return t.createElement(e,n)}function Sl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function xT(t,e,n){t.appendChild(e,n)}function jD(t,e,n,r,i){r!==null?Sl(t,e,n,r,i):xT(t,e,n)}function BO(t,e,n){t.removeChild(null,e,n)}function $O(t,e,n){t.setAttribute(e,"style",n)}function HO(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function OT(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Rx(t,e,r),i!==null&&HO(t,e,i),o!==null&&$O(t,e,o)}function Sm(t,e,n,r,i,o,s,a,u,l,h){let p=_t+r,y=p+i,m=qO(p,y),D=typeof l=="function"?l():l;return m[ae]={type:t,blueprint:m,template:n,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:D,incompleteFirstPass:!1,ssrId:h}}function qO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Kt);return n}function zO(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Sm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Am(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[rr]=i,p[J]=r|4|128|8|64|1024,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),xb(p),p[lt]=p[$o]=t,p[Rt]=n,p[Jn]=s||t&&t[Jn],p[Be]=a||t&&t[Be],p[mi]=u||t&&t[mi]||null,p[Mt]=o,p[jl]=nO(),p[Pa]=h,p[Tb]=l,p[Wt]=e.type==2?t[Wt]:p,p}function GO(t,e,n){let r=Cn(e,t),i=zO(n),o=t[Jn].rendererFactory,s=Rm(t,Am(t,i,null,FT(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function FT(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function LT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Rm(t,e){return t[ka]?t[DD][rn]=e:t[ka]=e,t[DD]=e,e}function z5(t=1){VT(ze(),he(),Fr()+t,!1)}function VT(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&al(e,o,n)}else{let o=t.preOrderHooks;o!==null&&cl(e,o,0,n)}Ei(n)}var Kl=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Kl||{});function Cg(t,e,n,r){let i=pe(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Kl.SignalBased)!==0&&(u=e[o][qt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):Sb(e,u,o,r)}finally{pe(i)}}function jT(t,e,n,r,i){let o=Fr(),s=r&2;try{Ei(-1),s&&e.length>_t&&VT(t,e,_t,!1),Te(s?2:0,i),n(r,i)}finally{Ei(o),Te(s?3:1,i)}}function Ql(t,e,n){JO(t,e,n),(n.flags&64)===64&&XO(t,e,n)}function Mm(t,e,n=Cn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function WO(t,e,n,r){let o=r.get(cO,wT)||n===Dn.ShadowDom,s=t.selectRootElement(e,o);return KO(s),s}function KO(t){QO(t)}var QO=()=>null;function YO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function UT(t,e,n,r,i,o,s,a){if(!a&&Pm(e,t,n,r,i)){Ho(e)&&ZO(n,e.index);return}if(e.type&3){let u=Cn(e,n);r=YO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)}else e.type&12}function ZO(t,e){let n=In(e,t);n[J]&16||(n[J]|=64)}function JO(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Ho(n)&&GO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Dl(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=xa(e,t,s,n);if(Qo(u,e),o!==null&&r1(e,s-r,u,a,n,o),_n(a)){let l=In(n.index,e);l[Rt]=xa(e,t,s,n)}}}function XO(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ex();try{Ei(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];fg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&e1(u,l)}}finally{Ei(-1),fg(s)}}function e1(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Nm(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];PT(e,o.selectors,!1)&&(r!=null||(r=[]),_n(o)?r.unshift(o):r.push(o))}return r}function t1(t,e,n,r,i,o){let s=Cn(t,e);n1(e[Be],s,o,t.value,n,r,i)}function n1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Zn(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function r1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Cg(r,n,u,l)}}function i1(t,e){let n=t[mi],r=n?n.get(wn,null):null;r&&r.handleError(e)}function Pm(t,e,n,r,i){var u,l;let o=(u=t.inputs)==null?void 0:u[r],s=(l=t.hostDirectiveInputs)==null?void 0:l[r],a=!1;if(s)for(let h=0;h<s.length;h+=2){let p=s[h],y=s[h+1],m=e.data[p];Cg(m,n[p],y,i),a=!0}if(o)for(let h of o){let p=n[h],y=e.data[h];Cg(y,p,r,i),a=!0}return a}function o1(t,e){let n=In(e,t),r=n[ae];s1(r,n);let i=n[rr];i!==null&&n[Pa]===null&&(n[Pa]=TT(i,n[mi])),Te(18),km(r,n,n[Rt]),Te(19,n[Rt])}function s1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function km(t,e,n){var r;fm(e);try{let i=t.viewQuery;i!==null&&Tg(1,i,n);let o=t.template;o!==null&&jT(t,e,o,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),(r=e[on])==null||r.finishViewCreation(t),t.staticContentQueries&&CT(t,e),t.staticViewQueries&&Tg(2,t.viewQuery,n);let s=t.components;s!==null&&a1(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[J]&=-5,pm()}}function a1(t,e){for(let n=0;n<e.length;n++)o1(t,e[n])}function BT(t,e,n,r){var o,s,a;let i=pe(null);try{let u=e.tView,h=t[J]&4096?4096:16,p=Am(t,u,n,h,null,e,null,null,(o=r==null?void 0:r.injector)!=null?o:null,(s=r==null?void 0:r.embeddedViewInjector)!=null?s:null,(a=r==null?void 0:r.dehydratedView)!=null?a:null),y=t[e.index];p[yi]=y;let m=t[on];return m!==null&&(p[on]=m.createEmbeddedView(u)),km(u,p,n),p}finally{pe(i)}}function Sg(t,e){return!e||e.firstChild===null||gT(t)}var c1;function xm(t,e){return c1(t,e)}var Xn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Xn||{});function Om(t){return(t.flags&32)===32}function Po(t,e,n,r,i){if(r!=null){let o,s=!1;ir(r)?o=r:Pr(r)&&(s=!0,r=r[rr]);let a=En(r);t===0&&n!==null?i==null?xT(e,n,a):Sl(e,n,a,i||null,!0):t===1&&n!==null?Sl(e,n,a,i||null,!0):t===2?BO(e,a,s):t===3&&e.destroyNode(a),o!=null&&v1(e,t,o,n,i)}}function u1(t,e){$T(t,e),e[rr]=null,e[Mt]=null}function l1(t,e,n,r,i,o){r[rr]=i,r[Mt]=e,Zl(t,r,n,1,i,o)}function $T(t,e){var n;(n=e[Jn].changeDetectionScheduler)==null||n.notify(9),Zl(t,e,e[Be],2,null,null)}function d1(t){let e=t[ka];if(!e)return Qp(t[ae],t);for(;e;){let n=null;if(Pr(e))n=e[ka];else{let r=e[Ot];r&&(n=r)}if(!n){for(;e&&!e[rn]&&e!==t;)Pr(e)&&Qp(e[ae],e),e=e[lt];e===null&&(e=t),Pr(e)&&Qp(e[ae],e),n=e&&e[rn]}e=n}}function Fm(t,e){let n=t[Fo],r=n.indexOf(e);n.splice(r,1)}function HT(t,e){if(qo(e))return;let n=e[Be];n.destroyNode&&Zl(t,e,n,3,null,null),d1(e)}function Qp(t,e){if(qo(e))return;let n=pe(null);try{e[J]&=-129,e[J]|=256,e[Gt]&&Ip(e[Gt]),f1(t,e),h1(t,e),e[ae].type===1&&e[Be].destroy();let r=e[yi];if(r!==null&&ir(e[lt])){r!==e[lt]&&Fm(r,e);let i=e[on];i!==null&&i.detachView(t)}wg(e)}finally{pe(n)}}function h1(t,e){let n=t.cleanup,r=e[ko];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[ko]=null);let i=e[Mr];if(i!==null){e[Mr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[yl];if(o!==null){e[yl]=null;for(let s of o)s.destroy()}}function f1(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ii)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Te(4,a,u);try{u.call(a)}finally{Te(5,a,u)}}else{Te(4,i,o);try{o.call(i)}finally{Te(5,i,o)}}}}}function qT(t,e,n){return p1(t,e.parent,n)}function p1(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[rr];if(Ho(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Dn.None||i===Dn.Emulated)return null}return Cn(r,n)}function zT(t,e,n){return m1(t,e,n)}function g1(t,e,n){return t.type&40?Cn(t,n):null}var m1=g1,UD;function Yl(t,e,n,r){let i=qT(t,r,e),o=e[Be],s=r.parent||e[Mt],a=zT(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)jD(o,i,n[u],a,!1);else jD(o,i,n,a,!1);UD!==void 0&&UD(o,r,e,n,i)}function Sa(t,e){if(e!==null){let n=e.type;if(n&3)return Cn(e,t);if(n&4)return Ag(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Sa(t,r);{let i=t[e.index];return ir(i)?Ag(-1,i):En(i)}}else{if(n&128)return Sa(t,e.next);if(n&32)return xm(e,t)()||En(t[e.index]);{let r=GT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_i(t[Wt]);return Sa(i,r)}else return Sa(t,e.next)}}}return null}function GT(t,e){if(e!==null){let r=t[Wt][Mt],i=e.projection;return r.projection[i]}return null}function Ag(t,e){let n=Ot+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return Sa(r,i)}return e[vi]}function Lm(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Qo(En(a),r),n.flags|=2),!Om(n))if(u&8)Lm(t,e,n.child,r,i,o,!1),Po(e,t,i,a,o);else if(u&32){let l=xm(n,r),h;for(;h=l();)Po(e,t,i,h,o);Po(e,t,i,a,o)}else u&16?WT(t,e,r,n,i,o):Po(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Zl(t,e,n,r,i,o){Lm(n,r,t.firstChild,e,i,o,!1)}function y1(t,e,n){let r=e[Be],i=qT(t,n,e),o=n.parent||e[Mt],s=zT(o,n,e);WT(r,0,e,n,i,s)}function WT(t,e,n,r,i,o){let s=n[Wt],u=s[Mt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Po(e,t,i,h,o)}else{let l=u,h=s[lt];gT(r)&&(l.flags|=128),Lm(t,e,l,h,i,o,!0)}}function v1(t,e,n,r,i){let o=n[vi],s=En(n);o!==s&&Po(e,t,r,o,i);for(let a=Ot;a<n.length;a++){let u=n[a];Zl(u[ae],u,t,e,r,o)}}function _1(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Xn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Xn.Important),t.setStyle(n,r,i,o))}}function Al(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(En(o)),ir(o)&&E1(o,r);let s=n.type;if(s&8)Al(t,e,n.child,r);else if(s&32){let a=xm(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=GT(e,n);if(Array.isArray(a))r.push(...a);else{let u=_i(e[Wt]);Al(u[ae],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function E1(t,e){for(let n=Ot;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&Al(r[ae],r,i,e)}t[vi]!==t[rr]&&e.push(t[vi])}function KT(t){if(t[Nr]!==null){for(let e of t[Nr])e.impl.addSequence(e);t[Nr].length=0}}var QT=[];function I1(t){var e;return(e=t[Gt])!=null?e:w1(t)}function w1(t){var n;let e=(n=QT.pop())!=null?n:Object.create(b1);return e.lView=t,e}function D1(t){t.lView[Gt]!==t&&(t.lView=null,QT.push(t))}var b1=ee(F({},ma),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ja(t.lView)},consumerOnSignalRead(){this.lView[Gt]=this}});function T1(t){var n;let e=(n=t[Gt])!=null?n:Object.create(C1);return e.lView=t,e}var C1=ee(F({},ma),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=_i(t.lView);for(;e&&!YT(e[ae]);)e=_i(e);e&&Ob(e)},consumerOnSignalRead(){this.lView[Gt]=this}});function YT(t){return t.type!==2}function ZT(t){if(t[yl]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[yl])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[J]&8192)}}var S1=100;function JT(t,e=!0,n=0){var s,a;let i=t[Jn].rendererFactory,o=!1;o||(s=i.begin)==null||s.call(i);try{A1(t,n)}catch(u){throw e&&i1(t,u),u}finally{o||(a=i.end)==null||a.call(i)}}function A1(t,e){let n=jb();try{TD(!0),Rg(t,e);let r=0;for(;Bl(t);){if(r===S1)throw new q(103,!1);r++,Rg(t,1)}}finally{TD(n)}}function R1(t,e,n,r){if(qo(e))return;let i=e[J],o=!1,s=!1;fm(e);let a=!0,u=null,l=null;o||(YT(t)?(l=I1(e),u=Cu(l)):gp()===null?(a=!1,l=T1(e),u=Cu(l)):e[Gt]&&(Ip(e[Gt]),e[Gt]=null));try{xb(e),yx(t.bindingStartIndex),n!==null&&jT(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let m=t.preOrderCheckHooks;m!==null&&al(e,m,null)}else{let m=t.preOrderHooks;m!==null&&cl(e,m,0,null),Wp(e,0)}if(s||M1(e),ZT(e),XT(e,0),t.contentQueries!==null&&CT(t,e),!o)if(h){let m=t.contentCheckHooks;m!==null&&al(e,m)}else{let m=t.contentHooks;m!==null&&cl(e,m,1),Wp(e,1)}P1(t,e);let p=t.components;p!==null&&tC(e,p,0);let y=t.viewQuery;if(y!==null&&Tg(2,y,r),!o)if(h){let m=t.viewCheckHooks;m!==null&&al(e,m)}else{let m=t.viewHooks;m!==null&&cl(e,m,2),Wp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Gp]){for(let m of e[Gp])m();e[Gp]=null}o||(KT(e),e[J]&=-73)}catch(h){throw o||ja(e),h}finally{l!==null&&(_p(l,u),a&&D1(l)),pm()}}function XT(t,e){for(let n=vT(t);n!==null;n=_T(n))for(let r=Ot;r<n.length;r++){let i=n[r];eC(i,e)}}function M1(t){for(let e=vT(t);e!==null;e=_T(e)){if(!(e[J]&2))continue;let n=e[Fo];for(let r=0;r<n.length;r++){let i=n[r];Ob(i)}}}function N1(t,e,n){Te(18);let r=In(e,t);eC(r,n),Te(19,r[Rt])}function eC(t,e){om(t)&&Rg(t,e)}function Rg(t,e){let r=t[ae],i=t[J],o=t[Gt],s=!!(e===0&&i&16);if(s||(s=!!(i&64&&e===0)),s||(s=!!(i&1024)),s||(s=!!(o!=null&&o.dirty&&Ep(o))),s||(s=!1),o&&(o.dirty=!1),t[J]&=-9217,s)R1(r,t,r.template,t[Rt]);else if(i&8192){ZT(t),XT(t,1);let a=r.components;a!==null&&tC(t,a,1),KT(t)}}function tC(t,e,n){for(let r=0;r<e.length;r++)N1(t,e[r],n)}function P1(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ei(~i);else{let o=i,s=n[++r],a=n[++r];_x(s,o);let u=e[o];Te(24,u),a(2,u),Te(25,u)}}}finally{Ei(-1)}}function Vm(t,e){var r;let n=jb()?64:1088;for((r=t[Jn].changeDetectionScheduler)==null||r.notify(e);t;){t[J]|=n;let i=_i(t);if(_l(t)&&!i)return t;t=i}return null}function nC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function rC(t,e,n,r=!0){let i=e[ae];if(k1(i,e,t,n),r){let s=Ag(n,t),a=e[Be],u=a.parentNode(t[vi]);u!==null&&l1(i,t[Mt],a,e,u,s)}let o=e[Pa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Mg(t,e){if(t.length<=Ot)return;let n=Ot+e,r=t[n];if(r){let i=r[yi];i!==null&&i!==t&&Fm(i,r),e>0&&(t[n-1][rn]=r[rn]);let o=gl(t,Ot+e);u1(r[ae],r);let s=o[on];s!==null&&s.detachView(o[ae]),r[lt]=null,r[rn]=null,r[J]&=-129}return r}function k1(t,e,n,r){let i=Ot+r,o=n.length;r>0&&(n[i-1][rn]=e),r<o-Ot?(e[rn]=n[i],mb(n,Ot+r,e)):(n.push(e),e[rn]=null),e[lt]=n;let s=e[yi];s!==null&&n!==s&&iC(s,e);let a=e[on];a!==null&&a.insertView(t),dg(e),e[J]|=128}function iC(t,e){let n=t[Fo],r=e[lt];if(Pr(r))t[J]|=2;else{let i=r[lt][Wt];e[Wt]!==i&&(t[J]|=2)}n===null?t[Fo]=[e]:n.push(e)}var Oa=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ae];return Al(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Rt]}set context(e){this._lView[Rt]=e}get destroyed(){return qo(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[lt];if(ir(e)){let n=e[vl],r=n?n.indexOf(this):-1;r>-1&&(Mg(e,r),gl(n,r))}this._attachedToViewContainer=!1}HT(this._lView[ae],this._lView)}onDestroy(e){Fb(this._lView,e)}markForCheck(){Vm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){dg(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,JT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_l(this._lView),n=this._lView[yi];n!==null&&!e&&Fm(n,this._lView),$T(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=e;let n=_l(this._lView),r=this._lView[yi];r!==null&&!n&&iC(r,this._lView),dg(this._lView)}};var bn=(()=>{class t{}return w(t,"__NG_ELEMENT_ID__",F1),t})(),x1=bn,O1=class extends x1{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){var e;return((e=this._declarationTContainer.tView)==null?void 0:e.ssrId)||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=BT(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Oa(i)}};function F1(){return Jl(ht(),he())}function Jl(t,e){return t.type&4?new O1(e,t,Wo(t,e)):null}function Ba(t,e,n,r,i){let o=t.data[e];if(o===null)o=L1(t,e,n,r,i),vx()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=gx();o.injectorIndex=s===null?-1:s.injectorIndex}return Si(o,!0),o}function L1(t,e,n,r,i){let o=Vb(),s=um(),a=s?o:o&&o.parent,u=t.data[e]=j1(t,a,n,e,r,i);return V1(t,u,o,s),u}function V1(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function j1(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Lb()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var K5=new RegExp(`^(\\d+)*(${aO}|${sO})*(.*)`);var U1=()=>null;function Ng(t,e){return U1(t,e)}var B1=class{},oC=class{},Pg=class{resolveComponentFactory(e){throw Error(`No component factory found for ${At(e)}.`)}},rg,Xl=(rg=class{},w(rg,"NULL",new Pg),rg),jo=class{},Vr=(()=>{class t{destroyNode=null}return w(t,"__NG_ELEMENT_ID__",()=>$1()),t})();function $1(){let t=he(),e=ht(),n=In(e.index,t);return(Pr(n)?n:t)[Be]}var H1=(()=>{let e=class e{};w(e,"\u0275prov",B({token:e,providedIn:"root",factory:()=>null}));let t=e;return t})();var Yp={},kg=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Fl(r);let i=this.injector.get(e,Yp,r);return i!==Yp||n===Yp?i:this.parentInjector.get(e,n,r)}};function xg(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mD(i,a);else if(o==2){let u=a,l=e[++s];r=mD(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function L(t,e=se.Default){let n=he();if(n===null)return z(t,e);let r=ht();return rT(r,n,vt(t),e)}function sC(){let t="invalid";throw new Error(t)}function jm(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a,u=null,l=null,h=z1(s);h===null?a=s:[a,u,l]=h,K1(t,e,n,a,o,u,l)}o!==null&&r!==null&&q1(n,r,o)}function q1(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new q(-301,!1);r.push(e[i],o)}}function z1(t){let e=null,n=!1;for(let s=0;s<t.length;s++){let a=t[s];if(s===0&&_n(a)&&(e=a),a.findHostDirectiveDefs!==null){n=!0;break}}if(!n)return null;let r=null,i=null,o=null;for(let s of t)s.findHostDirectiveDefs!==null&&(r!=null||(r=[]),i!=null||(i=new Map),o!=null||(o=new Map),G1(s,r,o,i)),s===e&&(r!=null||(r=[]),r.push(s));return r!==null?(r.push(...e===null?t:t.slice(1)),[r,i,o]):null}function G1(t,e,n,r){let i=e.length;t.findHostDirectiveDefs(t,e,r),n.set(t,[i,e.length-1])}function W1(t,e,n){var r;e.componentOffset=n,((r=t.components)!=null?r:t.components=[]).push(e.index)}function K1(t,e,n,r,i,o,s){var y,m;let a=r.length,u=!1;for(let D=0;D<a;D++){let S=r[D];!u&&_n(S)&&(u=!0,W1(t,n,D)),gg(Dl(n,e),t,S.type)}eF(n,t.data.length,a);for(let D=0;D<a;D++){let S=r[D];S.providersResolver&&S.providersResolver(S)}let l=!1,h=!1,p=LT(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let D=0;D<a;D++){let S=r[D];if(n.mergedAttrs=Vo(n.mergedAttrs,S.hostAttrs),Y1(t,n,e,p,S),X1(p,S,i),s!==null&&s.has(S)){let[O,j]=s.get(S);n.directiveToIndex.set(S.type,[p,O+n.directiveStart,j+n.directiveStart])}else(o===null||!o.has(S))&&n.directiveToIndex.set(S.type,p);S.contentQueries!==null&&(n.flags|=4),(S.hostBindings!==null||S.hostAttrs!==null||S.hostVars!==0)&&(n.flags|=64);let M=S.type.prototype;!l&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&(((y=t.preOrderHooks)!=null?y:t.preOrderHooks=[]).push(n.index),l=!0),!h&&(M.ngOnChanges||M.ngDoCheck)&&(((m=t.preOrderCheckHooks)!=null?m:t.preOrderCheckHooks=[]).push(n.index),h=!0),p++}Q1(t,n,o)}function Q1(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))BD(0,e,i,r),BD(1,e,i,r),HD(e,r,!1);else{let o=n.get(i);$D(0,e,o,r),$D(1,e,o,r),HD(e,r,!0)}}}function BD(t,e,n,r){var o,s,a;let i=t===0?n.inputs:n.outputs;for(let u in i)if(i.hasOwnProperty(u)){let l;t===0?l=(o=e.inputs)!=null?o:e.inputs={}:l=(s=e.outputs)!=null?s:e.outputs={},(a=l[u])!=null||(l[u]=[]),l[u].push(r),aC(e,u)}}function $D(t,e,n,r){var o,s,a;let i=t===0?n.inputs:n.outputs;for(let u in i)if(i.hasOwnProperty(u)){let l=i[u],h;t===0?h=(o=e.hostDirectiveInputs)!=null?o:e.hostDirectiveInputs={}:h=(s=e.hostDirectiveOutputs)!=null?s:e.hostDirectiveOutputs={},(a=h[l])!=null||(h[l]=[]),h[l].push(r,u),aC(e,l)}}function aC(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function HD(t,e,n){var u,l;let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||Cm(t)){(u=t.initialInputs)!=null||(t.initialInputs=[]),t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let h=r[a];if(h===0){a+=4;continue}else if(h===5){a+=2;continue}else if(typeof h=="number")break;if(!n&&i.hasOwnProperty(h)){let p=i[h];for(let y of p)if(y===e){s!=null||(s=[]),s.push(h,r[a+1]);break}}else if(n&&o.hasOwnProperty(h)){let p=o[h];for(let y=0;y<p.length;y+=2)if(p[y]===e){s!=null||(s=[]),s.push(p[y+1],r[a+1]);break}}a+=2}(l=t.initialInputs)!=null||(t.initialInputs=[]),t.initialInputs.push(s)}function Y1(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=pi(i.type,!0)),s=new Ii(o,_n(i),L);t.blueprint[r]=s,n[r]=s,Z1(t,e,r,LT(t,n,i.hostVars,Kt),i)}function Z1(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;J1(s)!=a&&s.push(a),s.push(n,r,o)}}function J1(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function X1(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;_n(e)&&(n[""]=t)}}function eF(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function cC(t,e,n,r,i,o,s,a){let u=e.consts,l=Lo(u,s),h=Ba(e,t,2,r,l);return o&&jm(e,n,h,Lo(u,a),i),h.mergedAttrs=Vo(h.mergedAttrs,h.attrs),h.attrs!==null&&xg(h,h.attrs,!1),h.mergedAttrs!==null&&xg(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function uC(t,e){mm(t,e),im(e)&&t.queries.elementEnd(e)}var Rl=class extends Xl{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=kr(e);return new Di(n,this.ngModule)}};function tF(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Kl.SignalBased)!==0};return i&&(o.transform=i),o})}function nF(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function rF(t,e,n){let r=e instanceof qe?e:e==null?void 0:e.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new kg(n,r):n}function iF(t){let e=t.get(jo,null);if(e===null)throw new q(407,!1);let n=t.get(H1,null),r=t.get(wi,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function oF(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return kT(e,n,n==="svg"?rx:n==="math"?ix:null)}var Di=class extends oC{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){var e;return(e=this.cachedInputs)!=null||(this.cachedInputs=tF(this.componentDef.inputs)),this.cachedInputs}get outputs(){var e;return(e=this.cachedOutputs)!=null||(this.cachedOutputs=nF(this.componentDef.outputs)),this.cachedOutputs}constructor(e,n){var r;super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=FO(e.selectors),this.ngContentSelectors=(r=e.ngContentSelectors)!=null?r:[],this.isBoundToModule=!!n}create(e,n,r,i){Te(22);let o=pe(null);try{let s=this.componentDef,a=r?["ng-version","19.2.9"]:LO(this.componentDef.selectors[0]),u=Sm(0,null,null,1,0,null,null,null,null,[a],null),l=rF(s,i||this.ngModule,e),h=iF(l),p=h.rendererFactory.createRenderer(null,s),y=r?WO(p,r,s.encapsulation,l):oF(s,p),m=Am(null,u,null,512|FT(s),null,null,h,p,l,null,TT(y,l,!0));m[_t]=y,fm(m);let D=null;try{let S=cC(_t,u,m,"#host",()=>[this.componentDef],!0,0);y&&(OT(p,y,S),Qo(y,m)),Ql(u,m,S),bm(u,S,m),uC(u,S),n!==void 0&&sF(S,this.ngContentSelectors,n),D=In(S.index,m),m[Rt]=D[Rt],km(u,m,null)}catch(S){throw D!==null&&wg(D),wg(m),S}finally{Te(23),pm()}return new Og(this.componentType,m)}finally{pe(o)}}},Og=class extends B1{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Pb(n[ae],_t),this.location=Wo(this._tNode,n),this.instance=In(this._tNode.index,n)[Rt],this.hostView=this.changeDetectorRef=new Oa(n,void 0,!1),this.componentType=e}setInput(e,n){var a;let r=this._tNode;if((a=this.previousInputValues)!=null||(this.previousInputValues=new Map),this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Pm(r,i[ae],i,e,n);this.previousInputValues.set(e,n);let s=In(r.index,i);Vm(s,1)}get injector(){return new fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function sF(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var sn=(()=>{class t{}return w(t,"__NG_ELEMENT_ID__",aF),t})();function aF(){let t=ht();return dC(t,he())}var cF=sn,lC=class extends cF{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Wo(this._hostTNode,this._hostLView)}get injector(){return new fi(this._hostTNode,this._hostLView)}get parentInjector(){let e=ym(this._hostTNode,this._hostLView);if(Zb(e)){let n=Il(e,this._hostLView),r=El(e),i=n[ae].data[r+8];return new fi(i,n)}else return new fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=qD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ng(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Sg(this._hostTNode,s)),a}createComponent(e,n,r,i,o){var D,S,M;let s=e&&!Xk(e),a;if(s)a=n;else{let O=n||{};a=O.index,r=O.injector,i=O.projectableNodes,o=O.environmentInjector||O.ngModuleRef}let u=s?e:new Di(kr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let j=(s?l:this.parentInjector).get(qe,null);j&&(o=j)}let h=kr((D=u.componentType)!=null?D:{}),p=Ng(this._lContainer,(S=h==null?void 0:h.id)!=null?S:null),y=(M=p==null?void 0:p.firstChild)!=null?M:null,m=u.create(l,i,y,o);return this.insertImpl(m.hostView,a,Sg(this._hostTNode,p)),m}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(sx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[lt],l=new lC(u,u[Mt],u[lt]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return rC(s,i,o,r),e.attachToViewContainerRef(),mb(Zp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=qD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Mg(this._lContainer,n);r&&(gl(Zp(this._lContainer),n),HT(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=Mg(this._lContainer,n);return r&&gl(Zp(this._lContainer),n)!=null?new Oa(r):null}_adjustIndex(e,n=0){return e==null?this.length+n:e}};function qD(t){return t[vl]}function Zp(t){return t[vl]||(t[vl]=[])}function dC(t,e){let n,r=e[t.index];return ir(r)?n=r:(n=nC(r,e,null,t),e[t.index]=n,Rm(e,n)),lF(n,e,t,r),new lC(n,t,e)}function uF(t,e){let n=t[Be],r=n.createComment(""),i=Cn(e,t),o=n.parentNode(i);return Sl(n,o,r,n.nextSibling(i),!1),r}var lF=fF,dF=()=>!1;function hF(t,e,n){return dF(t,e,n)}function fF(t,e,n,r){if(t[vi])return;let i;n.type&8?i=En(r):i=uF(e,n),t[vi]=i}var Fg=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Lg=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Um(e,n).matches!==null&&this.queries[n].setDirty()}},Ml=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=IF(e):this.predicate=e}},Vg=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},jg=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,pF(n,o)),this.matchTNodeWithReadOption(e,n,ul(n,e,o,!1,!1))}else r===bn?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,ul(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xe||i===sn||i===bn&&n.type&4)this.addMatch(n.index,-2);else{let o=ul(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function pF(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function gF(t,e){return t.type&11?Wo(t,e):t.type&4?Jl(t,e):null}function mF(t,e,n,r){return n===-1?gF(e,t):n===-2?yF(t,e,r):xa(t,t[ae],n,e)}function yF(t,e,n){if(n===xe)return Wo(e,t);if(n===bn)return Jl(e,t);if(n===sn)return dC(e,t)}function hC(t,e,n,r){let i=e[on].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(mF(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Ug(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=hC(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Ot;p<h.length;p++){let y=h[p];y[yi]===y[lt]&&Ug(y[ae],y,l,r)}if(h[Fo]!==null){let p=h[Fo];for(let y=0;y<p.length;y++){let m=p[y];Ug(m[ae],m,l,r)}}}}}return r}function vF(t,e){return t[on].queries[e].queryList}function fC(t,e,n){var o;let r=new Ig((n&4)===4);return ux(t,e,r,r.destroy),((o=e[on])!=null?o:e[on]=new Lg).queries.push(new Fg(r))-1}function _F(t,e,n){let r=ze();return r.firstCreatePass&&(pC(r,new Ml(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),fC(r,he(),e)}function EF(t,e,n,r){let i=ze();if(i.firstCreatePass){let o=ht();pC(i,new Ml(e,n,r),o.index),wF(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return fC(i,he(),n)}function IF(t){return t.split(",").map(e=>e.trim())}function pC(t,e,n){t.queries===null&&(t.queries=new Vg),t.queries.track(new jg(e,n))}function wF(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Um(t,e){return t.queries.getByIndex(e)}function DF(t,e){let n=t[ae],r=Um(n,e);return r.crossesNgTemplate?Ug(n,t,e,[]):hC(n,t,r,e)}var Uo=class{},Bm=class{};var Bg=class extends Uo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Rl(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=_b(e);this._bootstrapComponents=MT(o.bootstrap),this._r3Injector=sT(e,n,[{provide:Uo,useValue:this},{provide:Xl,useValue:this.componentFactoryResolver},...r],At(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},$g=class extends Bm{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Bg(this.moduleType,e,[])}};var Nl=class extends Uo{injector;componentFactoryResolver=new Rl(this);instance=null;constructor(e){super();let n=new Na([...e.providers,{provide:Uo,useValue:this},{provide:Xl,useValue:this.componentFactoryResolver}],e.parent||Vl(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function $a(t,e,n=null){return new Nl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var bF=(()=>{let e=class e{_injector;cachedInjectors=new Map;constructor(r){this._injector=r}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Eb(!1,r.type),o=i.length>0?$a([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};w(e,"\u0275prov",B({token:e,providedIn:"environment",factory:()=>new e(z(qe))}));let t=e;return t})();function gC(t){return La(()=>{var i;let e=yC(t),n=ee(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===mT.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?o=>o.get(bF).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:(i=t.signals)!=null?i:!1,data:t.data||{},encapsulation:t.encapsulation||Dn.Emulated,styles:t.styles||zt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Ua("NgStandalone"),vC(n);let r=t.dependencies;return n.directiveDefs=zD(r,!1),n.pipeDefs=zD(r,!0),n.id=RF(n),n})}function TF(t){return kr(t)||Bk(t)}function CF(t){return t!==null}function Sn(t){return La(()=>({type:t.type,bootstrap:t.bootstrap||zt,declarations:t.declarations||zt,imports:t.imports||zt,exports:t.exports||zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function SF(t,e){var r;if(t==null)return gi;let n={};for(let i in t)if(t.hasOwnProperty(i)){let o=t[i],s,a,u,l;Array.isArray(o)?(u=o[0],s=o[1],a=(r=o[2])!=null?r:s,l=o[3]||null):(s=o,a=o,u=Kl.None,l=null),n[s]=[i,u,l],e[s]=a}return n}function AF(t){if(t==null)return gi;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function _e(t){return La(()=>{let e=yC(t);return vC(e),e})}function mC(t){var e;return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:(e=t.standalone)!=null?e:!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function yC(t){var n;let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||gi,exportAs:t.exportAs||null,standalone:(n=t.standalone)!=null?n:!0,signals:t.signals===!0,selectors:t.selectors||zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:SF(t.inputs,e),outputs:AF(t.outputs),debugInfo:null}}function vC(t){var e;(e=t.features)==null||e.forEach(n=>n(t))}function zD(t,e){if(!t)return null;let n=e?$k:TF;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(CF)}function RF(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function MF(t){return Object.getPrototypeOf(t.prototype).constructor}function an(t){let e=MF(t.type),n=!0,r=[t];for(;e;){let i;if(_n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Jp(t.inputs),s.declaredInputs=Jp(t.declaredInputs),s.outputs=Jp(t.outputs);let a=i.hostBindings;a&&OF(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&kF(t,u),l&&xF(t,l),NF(t,i),yk(t.outputs,i.outputs),_n(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===an&&(n=!1)}}e=Object.getPrototypeOf(e)}PF(r)}function NF(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function PF(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Vo(i.hostAttrs,n=Vo(n,i.hostAttrs))}}function Jp(t){return t===gi?{}:t===zt?[]:t}function kF(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function xF(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function OF(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function _C(t){return LF(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function FF(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function LF(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function EC(t,e,n){return t[e]=n}function VF(t,e){return t[e]}function xr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function $m(t,e,n,r){let i=xr(t,e,n);return xr(t,e+1,r)||i}function jF(t,e,n,r,i){let o=$m(t,e,n,r);return xr(t,e+2,i)||o}function UF(t,e,n,r,i,o,s,a,u){let l=e.consts,h=Ba(e,t,4,s||null,a||null);cm()&&jm(e,n,h,Lo(l,u),Nm),h.mergedAttrs=Vo(h.mergedAttrs,h.attrs),mm(e,h);let p=h.tView=Sm(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function IC(t,e,n,r,i,o,s,a,u,l){let h=n+_t,p=e.firstCreatePass?UF(h,e,t,r,i,o,s,a,u):e.data[h];Si(p,!1);let y=$F(e,t,p,n);Hl()&&Yl(e,t,y,p),Qo(y,t);let m=nC(y,t,y,p);return t[h]=m,Rm(t,m),hF(m,p,t),Ul(p)&&Ql(e,t,p),u!=null&&Mm(t,p,l),p}function BF(t,e,n,r,i,o,s,a){let u=he(),l=ze(),h=Lo(l.consts,o);return IC(u,l,t,e,n,r,i,h,s,a),BF}var $F=HF;function HF(t,e,n,r){return ql(!0),e[Be].createComment("")}var wC=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"platform"}));let t=e;return t})();var DC=new $("");var qF=(()=>{let e=class e{};w(e,"\u0275prov",B({token:e,providedIn:"root",factory:()=>new Hg}));let t=e;return t})(),Hg=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}};function Mi(t){return!!t&&typeof t.then=="function"}function bC(t){return!!t&&typeof t.subscribe=="function"}var TC=new $("");function Hm(t){return Ci([{provide:TC,multi:!0,useValue:t}])}var CC=(()=>{var e;let n=class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((i,o)=>{this.resolve=i,this.reject=o});appInits=(e=P(TC,{optional:!0}))!=null?e:[];injector=P(ke);constructor(){}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let a=dt(this.injector,s);if(Mi(a))i.push(a);else if(bC(a)){let u=new Promise((l,h)=>{a.subscribe({complete:l,error:h})});i.push(u)}}let o=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{o()}).catch(s=>{this.reject(s)}),i.length===0&&o(),this.initialized=!0}};w(n,"\u0275fac",function(o){return new(o||n)}),w(n,"\u0275prov",B({token:n,factory:n.\u0275fac,providedIn:"root"}));let t=n;return t})(),ed=new $("");function zF(){Dp(()=>{throw new q(600,!1)})}function GF(t){return t.isBoundToModule}var WF=10;var er=(()=>{let e=class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=P(Kx);afterRenderManager=P(bT);zonelessEnabled=P(cT);rootEffectScheduler=P(qF);dirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new be;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=P(Ri).hasPendingTasks.pipe(oe(r=>!r));constructor(){P(Yo,{optional:!0})}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}_injector=P(qe);_rendererFactory=null;get injector(){return this._injector}bootstrap(r,i){return this.bootstrapImpl(r,i)}bootstrapImpl(r,i,o=ke.NULL){Te(10);let s=r instanceof oC;if(!this._injector.get(CC).done){let D="";throw new q(405,D)}let u;s?u=r:u=this._injector.get(Xl).resolveComponentFactory(r),this.componentTypes.push(u.componentType);let l=GF(u)?void 0:this._injector.get(Uo),h=i||u.selector,p=u.create(o,[],h,l),y=p.location.nativeElement,m=p.injector.get(DC,null);return m==null||m.registerApplication(y),p.onDestroy(()=>{this.detachView(p.hostView),ll(this.components,p),m==null||m.unregisterApplication(y)}),this._loadComponent(p),Te(11,p),p}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Te(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(wm.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{var i;if(this._runningTick)throw new q(101,!1);let r=pe(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,(i=this.tracingSnapshot)==null||i.dispose(),this.tracingSnapshot=null,pe(r),this.afterTick.next(),Te(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(jo,null,{optional:!0}));let r=0;for(;this.dirtyFlags!==0&&r++<WF;)Te(14),this.synchronizeOnce(),Te(15)}synchronizeOnce(){var r,i,o,s;if(this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let a=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:u,notifyErrorHandler:l}of this.allViews)KF(u,l,a,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else(i=(r=this._rendererFactory)==null?void 0:r.begin)==null||i.call(r),(s=(o=this._rendererFactory)==null?void 0:o.end)==null||s.call(o);this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Bl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ll(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r),this._injector.get(ed,[]).forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ll(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new q(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();function ll(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function KF(t,e,n,r){if(!n&&!Bl(t))return;JT(t,e,n&&!r?0:1)}function Zo(t,e,n,r){let i=he(),o=$l();if(xr(i,o,e)){let s=ze(),a=gm();t1(a,i,t,e,n,r)}return Zo}function QF(t,e,n,r){return xr(t,$l(),n)?e+Zn(n)+r:Kt}function YF(t,e,n,r,i,o){let s=Bb(),a=$m(t,s,n,i);return dm(2),a?e+Zn(n)+r+Zn(i)+o:Kt}function ZF(t,e,n,r,i,o,s,a){let u=Bb(),l=jF(t,u,n,i,s);return dm(3),l?e+Zn(n)+r+Zn(i)+o+Zn(s)+a:Kt}function ol(t,e){return t<<17|e<<2}function bi(t){return t>>17&32767}function JF(t){return(t&2)==2}function XF(t,e){return t&131071|e<<17}function qg(t){return t|2}function Bo(t){return(t&131068)>>2}function Xp(t,e){return t&-131069|e<<2}function eL(t){return(t&1)===1}function zg(t){return t|1}function tL(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=bi(s),u=Bo(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Va(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let y=bi(t[a+1]);t[r+1]=ol(y,a),y!==0&&(t[y+1]=Xp(t[y+1],r)),t[a+1]=XF(t[a+1],r)}else t[r+1]=ol(a,0),a!==0&&(t[a+1]=Xp(t[a+1],r)),a=r;else t[r+1]=ol(u,0),a===0?a=r:t[u+1]=Xp(t[u+1],r),u=r;l&&(t[r+1]=qg(t[r+1])),GD(t,h,r,!0),GD(t,h,r,!1),nL(e,h,t,r,o),s=ol(a,u),o?e.classBindings=s:e.styleBindings=s}function nL(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Va(o,e)>=0&&(n[r+1]=zg(n[r+1]))}function GD(t,e,n,r){let i=t[n+1],o=e===null,s=r?bi(i):Bo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];rL(u,e)&&(a=!0,t[s+1]=r?zg(l):qg(l)),s=r?bi(l):Bo(l)}a&&(t[n+1]=r?qg(i):zg(i))}function rL(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Va(t,e)>=0:!1}function iL(t,e,n){let r=he(),i=$l();if(xr(r,i,e)){let o=ze(),s=gm();UT(o,s,r,t,e,r[Be],n,!1)}return iL}function WD(t,e,n,r,i){Pm(e,t,n,i?"class":"style",r)}function td(t,e){return oL(t,e,null,!0),td}function oL(t,e,n,r){let i=he(),o=ze(),s=dm(2);if(o.firstUpdatePass&&aL(o,t,s,r),e!==Kt&&xr(i,s,e)){let a=o.data[Fr()];hL(o,a,i,i[Be],t,i[s+1]=fL(e,n),r,s)}}function sL(t,e){return e>=t.expandoStartIndex}function aL(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Fr()],s=sL(t,n);pL(o,r)&&e===null&&!s&&(e=!1),e=cL(i,o,e,r),tL(i,o,e,n,s,r)}}function cL(t,e,n,r){let i=Ix(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=eg(null,t,e,n,r),n=Fa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=eg(i,t,e,n,r),o===null){let u=uL(t,e,r);u!==void 0&&Array.isArray(u)&&(u=eg(null,t,e,u[1],r),u=Fa(u,e.attrs,r),lL(t,e,r,u))}else o=dL(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function uL(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Bo(r)!==0)return t[bi(r)]}function lL(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[bi(i)]=r}function dL(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Fa(r,s,n)}return Fa(r,e.attrs,n)}function eg(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Fa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Fa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),jk(t,s,n?!0:e[++o]))}return t===void 0?null:t}function hL(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=eL(l)?KD(u,e,n,i,Bo(l),s):void 0;if(!Pl(h)){Pl(o)||JF(l)&&(o=KD(u,null,n,i,a,s));let p=Nb(Fr(),n);_1(r,s,p,i,o)}}function KD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,y=n[i+1];y===Kt&&(y=p?zt:void 0);let m=p?qp(y,r):h===r?y:void 0;if(l&&!Pl(m)&&(m=qp(u,r)),Pl(m)&&(a=m,s))return a;let D=t[i+1];i=s?bi(D):Bo(D)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=qp(u,r))}return a}function Pl(t){return t!==void 0}function fL(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=At(Wl(t)))),t}function pL(t,e){return(t.flags&(e?8:16))!==0}function SC(t,e,n,r){let i=he(),o=ze(),s=_t+t,a=i[Be],u=o.firstCreatePass?cC(s,o,i,e,Nm,cm(),n,r):o.data[s],l=gL(o,i,u,a,e,t);i[s]=l;let h=Ul(u);return Si(u,!0),OT(a,l,u),!Om(u)&&Hl()&&Yl(o,i,l,u),(lx()===0||h)&&Qo(l,i),dx(),h&&(Ql(o,i,u),bm(o,u,i)),r!==null&&Mm(i,u),SC}function AC(){let t=ht();um()?lm():(t=t.parent,Si(t,!1));let e=t;fx(e)&&px(),hx();let n=ze();return n.firstCreatePass&&uC(n,e),e.classesWithoutHost!=null&&Sx(e)&&WD(n,e,he(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ax(e)&&WD(n,e,he(),e.stylesWithoutHost,!1),AC}function qm(t,e,n,r){return SC(t,e,n,r),AC(),qm}var gL=(t,e,n,r,i,o)=>(ql(!0),kT(r,i,bx()));function mL(t,e,n,r,i){let o=e.consts,s=Lo(o,r),a=Ba(e,t,8,"ng-container",s);s!==null&&xg(a,s,!0);let u=Lo(o,i);return cm()&&jm(e,n,a,u,Nm),a.mergedAttrs=Vo(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function RC(t,e,n){let r=he(),i=ze(),o=t+_t,s=i.firstCreatePass?mL(o,i,r,e,n):i.data[o];Si(s,!0);let a=vL(i,r,s,t);return r[o]=a,Hl()&&Yl(i,r,a,s),Qo(a,r),Ul(s)&&(Ql(i,r,s),bm(i,s,r)),n!=null&&Mm(r,s),RC}function MC(){let t=ht(),e=ze();return um()?lm():(t=t.parent,Si(t,!1)),e.firstCreatePass&&(mm(e,t),im(t)&&e.queries.elementEnd(t)),MC}function yL(t,e,n){return RC(t,e,n),MC(),yL}var vL=(t,e,n,r)=>(ql(!0),UO(e[Be],""));function tK(){return he()}var ui=void 0;function _L(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return e===1&&n===0?1:5}var EL=["en",[["a","p"],["AM","PM"],ui],[["AM","PM"],ui,ui],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ui,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ui,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ui,"{1} 'at' {0}",ui],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_L],Ra={};function NC(t,e,n){typeof e!="string"&&(n=e,e=t[Or.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Ra[e]=t,n&&(Ra[e][Or.ExtraData]=n)}function zm(t){let e=IL(t),n=QD(e);if(n)return n;let r=e.split("-")[0];if(n=QD(r),n)return n;if(r==="en")return EL;throw new q(701,!1)}function QD(t){return t in Ra||(Ra[t]=di.ng&&di.ng.common&&di.ng.common.locales&&di.ng.common.locales[t]),Ra[t]}var Or=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Or||{});function IL(t){return t.toLowerCase().replace(/_/g,"-")}var kl="en-US";var wL=kl;function DL(t){typeof t=="string"&&(wL=t.toLowerCase().replace(/_/g,"-"))}function YD(t,e,n){return function r(i){if(i===Function)return n;let o=Ho(t)?In(t.index,e):e;Vm(o,5);let s=e[Rt],a=ZD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=ZD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function ZD(t,e,n,r){let i=pe(null);try{return Te(6,e,n),n(r)!==!1}catch(o){return bL(t,o),!1}finally{Te(7,e,n),pe(i)}}function bL(t,e){let n=t[mi],r=n?n.get(wn,null):null;r&&r.handleError(e)}function JD(t,e,n,r,i,o){let s=e[n],a=e[ae],l=a.data[n].outputs[r],h=s[l],p=a.firstCreatePass?am(a):null,y=sm(e),m=h.subscribe(o),D=y.length;y.push(o,m),p&&p.push(i,t.index,D,-(D+1))}var TL=new Map;function Qt(t,e,n,r){let i=he(),o=ze(),s=ht();return PC(o,i,i[Be],s,t,e,r),Qt}function CL(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ko],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function PC(t,e,n,r,i,o,s){var y,m;let a=Ul(r),l=t.firstCreatePass?am(t):null,h=sm(e),p=!0;if(r.type&3||s){let D=Cn(r,e),S=s?s(D):D,M=h.length,O=s?G=>s(En(G[r.index])):r.index,j=null;if(!s&&a&&(j=CL(t,e,i,r.index)),j!==null){let G=j.__ngLastListenerFn__||j;G.__ngNextListenerFn__=o,j.__ngLastListenerFn__=o,p=!1}else{o=YD(r,e,o);let G=e[mi].get(Gl),ne=TL.get(G);ne==null||ne(S,i,o);let we=n.listen(S,i,o);h.push(o,we),l&&l.push(i,O,M,M+1)}}else o=YD(r,e,o);if(p){let D=(y=r.outputs)==null?void 0:y[i],S=(m=r.hostDirectiveOutputs)==null?void 0:m[i];if(S&&S.length)for(let M=0;M<S.length;M+=2){let O=S[M],j=S[M+1];JD(r,e,O,j,i,o)}if(D&&D.length)for(let M of D)JD(r,e,M,i,i,o)}}function nK(t=1){return Dx(t)}function SL(t,e){let n=null,r=NO(t);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){n=i;continue}if(r===null?PT(t,o,!0):xO(r,o))return i}return n}function rK(t){let e=he()[Wt][Mt];if(!e.projection){let n=t?t.length:1,r=e.projection=Lk(n,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=t?SL(o,t):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function iK(t,e=0,n,r,i,o){let s=he(),a=ze(),u=r?t+1:null;u!==null&&IC(s,a,u,r,i,o,null,n);let l=Ba(a,_t+t,16,null,n||null);l.projection===null&&(l.projection=e),lm();let p=!s[Pa]||Lb();s[Wt][Mt].projection[l.projection]===null&&u!==null?AL(s,a,u):p&&!Om(l)&&y1(a,s,l)}function AL(t,e,n){let r=_t+n,i=e.data[r],o=t[r],s=Ng(o,i.tView.ssrId),a=BT(t,i,void 0,{dehydratedView:s});rC(o,a,0,Sg(i,s))}function Ha(t,e,n,r){EF(t,e,n,r)}function kC(t,e,n){_F(t,e,n)}function Jo(t){let e=he(),n=ze(),r=$b();hm(r+1);let i=Um(n,r);if(t.dirty&&ox(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=DF(e,r);t.reset(o,Zx),t.notifyOnChanges()}return!0}return!1}function Xo(){return vF(he(),$b())}function RL(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function oK(t){let e=mx();return kb(e,_t+t)}function sK(t,e=""){let n=he(),r=ze(),i=t+_t,o=r.firstCreatePass?Ba(r,i,1,e,null):r.data[i],s=ML(r,n,o,e,t);n[i]=s,Hl()&&Yl(r,n,s,o),Si(o,!1)}var ML=(t,e,n,r,i)=>(ql(!0),VO(e[Be],r));function NL(t){return xC("",t,""),NL}function xC(t,e,n){let r=he(),i=QF(r,t,e,n);return i!==Kt&&Gm(r,Fr(),i),xC}function PL(t,e,n,r,i){let o=he(),s=YF(o,t,e,n,r,i);return s!==Kt&&Gm(o,Fr(),s),PL}function kL(t,e,n,r,i,o,s){let a=he(),u=ZF(a,t,e,n,r,i,o,s);return u!==Kt&&Gm(a,Fr(),u),kL}function Gm(t,e,n){let r=Nb(e,t);jO(t[Be],r,n)}function xL(t,e,n){pT(e)&&(e=e());let r=he(),i=$l();if(xr(r,i,e)){let o=ze(),s=gm();UT(o,s,r,t,e,r[Be],n,!1)}return xL}function aK(t,e){let n=pT(t);return n&&t.set(e),n}function OL(t,e){let n=he(),r=ze(),i=ht();return PC(r,n,n[Be],i,t,e),OL}function FL(t,e,n){let r=ze();if(r.firstCreatePass){let i=_n(t);Gg(n,r.data,r.blueprint,i,!0),Gg(e,r.data,r.blueprint,i,!1)}}function Gg(t,e,n,r,i){if(t=vt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gg(t[o],e,n,r,i);else{let o=ze(),s=he(),a=ht(),u=Oo(t)?t:vt(t.provide),l=Db(t),h=a.providerIndexes&1048575,p=a.directiveStart,y=a.providerIndexes>>20;if(Oo(t)||!t.multi){let m=new Ii(l,i,L),D=ng(u,e,i?h:h+y,p);D===-1?(gg(Dl(a,s),o,u),tg(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(m),s.push(m)):(n[D]=m,s[D]=m)}else{let m=ng(u,e,h+y,p),D=ng(u,e,h,h+y),S=m>=0&&n[m],M=D>=0&&n[D];if(i&&!M||!i&&!S){gg(Dl(a,s),o,u);let O=jL(i?VL:LL,n.length,i,r,l);!i&&M&&(n[D].providerFactory=O),tg(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(O),s.push(O)}else{let O=OC(n[i?D:m],l,!i&&r);tg(o,t,m>-1?m:D,O)}!i&&r&&M&&n[D].componentProviders++}}}function tg(t,e,n,r){let i=Oo(e),o=Wk(e);if(i||o){let u=(o?vt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function OC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ng(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function LL(t,e,n,r){return Wg(this.multi,[])}function VL(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=xa(n,n[ae],this.providerFactory.index,r);o=a.slice(0,s),Wg(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Wg(i,o);return o}function Wg(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function jL(t,e,n,r,i){let o=new Ii(t,n,L);return o.multi=[],o.index=e,o.componentProviders=0,OC(o,i,r&&!n),o}function Ni(t,e=[]){return n=>{n.providersResolver=(r,i)=>FL(r,i?i(t):t,e)}}function cK(t,e,n){let r=Ub()+t,i=he();return i[r]===Kt?EC(i,r,n?e.call(n):e()):VF(i,r)}function UL(t,e){let n=t[e];return n===Kt?void 0:n}function BL(t,e,n,r,i,o,s){let a=e+n;return $m(t,a,i,o)?EC(t,a+2,s?r.call(s,i,o):r(i,o)):UL(t,a+2)}function uK(t,e){var u;let n=ze(),r,i=t+_t;n.firstCreatePass?(r=$L(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&((u=n.destroyHooks)!=null?u:n.destroyHooks=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=pi(r.type,!0)),s,a=St(L);try{let l=wl(!1),h=o();return wl(l),RL(n,he(),i,h),h}finally{St(a)}}function $L(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function lK(t,e,n,r){let i=t+_t,o=he(),s=kb(o,i);return HL(o,i)?BL(o,Ub(),e,s.transform,n,r,s):s.transform(n,r)}function HL(t,e){return t[ae].data[e].pure}function dK(t,e){return Jl(t,e)}var Ti=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},FC=new Ti("19.2.9"),Kg=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},LC=(()=>{let e=class e{compileModuleSync(r){return new $g(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=_b(r),s=MT(o.declarations).reduce((a,u)=>{let l=kr(u);return l&&a.push(new Di(l)),a},[]);return new Kg(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();var qL=(()=>{let e=class e{zone=P(de);changeDetectionScheduler=P(wi);applicationRef=P(er);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var r;(r=this._onMicrotaskEmptySubscription)==null||r.unsubscribe()}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();function zL({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t!=null||(t=()=>new de(ee(F({},GL()),{scheduleInRootZone:n}))),[{provide:de,useFactory:t},{provide:Ma,multi:!0,useFactory:()=>{let r=P(qL,{optional:!0});return()=>r.initialize()}},{provide:Ma,multi:!0,useFactory:()=>{let r=P(WL);return()=>{r.initialize()}}},e===!0?{provide:uT,useValue:!0}:[],{provide:lT,useValue:n!=null?n:aT}]}function GL(t){var e,n;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:(e=t==null?void 0:t.eventCoalescing)!=null?e:!1,shouldCoalesceRunChangeDetection:(n=t==null?void 0:t.runCoalescing)!=null?n:!1}}var WL=(()=>{let e=class e{subscription=new Le;initialized=!1;zone=P(de);pendingTasks=P(Ri);initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),r!=null||(r=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();var KL=(()=>{var e,n,r;let i=class i{appRef=P(er);taskService=P(Ri);ngZone=P(de);zonelessEnabled=P(cT);tracing=P(Yo,{optional:!0});disableScheduling=(e=P(uT,{optional:!0}))!=null?e:!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?(n=this.ngZone._inner)==null?void 0:n.get(Tl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&((r=P(lT,{optional:!0}))!=null?r:!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof Eg||!this.zoneIsDefined))}notify(s){var l,h;if(!this.zonelessEnabled&&s===5)return;let a=!1;switch(s){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,a=!0;break}case 12:{this.appRef.dirtyFlags|=16,a=!0;break}case 13:{this.appRef.dirtyFlags|=2,a=!0;break}case 11:{a=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=(h=(l=this.tracing)==null?void 0:l.snapshot(this.appRef.tracingSnapshot))!=null?h:null,!this.shouldScheduleTick(a))return;let u=this.useMicrotaskScheduler?ND:dT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>u(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>u(()=>this.tick()))}shouldScheduleTick(s){return!(this.disableScheduling&&!s||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Tl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let s=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(s),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ND(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(s)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var s;if(this.runningTick=!1,(s=this.cancelScheduledCallback)==null||s.call(this),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}};w(i,"\u0275fac",function(a){return new(a||i)}),w(i,"\u0275prov",B({token:i,factory:i.\u0275fac,providedIn:"root"}));let t=i;return t})();function QL(){return typeof $localize<"u"&&$localize.locale||kl}var nd=new $("",{providedIn:"root",factory:()=>P(nd,se.Optional|se.SkipSelf)||QL()});var Qg=new $(""),YL=new $("");function Ta(t){return!t.moduleRef}function ZL(t){let e=Ta(t)?t.r3Injector:t.moduleRef.injector,n=e.get(de);return n.run(()=>{Ta(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(wn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),Ta(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Qg);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Qg);s.add(o),t.moduleRef.onDestroy(()=>{ll(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return XL(r,n,()=>{let o=e.get(CC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(nd,kl);if(DL(s||kl),!e.get(YL,!0))return Ta(t)?e.get(er):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ta(t)){let u=e.get(er);return t.rootComponent!==void 0&&u.bootstrap(t.rootComponent),u}else return JL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function JL(t,e){let n=t.injector.get(er);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new q(-403,!1);e.push(t)}function XL(t,e,n){try{let r=n();return Mi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var dl=null;function eV(t=[],e){return ke.create({name:e,providers:[{provide:Ll,useValue:"platform"},{provide:Qg,useValue:new Set([()=>dl=null])},...t]})}function tV(t=[]){if(dl)return dl;let e=eV(t);return dl=e,zF(),nV(e),e}function nV(t){let e=t.get(Em,null);dt(t,()=>{e==null||e.forEach(n=>n())})}function Wm(){return!1}var Ft=(()=>{class t{}return w(t,"__NG_ELEMENT_ID__",rV),t})();function rV(t){return iV(ht(),he(),(t&16)===16)}function iV(t,e,n){if(Ho(t)&&!n){let r=In(t.index,e);return new Oa(r,r)}else if(t.type&175){let r=e[Wt];return new Oa(r,e)}return null}var Yg=class{constructor(){}supports(e){return _C(e)}create(e){return new Zg(e)}},oV=(t,e)=>e,Zg=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||oV}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<XD(r,i,o)?n:r,a=XD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let y=0;y<l;y++){let m=y<o.length?o[y]:o[y]=0,D=m+y;h<=D&&D<l&&(o[y]=m+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!_C(e))throw new q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,FF(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Jg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new xl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new xl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Jg=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Xg=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},xl=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Xg,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function XD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function eb(){return new Km([new Yg])}var Km=(()=>{let e=class e{factories;constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||eb()),deps:[[e,new xk,new nr]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new q(901,!1)}};w(e,"\u0275prov",B({token:e,providedIn:"root",factory:eb}));let t=e;return t})();function VC(t){Te(8);try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=tV(r),o=[zL({}),{provide:wi,useExisting:KL},...n||[]],s=new Nl({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return ZL({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{Te(9)}}function Pi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function An(t){return Cp(t)}function es(t,e){return wp(t,e==null?void 0:e.equal)}var tb=class{[qt];constructor(e){this[qt]=e}destroy(){this[qt].destroy()}};function jC(t,e){let n=kr(t),r=e.elementInjector||Vl();return new Di(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}function rd(t){let e=kr(t);if(!e)return null;let n=new Di(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var UC=()=>{};var $C=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},id={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,y=(a&15)<<2|l>>6,m=l&63;u||(m=64,s||(y=64)),r.push(n[h],n[p],n[y],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($C(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Ym;let y=o<<2|a>>4;if(r.push(y),l!==64){let m=a<<4&240|l>>2;if(r.push(m),p!==64){let D=l<<6&192|p;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ym=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},aV=function(t){let e=$C(t);return id.encodeByteArray(e,!0)},qa=function(t){return aV(t).replace(/\./g,"")},od=function(t){try{return id.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cV=()=>Jm().__FIREBASE_DEFAULTS__,uV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&od(t[1]);return e&&JSON.parse(e)},sd=()=>{try{return UC()||cV()||uV()||lV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HC=t=>{var e,n;return(n=(e=sd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},qC=t=>{let e=HC(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Xm=()=>{var t;return(t=sd())===null||t===void 0?void 0:t.config},zC=t=>{var e;return(e=sd())===null||e===void 0?void 0:e[`_${t}`]};var ki=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function GC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[qa(JSON.stringify(n)),qa(JSON.stringify(s)),""].join(".")}function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function dV(){var t;let e=(t=sd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function YC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZC(){return!dV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function za(){try{return typeof indexedDB=="object"}catch{return!1}}function JC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var hV="FirebaseError",Yt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cn.prototype.create)}},cn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?fV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Yt(i,a,r)}};function fV(t,e){return t.replace(pV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pV=/\{\$([^}]+)}/g;function xi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(BC(o)&&BC(s)){if(!xi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function BC(t){return t!==null&&typeof t=="object"}function ey(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function XC(t,e){let n=new Zm(t,e);return n.subscribe.bind(n)}var Zm=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qm),i.error===void 0&&(i.error=Qm),i.complete===void 0&&(i.complete=Qm);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qm(){}var gK=4*60*60*1e3;function rt(t){return t&&t._delegate?t._delegate:t}var It=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Oi="[DEFAULT]";var ty=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ki;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yV(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mV(t){return t===Oi?void 0:t}function yV(t){return t.instantiationMode==="EAGER"}var ad=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new ty(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vV=[],fe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(fe||{}),_V={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},EV=fe.INFO,IV={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},wV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=IV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Mn=class{constructor(e){this.name=e,this._logLevel=EV,this._logHandler=wV,this._userLogHandler=null,vV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_V[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var DV=(t,e)=>e.some(n=>t instanceof n),eS,tS;function bV(){return eS||(eS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TV(){return tS||(tS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var nS=new WeakMap,ry=new WeakMap,rS=new WeakMap,ny=new WeakMap,oy=new WeakMap;function CV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Nn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&nS.set(n,t)}).catch(()=>{}),oy.set(e,t),e}function SV(t){if(ry.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ry.set(t,e)}var iy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iS(t){iy=t(iy)}function AV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(cd(this),e,...n);return rS.set(r,e.sort?e.sort():[e]),Nn(r)}:TV().includes(t)?function(...e){return t.apply(cd(this),e),Nn(nS.get(this))}:function(...e){return Nn(t.apply(cd(this),e))}}function RV(t){return typeof t=="function"?AV(t):(t instanceof IDBTransaction&&SV(t),DV(t,bV())?new Proxy(t,iy):t)}function Nn(t){if(t instanceof IDBRequest)return CV(t);if(ny.has(t))return ny.get(t);let e=RV(t);return e!==t&&(ny.set(t,e),oy.set(e,t)),e}var cd=t=>oy.get(t);function sS(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Nn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Nn(s.result),u.oldVersion,u.newVersion,Nn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var MV=["get","getKey","getAll","getAllKeys","count"],NV=["put","add","delete","clear"],sy=new Map;function oS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sy.get(e))return sy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=NV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MV.includes(n)))return;let o=function(s,...a){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return sy.set(e,o),o}iS(t=>ee(F({},t),{get:(e,n,r)=>oS(e,n)||t.get(e,n,r),has:(e,n)=>!!oS(e,n)||t.has(e,n)}));var cy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PV(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function PV(t){let e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}var uy="@firebase/app",aS="0.11.5";var or=new Mn("@firebase/app"),kV="@firebase/app-compat",xV="@firebase/analytics-compat",OV="@firebase/analytics",FV="@firebase/app-check-compat",LV="@firebase/app-check",VV="@firebase/auth",jV="@firebase/auth-compat",UV="@firebase/database",BV="@firebase/data-connect",$V="@firebase/database-compat",HV="@firebase/functions",qV="@firebase/functions-compat",zV="@firebase/installations",GV="@firebase/installations-compat",WV="@firebase/messaging",KV="@firebase/messaging-compat",QV="@firebase/performance",YV="@firebase/performance-compat",ZV="@firebase/remote-config",JV="@firebase/remote-config-compat",XV="@firebase/storage",ej="@firebase/storage-compat",tj="@firebase/firestore",nj="@firebase/vertexai",rj="@firebase/firestore-compat",ij="firebase",oj="11.6.1";var ly="[DEFAULT]",sj={[uy]:"fire-core",[kV]:"fire-core-compat",[OV]:"fire-analytics",[xV]:"fire-analytics-compat",[LV]:"fire-app-check",[FV]:"fire-app-check-compat",[VV]:"fire-auth",[jV]:"fire-auth-compat",[UV]:"fire-rtdb",[BV]:"fire-data-connect",[$V]:"fire-rtdb-compat",[HV]:"fire-fn",[qV]:"fire-fn-compat",[zV]:"fire-iid",[GV]:"fire-iid-compat",[WV]:"fire-fcm",[KV]:"fire-fcm-compat",[QV]:"fire-perf",[YV]:"fire-perf-compat",[ZV]:"fire-rc",[JV]:"fire-rc-compat",[XV]:"fire-gcs",[ej]:"fire-gcs-compat",[tj]:"fire-fst",[rj]:"fire-fst-compat",[nj]:"fire-vertex","fire-js":"fire-js",[ij]:"fire-js-all"};var Ga=new Map,aj=new Map,dy=new Map;function cS(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function un(t){let e=t.name;if(dy.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(let n of Ga.values())cS(n,t);for(let n of aj.values())cS(n,t);return!0}function ud(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function sr(t){return t==null?!1:t.settings!==void 0}var cj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jr=new cn("app","Firebase",cj);var hy=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jr.create("app-deleted",{appName:this._name})}};var ts=oj;function gy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ly,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jr.create("bad-app-name",{appName:String(i)});if(n||(n=Xm()),!n)throw jr.create("no-options");let o=Ga.get(i);if(o){if(xi(n,o.options)&&xi(r,o.config))return o;throw jr.create("duplicate-app",{appName:i})}let s=new ad(i);for(let u of dy.values())s.addComponent(u);let a=new hy(n,r,s);return Ga.set(i,a),a}function ns(t=ly){let e=Ga.get(t);if(!e&&t===ly&&Xm())return gy();if(!e)throw jr.create("no-app",{appName:t});return e}function ld(){return Array.from(Ga.values())}function $e(t,e,n){var r;let i=(r=sj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(a.join(" "));return}un(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var uj="firebase-heartbeat-database",lj=1,Wa="firebase-heartbeat-store",ay=null;function hS(){return ay||(ay=sS(uj,lj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wa)}catch(n){console.warn(n)}}}}).catch(t=>{throw jr.create("idb-open",{originalErrorMessage:t.message})})),ay}function dj(t){return C(this,null,function*(){try{let n=(yield hS()).transaction(Wa),r=yield n.objectStore(Wa).get(fS(t));return yield n.done,r}catch(e){if(e instanceof Yt)or.warn(e.message);else{let n=jr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(n.message)}}})}function uS(t,e){return C(this,null,function*(){try{let r=(yield hS()).transaction(Wa,"readwrite");yield r.objectStore(Wa).put(e,fS(t)),yield r.done}catch(n){if(n instanceof Yt)or.warn(n.message);else{let r=jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(r.message)}}})}function fS(t){return`${t.name}!${t.options.appId}`}var hj=1024,fj=30,fy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new py(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=lS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>fj){let s=gj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){or.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=lS(),{heartbeatsToSend:r,unsentEntries:i}=pj(this._heartbeatsCache.heartbeats),o=qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return or.warn(n),""}})}};function lS(){return new Date().toISOString().substring(0,10)}function pj(t,e=hj){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),dS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var py=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return za()?JC().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return uS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function dS(t){return qa(JSON.stringify({version:2,heartbeats:t})).length}function gj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function mj(t){un(new It("platform-logger",e=>new cy(e),"PRIVATE")),un(new It("heartbeat",e=>new fy(e),"PRIVATE")),$e(uy,aS,t),$e(uy,aS,"esm2017"),$e("fire-js","")}mj("");var yj="firebase",vj="11.6.1";$e(yj,vj,"app");function my(t){t===void 0&&(rm(my),t=P(ke));let e=t.get(zl);return n=>new re(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Li=new Ti("ANGULARFIRE2_VERSION");function hd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var is=(t,e)=>{let n=e?[e]:ld(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},rs=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(rs||{}),pS=Wm()&&typeof Zone<"u"?rs.WARN:rs.SILENT;var dd=class{zone;delegate;constructor(e,n=Vp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Vi=(()=>{let e=class e{outsideAngular;insideAngular;constructor(){let r=P(de);this.outsideAngular=r.runOutsideAngular(()=>new dd(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=r.run(()=>new dd(typeof Zone>"u"?void 0:Zone.current,Lp))}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),gS=!1;function _j(t,e){!gS&&(pS>rs.SILENT||Wm())&&(gS=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),pS>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function Ej(t){let e=P(de,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Fi(t){let e=P(de,{optional:!0});return e?e.run(()=>t()):t()}var Ij=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),dt(n,()=>Fi(()=>t.apply(void 0,r)))),wt=(t,e,n)=>(n||(n=e?rs.WARN:rs.VERBOSE),function(){let r,i=arguments,o,s,a;try{o=P(Vi),s=P(zl),a=P(qe)}catch{return _j(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||(r=Fi(()=>s.add()))),i[l]=Ij(i[l],r,a));let u=Ej(()=>t.apply(this,i));return e?u instanceof re?u.pipe(Cr(o.outsideAngular),Tr(o.insideAngular),my(a)):u instanceof Promise?Fi(()=>new Promise((l,h)=>{s.run(()=>u).then(p=>dt(a,()=>Fi(()=>l(p))),p=>dt(a,()=>Fi(()=>h(p))))})):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Fi(()=>u):u instanceof re?u.pipe(Cr(o.outsideAngular),Tr(o.insideAngular)):Fi(()=>u)});var ji=class{constructor(e){return e}},Ka=class{constructor(){return ld()}};function wj(t){return t&&t.length===1?t[0]:new ji(ns())}var yy=new $("angularfire2._apps"),Dj={provide:ji,useFactory:wj,deps:[[new nr,yy]]},bj={provide:Ka,deps:[[new nr,yy]]};function Tj(t){return(e,n)=>{let r=n.get(Lr);$e("angularfire",Li.full,"core"),$e("angularfire",Li.full,"app"),$e("angular",FC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new ji(i)}}function f7(t,...e){return Ci([Dj,bj,{provide:yy,useFactory:Tj(t),multi:!0,deps:[de,ke,Vi,...e]}])}var p7=wt(gy,!0);var Ge=new $("");var fd=null;function Zt(){return fd}function vy(t){fd!=null||(fd=t)}var Qa=class{},Ya=(()=>{let e=class e{historyGo(r){throw new Error("")}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:()=>P(vS),providedIn:"platform"}));let t=e;return t})(),_y=new $(""),vS=(()=>{let e=class e extends Ya{_location;_history;_doc=P(Ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zt().getBaseHref(this._doc)}onPopState(r){let i=Zt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Zt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:()=>new e,providedIn:"platform"}));let t=e;return t})();function pd(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function mS(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function ln(t){return t&&t[0]!=="?"?`?${t}`:t}var Nt=(()=>{let e=class e{historyGo(r){throw new Error("")}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:()=>P(md),providedIn:"root"}));let t=e;return t})(),gd=new $(""),md=(()=>{let e=class e extends Nt{_platformLocation;_baseHref;_removeListenerFns=[];constructor(r,i){var o,s,a;super(),this._platformLocation=r,this._baseHref=(a=(s=i!=null?i:this._platformLocation.getBaseHrefFromDOM())!=null?s:(o=P(Ge).location)==null?void 0:o.origin)!=null?a:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return pd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ln(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ln(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ln(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;(o=(i=this._platformLocation).historyGo)==null||o.call(i,r)}};w(e,"\u0275fac",function(i){return new(i||e)(z(Ya),z(gd,8))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),dn=(()=>{let e=class e{_subject=new be;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(r){this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=Aj(mS(yS(i))),this._locationStrategy.onPopState(o=>{this._subject.next({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){var r;(r=this._urlChangeSubscription)==null||r.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ln(i))}normalize(r){return e.stripTrailingSlash(Sj(this._basePath,yS(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ln(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ln(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){var i,o;(o=(i=this._locationStrategy).historyGo)==null||o.call(i,r)}onUrlChange(r){var i;return this._urlChangeListeners.push(r),(i=this._urlChangeSubscription)!=null||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)})),()=>{var s;let o=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(o,1),this._urlChangeListeners.length===0&&((s=this._urlChangeSubscription)==null||s.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i!=null?i:void 0,complete:o!=null?o:void 0})}};w(e,"normalizeQueryParams",ln),w(e,"joinWithSlash",pd),w(e,"stripTrailingSlash",mS),w(e,"\u0275fac",function(i){return new(i||e)(z(Nt))}),w(e,"\u0275prov",B({token:e,factory:()=>Cj(),providedIn:"root"}));let t=e;return t})();function Cj(){return new dn(z(Nt))}function Sj(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function yS(t){return t.replace(/\/index.html$/,"")}function Aj(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var wy=(()=>{let e=class e extends Nt{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(r,i){super(),this._platformLocation=r,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){var o;let i=(o=this._platformLocation.hash)!=null?o:"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=pd(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+ln(s))||this._platformLocation.pathname;this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+ln(s))||this._platformLocation.pathname;this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){var i,o;(o=(i=this._platformLocation).historyGo)==null||o.call(i,r)}};w(e,"\u0275fac",function(i){return new(i||e)(z(Ya),z(gd,8))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})();var Dy=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(Dy||{});var Pn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function os(t,e){let n=zm(t),r=n[Or.NumberSymbols][e];if(typeof r>"u"){if(e===Pn.CurrencyDecimal)return n[Or.NumberSymbols][Pn.Decimal];if(e===Pn.CurrencyGroup)return n[Or.NumberSymbols][Pn.Group]}return r}function wS(t,e){return zm(t)[Or.NumberFormats][e]}var Rj=/^(\d+)?\.((\d+)(-(\d+))?)?$/,_S=22,yd=".",Za="0",Mj=";",Nj=",",Ey="#";function Pj(t,e,n,r,i,o,s=!1){let a="",u=!1;if(!isFinite(t))a=os(n,Pn.Infinity);else{let l=Oj(t);s&&(l=xj(l));let h=e.minInt,p=e.minFrac,y=e.maxFrac;if(o){let j=o.match(Rj);if(j===null)throw new Error(`${o} is not a valid digit info`);let G=j[1],ne=j[3],we=j[5];G!=null&&(h=Iy(G)),ne!=null&&(p=Iy(ne)),we!=null?y=Iy(we):ne!=null&&p>y&&(y=p)}Fj(l,p,y);let m=l.digits,D=l.integerLen,S=l.exponent,M=[];for(u=m.every(j=>!j);D<h;D++)m.unshift(0);for(;D<0;D++)m.unshift(0);D>0?M=m.splice(D,m.length):(M=m,m=[0]);let O=[];for(m.length>=e.lgSize&&O.unshift(m.splice(-e.lgSize,m.length).join(""));m.length>e.gSize;)O.unshift(m.splice(-e.gSize,m.length).join(""));m.length&&O.unshift(m.join("")),a=O.join(os(n,r)),M.length&&(a+=os(n,i)+M.join("")),S&&(a+=os(n,Pn.Exponential)+"+"+S)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function DS(t,e,n){let r=wS(e,Dy.Decimal),i=kj(r,os(e,Pn.MinusSign));return Pj(t,i,e,Pn.Group,Pn.Decimal,n)}function kj(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(Mj),i=r[0],o=r[1],s=i.indexOf(yd)!==-1?i.split(yd):[i.substring(0,i.lastIndexOf(Za)+1),i.substring(i.lastIndexOf(Za)+1)],a=s[0],u=s[1]||"";n.posPre=a.substring(0,a.indexOf(Ey));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===Za?n.minFrac=n.maxFrac=h+1:p===Ey?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(Nj);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let h=i.length-n.posPre.length-n.posSuf.length,p=o.indexOf(Ey);n.negPre=o.substring(0,p).replace(/'/g,""),n.negSuf=o.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function xj(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function Oj(t){let e=Math.abs(t)+"",n=0,r,i,o,s,a;for((i=e.indexOf(yd))>-1&&(e=e.replace(yd,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===Za;o++);if(o===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===Za;)a--;for(i-=o,r=[],s=0;o<=a;o++,s++)r[s]=Number(e.charAt(o))}return i>_S&&(r=r.splice(0,_S-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function Fj(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,o=Math.min(Math.max(e,i),n),s=o+t.integerLen,a=r[s];if(s>0){r.splice(Math.max(t.integerLen,s));for(let p=s;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,s=o+1),r[0]=0;for(let p=1;p<s;p++)r[p]=0}if(a>=5)if(s-1<0){for(let p=0;p>s;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[s-1]++;for(;i<Math.max(0,o);i++)r.push(0);let u=o!==0,l=e+t.integerLen,h=r.reduceRight(function(p,y,m,D){return y=y+p,D[m]=y<10?y:y-10,u&&(D[m]===0&&m>=l?D.pop():u=!1),y>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Iy(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}var vd=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},bS=(()=>{let e=class e{_viewContainer;_template;_differs;set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new vd(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),ES(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);ES(s,o)})}static ngTemplateContextGuard(r,i){return!0}};w(e,"\u0275fac",function(i){return new(i||e)(L(sn),L(bn),L(Km))}),w(e,"\u0275dir",_e({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}));let t=e;return t})();function ES(t,e){t.context.$implicit=e.item}var Lj=(()=>{let e=class e{_viewContainer;_context=new _d;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(r,i){this._viewContainer=r,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){IS(r,!1),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){IS(r,!1),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};w(e,"ngIfUseIfTypeGuard"),w(e,"ngTemplateGuard_ngIf"),w(e,"\u0275fac",function(i){return new(i||e)(L(sn),L(bn))}),w(e,"\u0275dir",_e({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}));let t=e;return t})(),_d=class{$implicit=null;ngIf=null};function IS(t,e){if(t&&!t.createEmbeddedView)throw new q(2020,!1)}var Vj=(()=>{let e=class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(r){this._viewContainerRef=r}ngOnChanges(r){var i;if(this._shouldRecreateView(r)){let o=this._viewContainerRef;if(this._viewRef&&o.remove(o.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let s=this._createContextForwardProxy();this._viewRef=o.createEmbeddedView(this.ngTemplateOutlet,s,{injector:(i=this.ngTemplateOutletInjector)!=null?i:void 0})}}_shouldRecreateView(r){return!!r.ngTemplateOutlet||!!r.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(r,i,o)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,i,o):!1,get:(r,i,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,o)}})}};w(e,"\u0275fac",function(i){return new(i||e)(L(sn))}),w(e,"\u0275dir",_e({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Et]}));let t=e;return t})();function jj(t,e){return new q(2100,!1)}var Uj=(()=>{let e=class e{_locale;constructor(r){this._locale=r}transform(r,i,o){if(!Bj(r))return null;o||(o=this._locale);try{let s=$j(r);return DS(s,o,i)}catch(s){throw jj(e,s.message)}}};w(e,"\u0275fac",function(i){return new(i||e)(L(nd,16))}),w(e,"\u0275pipe",mC({name:"number",type:e,pure:!0}));let t=e;return t})();function Bj(t){return!(t==null||t===""||t!==t)}function $j(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var TS=(()=>{let e=class e{};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275mod",Sn({type:e})),w(e,"\u0275inj",Tn({}));let t=e;return t})();function by(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ty="browser",CS="server";function Ed(t){return t===CS}var Ja=class{};function nY(t,e,n){return NC(t,e,n)}var SS=(()=>{let e=class e{};w(e,"\u0275prov",B({token:e,providedIn:"root",factory:()=>new Cy(P(Ge),window)}));let t=e;return t})(),Cy=class{document;window;offset=()=>[0,0];constructor(e,n){this.document=e,this.window=n}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=Hj(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function Hj(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var qj=new Map,zj={activated:!1,tokenObservers:[]},Gj={initialized:!1,enabled:!1};function hn(t){return qj.get(t)||Object.assign({},zj)}function PS(){return Gj}var Wj="https://content-firebaseappcheck.googleapis.com/v1";var Kj="exchangeDebugToken",RS={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},fY=24*60*60*1e3;var Ry=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new ki,this.pending.promise.catch(n=>{}),yield Qj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ki,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Qj(t){return new Promise(e=>{setTimeout(e,t)})}var Yj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Ur=new cn("appCheck","AppCheck",Yj);function kS(t){if(!hn(t).activated)throw Ur.create("use-before-activation",{appName:t.name})}function xS(r,i){return C(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&(o["X-Firebase-Client"]=m)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(t,a)}catch(m){throw Ur.create("fetch-network-error",{originalErrorMessage:m==null?void 0:m.message})}if(u.status!==200)throw Ur.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(m){throw Ur.create("fetch-parse-error",{originalErrorMessage:m==null?void 0:m.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw Ur.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,y=Date.now();return{token:l.token,expireTimeMillis:y+p,issuedAtTimeMillis:y}})}function OS(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Wj}/projects/${n}/apps/${r}:${Kj}?key=${i}`,body:{debug_token:e}}}var Zj="firebase-app-check-database",Jj=1,My="firebase-app-check-store";var Id=null;function Xj(){return Id||(Id=new Promise((t,e)=>{try{let n=indexedDB.open(Zj,Jj);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Ur.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(My,{keyPath:"compositeKey"})}}}catch(n){e(Ur.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Id)}function eU(t,e){return tU(nU(t),e)}function tU(t,e){return C(this,null,function*(){let r=(yield Xj()).transaction(My,"readwrite"),o=r.objectStore(My).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Ur.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function nU(t){return`${t.options.appId}-${t.name}`}var Xa=new Mn("@firebase/app-check");function Sy(t,e){return za()?eU(t,e).catch(n=>{Xa.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function FS(){return PS().enabled}function LS(){return C(this,null,function*(){let t=PS();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var rU={error:"UNKNOWN_ERROR"};function iU(t){return id.encodeString(JSON.stringify(t),!1)}function Ny(t,e=!1,n=!1){return C(this,null,function*(){let r=t.app;kS(r);let i=hn(r),o=i.token,s;if(o&&!ec(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(ec(l)?o=l:yield Sy(r,void 0))}if(!e&&o&&ec(o))return{token:o.token};let a=!1;if(FS())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=xS(OS(r,yield LS()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield Sy(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xa.warn(l.message):n&&Xa.error(l),Ay(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield hn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Xa.warn(l.message):n&&Xa.error(l),s=l}let u;return o?s?ec(o)?u={token:o.token,internalError:s}:u=Ay(s):(u={token:o.token},i.token=o,yield Sy(r,o)):u=Ay(s),a&&cU(r,u),u})}function oU(t){return C(this,null,function*(){let e=t.app;kS(e);let{provider:n}=hn(e);if(FS()){let r=yield LS(),{token:i}=yield xS(OS(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function sU(t,e,n,r){let{app:i}=t,o=hn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ec(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),MS(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>MS(t))}function VS(t,e){let n=hn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function MS(t){let{app:e}=t,n=hn(e),r=n.tokenRefresher;r||(r=aU(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function aU(t){let{app:e}=t;return new Ry(()=>C(this,null,function*(){let n=hn(e),r;if(n.token?r=yield Ny(t,!0):r=yield Ny(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=hn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},RS.RETRIAL_MIN_WAIT,RS.RETRIAL_MAX_WAIT)}function cU(t,e){let n=hn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ec(t){return t.expireTimeMillis-Date.now()>0}function Ay(t){return{token:iU(rU),error:t}}var Py=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=hn(this.app);for(let n of e)VS(this.app,n.next);return Promise.resolve()}};function uU(t,e){return new Py(t,e)}function lU(t){return{getToken:e=>Ny(t,e),getLimitedUseToken:()=>oU(t),addTokenListener:e=>sU(t,"INTERNAL",e),removeTokenListener:e=>VS(t.app,e)}}var dU="@firebase/app-check",hU="0.8.13";var fU="app-check",NS="app-check-internal";function pU(){un(new It(fU,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return uU(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(NS).initialize()})),un(new It(NS,t=>{let e=t.getProvider("app-check").getImmediate();return lU(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$e(dU,hU)}pU();var gU="app-check";var wd=class{constructor(){return is(gU)}};var mU=["localhost","0.0.0.0","127.0.0.1"],CY=typeof window<"u"&&mU.includes(window.location.hostname);function GS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var WS=GS,KS=new cn("auth","Firebase",GS());var Cd=new Mn("@firebase/auth");function vU(t,...e){Cd.logLevel<=fe.WARN&&Cd.warn(`Auth (${ts}): ${t}`,...e)}function bd(t,...e){Cd.logLevel<=fe.ERROR&&Cd.error(`Auth (${ts}): ${t}`,...e)}function jS(t,...e){throw qy(t,...e)}function Hy(t,...e){return qy(t,...e)}function QS(t,e,n){let r=Object.assign(Object.assign({},WS()),{[e]:n});return new cn("auth","Firebase",r).create(e,{appName:t.name})}function Td(t){return QS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return KS.create(t,...e)}function Ee(t,e,...n){if(!t)throw qy(e,...n)}function tc(t){let e="INTERNAL ASSERTION FAILED: "+t;throw bd(e),new Error(e)}function Sd(t,e){t||tc(e)}function _U(){return US()==="http:"||US()==="https:"}function US(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function EU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_U()||QC()||"connection"in navigator)?navigator.onLine:!0}function IU(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var $i=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Sd(n>e,"Short delay should be less than long delay!"),this.isMobile=WC()||YC()}get(){return EU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function wU(t,e){Sd(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ad=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var DU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var bU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TU=new $i(3e4,6e4);function YS(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function kd(o,s,a,u){return C(this,arguments,function*(t,e,n,r,i={}){return ZS(t,i,()=>C(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=ey(Object.assign({key:t.config.apiKey},h)).slice(1),y=yield t._getAdditionalHeaders();y["Content-Type"]="application/json",t.languageCode&&(y["X-Firebase-Locale"]=t.languageCode);let m=Object.assign({method:e,headers:y},l);return KC()||(m.referrerPolicy="no-referrer"),Ad.fetch()(yield JS(t,t.config.apiHost,n,p),m)}))})}function ZS(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},DU),e);try{let i=new Oy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Dd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Dd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Dd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw QS(t,h,l);jS(t,h)}}catch(i){if(i instanceof Yt)throw i;jS(t,"network-request-failed",{message:String(i)})}})}function JS(t,e,n,r){return C(this,null,function*(){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?wU(t.config,i):`${t.config.apiScheme}://${i}`;return bU.includes(n)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Oy=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hy(this.auth,"network-request-failed")),TU.get())})}};function Dd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Hy(t,e,r);return i.customData._tokenResponse=n,i}function CU(t,e){return C(this,null,function*(){return kd(t,"POST","/v1/accounts:delete",e)})}function Rd(t,e){return C(this,null,function*(){return kd(t,"POST","/v1/accounts:lookup",e)})}function nc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function zy(t,e=!1){return C(this,null,function*(){let n=rt(t),r=yield n.getIdToken(e),i=XS(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:nc(ky(i.auth_time)),issuedAtTime:nc(ky(i.iat)),expirationTime:nc(ky(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}})}function ky(t){return Number(t)*1e3}function XS(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bd("JWT malformed, contained fewer than 3 sections"),null;try{let i=od(n);return i?JSON.parse(i):(bd("Failed to decode base64 JWT payload"),null)}catch(i){return bd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BS(t){let e=XS(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fy(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Yt&&SU(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function SU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ly=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ic=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nc(this.lastLoginAt),this.creationTime=nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Md(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Fy(t,Rd(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?e0(o.providerUserInfo):[],a=AU(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new ic(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function Gy(t){return C(this,null,function*(){let e=rt(t);yield Md(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function AU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function e0(t){return t.map(e=>{var{providerId:n}=e,r=jp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function RU(t,e){return C(this,null,function*(){let n=yield ZS(t,{},()=>C(this,null,function*(){let r=ey({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yield JS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ad.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function MU(t,e){return C(this,null,function*(){return kd(t,"POST","/v2/accounts:revokeToken",YS(t,e))})}var rc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let n=BS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield RU(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return tc("not implemented")}};function Br(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ui=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ly(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ic(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield Fy(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return zy(this,e)}reload(){return Gy(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Md(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(sr(this.auth.app))return Promise.reject(Td(this.auth));let e=yield this.getIdToken();return yield Fy(this,CU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,y=(i=n.email)!==null&&i!==void 0?i:void 0,m=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,D=(s=n.photoURL)!==null&&s!==void 0?s:void 0,S=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,j=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:G,emailVerified:ne,isAnonymous:we,providerData:le,stsTokenManager:_}=n;Ee(G&&_,e,"internal-error");let v=rc.fromJSON(this.name,_);Ee(typeof G=="string",e,"internal-error"),Br(p,e.name),Br(y,e.name),Ee(typeof ne=="boolean",e,"internal-error"),Ee(typeof we=="boolean",e,"internal-error"),Br(m,e.name),Br(D,e.name),Br(S,e.name),Br(M,e.name),Br(O,e.name),Br(j,e.name);let E=new t({uid:G,auth:e,email:y,emailVerified:ne,displayName:p,isAnonymous:we,photoURL:D,phoneNumber:m,tenantId:S,stsTokenManager:v,createdAt:O,lastLoginAt:j});return le&&Array.isArray(le)&&(E.providerData=le.map(b=>Object.assign({},b))),M&&(E._redirectEventId=M),E}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new rc;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Md(o),o})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];Ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?e0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new rc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new ic(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,l),u})}};var $S=new Map;function Bi(t){Sd(t instanceof Function,"Expected a class definition");let e=$S.get(t);return e?(Sd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$S.set(t,e),e)}var NU=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Vy=NU;function xy(t,e,n){return`firebase:${t}:${e}:${n}`}var Nd=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=xy(this.userKey,i.apiKey,o),this.fullPersistenceKey=xy("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=yield Rd(this.auth,{idToken:e}).catch(()=>{});return n?Ui._fromGetAccountInfoResponse(this.auth,n,e):null}return Ui._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(Bi(Vy),e,r);let i=(yield Promise.all(n.map(l=>C(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Bi(Vy),s=xy(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let y=yield Rd(e,{idToken:h}).catch(()=>{});if(!y)break;p=yield Ui._fromGetAccountInfoResponse(e,y,h)}else p=Ui._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>C(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function HS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LU(e))return"Blackberry";if(VU(e))return"Webos";if(kU(e))return"Safari";if((e.includes("chrome/")||xU(e))&&!e.includes("edge/"))return"Chrome";if(FU(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PU(t=Lt()){return/firefox\//i.test(t)}function kU(t=Lt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xU(t=Lt()){return/crios\//i.test(t)}function OU(t=Lt()){return/iemobile/i.test(t)}function FU(t=Lt()){return/android/i.test(t)}function LU(t=Lt()){return/blackberry/i.test(t)}function VU(t=Lt()){return/webos/i.test(t)}function t0(t,e=[]){let n;switch(t){case"Browser":n=HS(Lt());break;case"Worker":n=`${HS(Lt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ts}/${r}`}var jy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}})}};function jU(n){return C(this,arguments,function*(t,e={}){return kd(t,"GET","/v2/passwordPolicy",YS(t,e))})}var UU=6,Uy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:UU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var By=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pd(this),this.idTokenSubscription=new Pd(this),this.beforeStateQueue=new jy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield Nd.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield Rd(this,{idToken:e}),r=yield Ui._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(sr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Md(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=IU()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(sr(this.app))return Promise.reject(Td(this));let n=e?rt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return sr(this.app)?Promise.reject(Td(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return sr(this.app)?Promise.reject(Td(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Bi(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield jU(this),n=new Uy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield MU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Bi(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=yield Nd.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;if(sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n!=null&&n.error&&vU(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token})}};function BU(t){return rt(t)}var Pd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=XC(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $U={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function HU(t){$U=t}function qU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function zU(t,e){let n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}var jY=qU("rcb"),UY=new $i(3e4,6e4);var BY=new $i(2e3,1e4);var $Y=10*60*1e3;var HY=new $i(3e4,6e4);var qY=new $i(5e3,15e3);var zY=encodeURIComponent("fac");var qS="@firebase/auth",zS="1.10.1";var $y=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function GU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WU(t){un(new It("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t0(t)},l=new By(r,i,o,u);return zU(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),un(new It("auth-internal",e=>{let n=BU(e.getProvider("auth").getImmediate());return(r=>new $y(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(qS,zS,GU(t)),$e(qS,zS,"esm2017")}var KU=5*60,GY=zC("authIdTokenMaxAge")||KU;function QU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}HU({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Hy("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",QU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WU("Browser");var W2="auth";var xd=class{constructor(){return is(W2)}};var n0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},r0={};var ar,Wy;(function(){var t;function e(_,v){function E(){}E.prototype=v.prototype,_.D=v.prototype,_.prototype=new E,_.prototype.constructor=_,_.C=function(b,T,R){for(var I=Array(arguments.length-2),qn=2;qn<arguments.length;qn++)I[qn-2]=arguments[qn];return v.prototype[T].apply(b,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,v,E){E||(E=0);var b=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)b[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)b[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=_.g[0],E=_.g[1],T=_.g[2];var R=_.g[3],I=v+(R^E&(T^R))+b[0]+3614090360&4294967295;v=E+(I<<7&4294967295|I>>>25),I=R+(T^v&(E^T))+b[1]+3905402710&4294967295,R=v+(I<<12&4294967295|I>>>20),I=T+(E^R&(v^E))+b[2]+606105819&4294967295,T=R+(I<<17&4294967295|I>>>15),I=E+(v^T&(R^v))+b[3]+3250441966&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(R^E&(T^R))+b[4]+4118548399&4294967295,v=E+(I<<7&4294967295|I>>>25),I=R+(T^v&(E^T))+b[5]+1200080426&4294967295,R=v+(I<<12&4294967295|I>>>20),I=T+(E^R&(v^E))+b[6]+2821735955&4294967295,T=R+(I<<17&4294967295|I>>>15),I=E+(v^T&(R^v))+b[7]+4249261313&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(R^E&(T^R))+b[8]+1770035416&4294967295,v=E+(I<<7&4294967295|I>>>25),I=R+(T^v&(E^T))+b[9]+2336552879&4294967295,R=v+(I<<12&4294967295|I>>>20),I=T+(E^R&(v^E))+b[10]+4294925233&4294967295,T=R+(I<<17&4294967295|I>>>15),I=E+(v^T&(R^v))+b[11]+2304563134&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(R^E&(T^R))+b[12]+1804603682&4294967295,v=E+(I<<7&4294967295|I>>>25),I=R+(T^v&(E^T))+b[13]+4254626195&4294967295,R=v+(I<<12&4294967295|I>>>20),I=T+(E^R&(v^E))+b[14]+2792965006&4294967295,T=R+(I<<17&4294967295|I>>>15),I=E+(v^T&(R^v))+b[15]+1236535329&4294967295,E=T+(I<<22&4294967295|I>>>10),I=v+(T^R&(E^T))+b[1]+4129170786&4294967295,v=E+(I<<5&4294967295|I>>>27),I=R+(E^T&(v^E))+b[6]+3225465664&4294967295,R=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(R^v))+b[11]+643717713&4294967295,T=R+(I<<14&4294967295|I>>>18),I=E+(R^v&(T^R))+b[0]+3921069994&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(T^R&(E^T))+b[5]+3593408605&4294967295,v=E+(I<<5&4294967295|I>>>27),I=R+(E^T&(v^E))+b[10]+38016083&4294967295,R=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(R^v))+b[15]+3634488961&4294967295,T=R+(I<<14&4294967295|I>>>18),I=E+(R^v&(T^R))+b[4]+3889429448&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(T^R&(E^T))+b[9]+568446438&4294967295,v=E+(I<<5&4294967295|I>>>27),I=R+(E^T&(v^E))+b[14]+3275163606&4294967295,R=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(R^v))+b[3]+4107603335&4294967295,T=R+(I<<14&4294967295|I>>>18),I=E+(R^v&(T^R))+b[8]+1163531501&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(T^R&(E^T))+b[13]+2850285829&4294967295,v=E+(I<<5&4294967295|I>>>27),I=R+(E^T&(v^E))+b[2]+4243563512&4294967295,R=v+(I<<9&4294967295|I>>>23),I=T+(v^E&(R^v))+b[7]+1735328473&4294967295,T=R+(I<<14&4294967295|I>>>18),I=E+(R^v&(T^R))+b[12]+2368359562&4294967295,E=T+(I<<20&4294967295|I>>>12),I=v+(E^T^R)+b[5]+4294588738&4294967295,v=E+(I<<4&4294967295|I>>>28),I=R+(v^E^T)+b[8]+2272392833&4294967295,R=v+(I<<11&4294967295|I>>>21),I=T+(R^v^E)+b[11]+1839030562&4294967295,T=R+(I<<16&4294967295|I>>>16),I=E+(T^R^v)+b[14]+4259657740&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(E^T^R)+b[1]+2763975236&4294967295,v=E+(I<<4&4294967295|I>>>28),I=R+(v^E^T)+b[4]+1272893353&4294967295,R=v+(I<<11&4294967295|I>>>21),I=T+(R^v^E)+b[7]+4139469664&4294967295,T=R+(I<<16&4294967295|I>>>16),I=E+(T^R^v)+b[10]+3200236656&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(E^T^R)+b[13]+681279174&4294967295,v=E+(I<<4&4294967295|I>>>28),I=R+(v^E^T)+b[0]+3936430074&4294967295,R=v+(I<<11&4294967295|I>>>21),I=T+(R^v^E)+b[3]+3572445317&4294967295,T=R+(I<<16&4294967295|I>>>16),I=E+(T^R^v)+b[6]+76029189&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(E^T^R)+b[9]+3654602809&4294967295,v=E+(I<<4&4294967295|I>>>28),I=R+(v^E^T)+b[12]+3873151461&4294967295,R=v+(I<<11&4294967295|I>>>21),I=T+(R^v^E)+b[15]+530742520&4294967295,T=R+(I<<16&4294967295|I>>>16),I=E+(T^R^v)+b[2]+3299628645&4294967295,E=T+(I<<23&4294967295|I>>>9),I=v+(T^(E|~R))+b[0]+4096336452&4294967295,v=E+(I<<6&4294967295|I>>>26),I=R+(E^(v|~T))+b[7]+1126891415&4294967295,R=v+(I<<10&4294967295|I>>>22),I=T+(v^(R|~E))+b[14]+2878612391&4294967295,T=R+(I<<15&4294967295|I>>>17),I=E+(R^(T|~v))+b[5]+4237533241&4294967295,E=T+(I<<21&4294967295|I>>>11),I=v+(T^(E|~R))+b[12]+1700485571&4294967295,v=E+(I<<6&4294967295|I>>>26),I=R+(E^(v|~T))+b[3]+2399980690&4294967295,R=v+(I<<10&4294967295|I>>>22),I=T+(v^(R|~E))+b[10]+4293915773&4294967295,T=R+(I<<15&4294967295|I>>>17),I=E+(R^(T|~v))+b[1]+2240044497&4294967295,E=T+(I<<21&4294967295|I>>>11),I=v+(T^(E|~R))+b[8]+1873313359&4294967295,v=E+(I<<6&4294967295|I>>>26),I=R+(E^(v|~T))+b[15]+4264355552&4294967295,R=v+(I<<10&4294967295|I>>>22),I=T+(v^(R|~E))+b[6]+2734768916&4294967295,T=R+(I<<15&4294967295|I>>>17),I=E+(R^(T|~v))+b[13]+1309151649&4294967295,E=T+(I<<21&4294967295|I>>>11),I=v+(T^(E|~R))+b[4]+4149444226&4294967295,v=E+(I<<6&4294967295|I>>>26),I=R+(E^(v|~T))+b[11]+3174756917&4294967295,R=v+(I<<10&4294967295|I>>>22),I=T+(v^(R|~E))+b[2]+718787259&4294967295,T=R+(I<<15&4294967295|I>>>17),I=E+(R^(T|~v))+b[9]+3951481745&4294967295,_.g[0]=_.g[0]+v&4294967295,_.g[1]=_.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,_.g[2]=_.g[2]+T&4294967295,_.g[3]=_.g[3]+R&4294967295}r.prototype.u=function(_,v){v===void 0&&(v=_.length);for(var E=v-this.blockSize,b=this.B,T=this.h,R=0;R<v;){if(T==0)for(;R<=E;)i(this,_,R),R+=this.blockSize;if(typeof _=="string"){for(;R<v;)if(b[T++]=_.charCodeAt(R++),T==this.blockSize){i(this,b),T=0;break}}else for(;R<v;)if(b[T++]=_[R++],T==this.blockSize){i(this,b),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var v=1;v<_.length-8;++v)_[v]=0;var E=8*this.o;for(v=_.length-8;v<_.length;++v)_[v]=E&255,E/=256;for(this.u(_),_=Array(16),v=E=0;4>v;++v)for(var b=0;32>b;b+=8)_[E++]=this.g[v]>>>b&255;return _};function o(_,v){var E=a;return Object.prototype.hasOwnProperty.call(E,_)?E[_]:E[_]=v(_)}function s(_,v){this.h=v;for(var E=[],b=!0,T=_.length-1;0<=T;T--){var R=_[T]|0;b&&R==v||(E[T]=R,b=!1)}this.g=E}var a={};function u(_){return-128<=_&&128>_?o(_,function(v){return new s([v|0],0>v?-1:0)}):new s([_|0],0>_?-1:0)}function l(_){if(isNaN(_)||!isFinite(_))return p;if(0>_)return M(l(-_));for(var v=[],E=1,b=0;_>=E;b++)v[b]=_/E|0,E*=4294967296;return new s(v,0)}function h(_,v){if(_.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(_.charAt(0)=="-")return M(h(_.substring(1),v));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),b=p,T=0;T<_.length;T+=8){var R=Math.min(8,_.length-T),I=parseInt(_.substring(T,T+R),v);8>R?(R=l(Math.pow(v,R)),b=b.j(R).add(l(I))):(b=b.j(E),b=b.add(l(I)))}return b}var p=u(0),y=u(1),m=u(16777216);t=s.prototype,t.m=function(){if(S(this))return-M(this).m();for(var _=0,v=1,E=0;E<this.g.length;E++){var b=this.i(E);_+=(0<=b?b:4294967296+b)*v,v*=4294967296}return _},t.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(D(this))return"0";if(S(this))return"-"+M(this).toString(_);for(var v=l(Math.pow(_,6)),E=this,b="";;){var T=ne(E,v).g;E=O(E,T.j(v));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(_);if(E=T,D(E))return R+b;for(;6>R.length;)R="0"+R;b=R+b}},t.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function D(_){if(_.h!=0)return!1;for(var v=0;v<_.g.length;v++)if(_.g[v]!=0)return!1;return!0}function S(_){return _.h==-1}t.l=function(_){return _=O(this,_),S(_)?-1:D(_)?0:1};function M(_){for(var v=_.g.length,E=[],b=0;b<v;b++)E[b]=~_.g[b];return new s(E,~_.h).add(y)}t.abs=function(){return S(this)?M(this):this},t.add=function(_){for(var v=Math.max(this.g.length,_.g.length),E=[],b=0,T=0;T<=v;T++){var R=b+(this.i(T)&65535)+(_.i(T)&65535),I=(R>>>16)+(this.i(T)>>>16)+(_.i(T)>>>16);b=I>>>16,R&=65535,I&=65535,E[T]=I<<16|R}return new s(E,E[E.length-1]&-2147483648?-1:0)};function O(_,v){return _.add(M(v))}t.j=function(_){if(D(this)||D(_))return p;if(S(this))return S(_)?M(this).j(M(_)):M(M(this).j(_));if(S(_))return M(this.j(M(_)));if(0>this.l(m)&&0>_.l(m))return l(this.m()*_.m());for(var v=this.g.length+_.g.length,E=[],b=0;b<2*v;b++)E[b]=0;for(b=0;b<this.g.length;b++)for(var T=0;T<_.g.length;T++){var R=this.i(b)>>>16,I=this.i(b)&65535,qn=_.i(T)>>>16,Ys=_.i(T)&65535;E[2*b+2*T]+=I*Ys,j(E,2*b+2*T),E[2*b+2*T+1]+=R*Ys,j(E,2*b+2*T+1),E[2*b+2*T+1]+=I*qn,j(E,2*b+2*T+1),E[2*b+2*T+2]+=R*qn,j(E,2*b+2*T+2)}for(b=0;b<v;b++)E[b]=E[2*b+1]<<16|E[2*b];for(b=v;b<2*v;b++)E[b]=0;return new s(E,0)};function j(_,v){for(;(_[v]&65535)!=_[v];)_[v+1]+=_[v]>>>16,_[v]&=65535,v++}function G(_,v){this.g=_,this.h=v}function ne(_,v){if(D(v))throw Error("division by zero");if(D(_))return new G(p,p);if(S(_))return v=ne(M(_),v),new G(M(v.g),M(v.h));if(S(v))return v=ne(_,M(v)),new G(M(v.g),v.h);if(30<_.g.length){if(S(_)||S(v))throw Error("slowDivide_ only works with positive integers.");for(var E=y,b=v;0>=b.l(_);)E=we(E),b=we(b);var T=le(E,1),R=le(b,1);for(b=le(b,2),E=le(E,2);!D(b);){var I=R.add(b);0>=I.l(_)&&(T=T.add(E),R=I),b=le(b,1),E=le(E,1)}return v=O(_,T.j(v)),new G(T,v)}for(T=p;0<=_.l(v);){for(E=Math.max(1,Math.floor(_.m()/v.m())),b=Math.ceil(Math.log(E)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),R=l(E),I=R.j(v);S(I)||0<I.l(_);)E-=b,R=l(E),I=R.j(v);D(R)&&(R=y),T=T.add(R),_=O(_,I)}return new G(T,_)}t.A=function(_){return ne(this,_).h},t.and=function(_){for(var v=Math.max(this.g.length,_.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)&_.i(b);return new s(E,this.h&_.h)},t.or=function(_){for(var v=Math.max(this.g.length,_.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)|_.i(b);return new s(E,this.h|_.h)},t.xor=function(_){for(var v=Math.max(this.g.length,_.g.length),E=[],b=0;b<v;b++)E[b]=this.i(b)^_.i(b);return new s(E,this.h^_.h)};function we(_){for(var v=_.g.length+1,E=[],b=0;b<v;b++)E[b]=_.i(b)<<1|_.i(b-1)>>>31;return new s(E,_.h)}function le(_,v){var E=v>>5;v%=32;for(var b=_.g.length-E,T=[],R=0;R<b;R++)T[R]=0<v?_.i(R+E)>>>v|_.i(R+E+1)<<32-v:_.i(R+E);return new s(T,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Wy=r0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ar=r0.Integer=s}).apply(typeof n0<"u"?n0:typeof self<"u"?self:typeof window<"u"?window:{});var Od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cr={};var Ky,K2,ss,Qy,oc,Fd,Yy,Zy,Jy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Od=="object"&&Od];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var A=c[g];if(!(A in f))break e;f=f[A]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,A={next:function(){if(!g&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,g),c.apply(d,A)}}return function(){return c.apply(d,arguments)}}function y(c,d,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,y.apply(null,arguments)}function m(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function D(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,A,N){for(var V=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)V[Se-2]=arguments[Se];return d.prototype[A].apply(g,V)}}function S(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let A=c.length||0,N=g.length||0;c.length=A+N;for(let V=0;V<N;V++)c[A+V]=g[V]}else c.push(g)}}class O{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function j(c){return/^[\s\xa0]*$/.test(c)}function G(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ne(c){return ne[" "](c),c}ne[" "]=function(){};var we=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function le(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function _(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,d){let f,g;for(let A=1;A<arguments.length;A++){g=arguments[A];for(f in g)c[f]=g[f];for(let N=0;N<E.length;N++)f=E[N],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function R(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Nf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class qn{constructor(){this.h=this.g=null}add(d,f){let g=Ys.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Ys=new O(()=>new XN,c=>c.reset());class XN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Zs,Js=!1,Nf=new qn,TI=()=>{let c=a.Promise.resolve(void 0);Zs=()=>{c.then(eP)}};var eP=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){R(f)}var d=Ys;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Js=!1};function _r(){this.s=this.s,this.C=this.C}_r.prototype.s=!1,_r.prototype.ma=function(){this.s||(this.s=!0,this.N())},_r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var tP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Xs(c,d){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(we){e:{try{ne(d.nodeName);var A=!0;break e}catch{}A=!1}A||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:nP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Xs.aa.h.call(this)}}D(Xs,ot);var nP={2:"touch",3:"pen",4:"mouse"};Xs.prototype.h=function(){Xs.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ea="closure_listenable_"+(1e6*Math.random()|0),rP=0;function iP(c,d,f,g,A){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=A,this.key=++rP,this.da=this.fa=!1}function au(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function cu(c){this.src=c,this.g={},this.h=0}cu.prototype.add=function(c,d,f,g,A){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var V=kf(c,d,g,A);return-1<V?(d=c[V],f||(d.fa=!1)):(d=new iP(d,this.src,N,!!g,A),d.fa=f,c.push(d)),d};function Pf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],A=Array.prototype.indexOf.call(g,d,void 0),N;(N=0<=A)&&Array.prototype.splice.call(g,A,1),N&&(au(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function kf(c,d,f,g){for(var A=0;A<c.length;++A){var N=c[A];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==g)return A}return-1}var xf="closure_lm_"+(1e6*Math.random()|0),Of={};function CI(c,d,f,g,A){if(g&&g.once)return AI(c,d,f,g,A);if(Array.isArray(d)){for(var N=0;N<d.length;N++)CI(c,d[N],f,g,A);return null}return f=jf(f),c&&c[ea]?c.K(d,f,l(g)?!!g.capture:!!g,A):SI(c,d,f,!1,g,A)}function SI(c,d,f,g,A,N){if(!d)throw Error("Invalid event type");var V=l(A)?!!A.capture:!!A,Se=Lf(c);if(Se||(c[xf]=Se=new cu(c)),f=Se.add(d,f,g,V,N),f.proxy)return f;if(g=oP(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)tP||(A=V),A===void 0&&(A=!1),c.addEventListener(d.toString(),g,A);else if(c.attachEvent)c.attachEvent(MI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function oP(){function c(f){return d.call(c.src,c.listener,f)}let d=sP;return c}function AI(c,d,f,g,A){if(Array.isArray(d)){for(var N=0;N<d.length;N++)AI(c,d[N],f,g,A);return null}return f=jf(f),c&&c[ea]?c.L(d,f,l(g)?!!g.capture:!!g,A):SI(c,d,f,!0,g,A)}function RI(c,d,f,g,A){if(Array.isArray(d))for(var N=0;N<d.length;N++)RI(c,d[N],f,g,A);else g=l(g)?!!g.capture:!!g,f=jf(f),c&&c[ea]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=kf(N,f,g,A),-1<f&&(au(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=Lf(c))&&(d=c.g[d.toString()],c=-1,d&&(c=kf(d,f,g,A)),(f=-1<c?d[c]:null)&&Ff(f))}function Ff(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ea])Pf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(MI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Lf(d))?(Pf(f,c),f.h==0&&(f.src=null,d[xf]=null)):au(c)}}}function MI(c){return c in Of?Of[c]:Of[c]="on"+c}function sP(c,d){if(c.da)c=!0;else{d=new Xs(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Ff(c),c=f.call(g,d)}return c}function Lf(c){return c=c[xf],c instanceof cu?c:null}var Vf="__closure_events_fn_"+(1e9*Math.random()>>>0);function jf(c){return typeof c=="function"?c:(c[Vf]||(c[Vf]=function(d){return c.handleEvent(d)}),c[Vf])}function st(){_r.call(this),this.i=new cu(this),this.M=this,this.F=null}D(st,_r),st.prototype[ea]=!0,st.prototype.removeEventListener=function(c,d,f,g){RI(this,c,d,f,g)};function gt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ot(d,c);else if(d instanceof ot)d.target=d.target||c;else{var A=d;d=new ot(g,c),b(d,A)}if(A=!0,f)for(var N=f.length-1;0<=N;N--){var V=d.g=f[N];A=uu(V,g,!0,d)&&A}if(V=d.g=c,A=uu(V,g,!0,d)&&A,A=uu(V,g,!1,d)&&A,f)for(N=0;N<f.length;N++)V=d.g=f[N],A=uu(V,g,!1,d)&&A}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)au(f[g]);delete c.g[d],c.h--}}this.F=null},st.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},st.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function uu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var A=!0,N=0;N<d.length;++N){var V=d[N];if(V&&!V.da&&V.capture==f){var Se=V.listener,et=V.ha||V.src;V.fa&&Pf(c.i,V),A=Se.call(et,g)!==!1&&A}}return A&&!g.defaultPrevented}function NI(c,d,f){if(typeof c=="function")f&&(c=y(c,f));else if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function PI(c){c.g=NI(()=>{c.g=null,c.i&&(c.i=!1,PI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class aP extends _r{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:PI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(c){_r.call(this),this.h=c,this.g={}}D(ta,_r);var kI=[];function xI(c){le(c.g,function(d,f){this.g.hasOwnProperty(f)&&Ff(d)},c),c.g={}}ta.prototype.N=function(){ta.aa.N.call(this),xI(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uf=a.JSON.stringify,cP=a.JSON.parse,uP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Bf(){}Bf.prototype.h=null;function OI(c){return c.h||(c.h=c.i())}function FI(){}var na={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $f(){ot.call(this,"d")}D($f,ot);function Hf(){ot.call(this,"c")}D(Hf,ot);var Xr={},LI=null;function lu(){return LI=LI||new st}Xr.La="serverreachability";function VI(c){ot.call(this,Xr.La,c)}D(VI,ot);function ra(c){let d=lu();gt(d,new VI(d))}Xr.STAT_EVENT="statevent";function jI(c,d){ot.call(this,Xr.STAT_EVENT,c),this.stat=d}D(jI,ot);function mt(c){let d=lu();gt(d,new jI(d,c))}Xr.Ma="timingevent";function UI(c,d){ot.call(this,Xr.Ma,c),this.size=d}D(UI,ot);function ia(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function oa(){this.g=!0}oa.prototype.xa=function(){this.g=!1};function lP(c,d,f,g,A,N){c.info(function(){if(c.g)if(N)for(var V="",Se=N.split("&"),et=0;et<Se.length;et++){var ve=Se[et].split("=");if(1<ve.length){var at=ve[0];ve=ve[1];var ct=at.split("_");V=2<=ct.length&&ct[1]=="type"?V+(at+"="+ve+"&"):V+(at+"=redacted&")}}else V=null;else V=N;return"XMLHTTP REQ ("+g+") [attempt "+A+"]: "+d+`
`+f+`
`+V})}function dP(c,d,f,g,A,N,V){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+A+"]: "+d+`
`+f+`
`+N+" "+V})}function uo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+fP(c,f)+(g?" "+g:"")})}function hP(c,d){c.info(function(){return"TIMEOUT: "+d})}oa.prototype.info=function(){};function fP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var A=g[1];if(Array.isArray(A)&&!(1>A.length)){var N=A[0];if(N!="noop"&&N!="stop"&&N!="close")for(var V=1;V<A.length;V++)A[V]=""}}}}return Uf(f)}catch{return d}}var du={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},BI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qf;function hu(){}D(hu,Bf),hu.prototype.g=function(){return new XMLHttpRequest},hu.prototype.i=function(){return{}},qf=new hu;function Er(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $I}function $I(){this.i=null,this.g="",this.h=!1}var HI={},zf={};function Gf(c,d,f){c.L=1,c.v=mu(zn(d)),c.m=f,c.P=!0,qI(c,null)}function qI(c,d){c.F=Date.now(),fu(c),c.A=zn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),iw(f.i,"t",g),c.C=0,f=c.j.J,c.h=new $I,c.g=ww(c.j,f?d:null,!c.m),0<c.O&&(c.M=new aP(y(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(kI[0]=A.toString()),A=kI);for(var N=0;N<A.length;N++){var V=CI(f,A[N],g||d.handleEvent,!1,d.h||d);if(!V)break;d.g[V.key]=V}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ra(),lP(c.i,c.u,c.A,c.l,c.R,c.m)}Er.prototype.ca=function(c){c=c.target;let d=this.M;d&&Gn(c)==3?d.j():this.Y(c)},Er.prototype.Y=function(c){try{if(c==this.g)e:{let ct=Gn(this.g);var d=this.g.Ba();let fo=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||dw(this.g)))){this.J||ct!=4||d==7||(d==8||0>=fo?ra(3):ra(2)),Wf(this);var f=this.g.Z();this.X=f;t:if(zI(this)){var g=dw(this.g);c="";var A=g.length,N=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ei(this),sa(this);var V="";break t}this.h.i=new a.TextDecoder}for(d=0;d<A;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(N&&d==A-1)});g.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,dP(this.i,this.u,this.A,this.l,this.R,ct,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,et=this.g;if((Se=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Se)){var ve=Se;break t}}ve=null}if(f=ve)uo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Kf(this,f);else{this.o=!1,this.s=3,mt(12),ei(this),sa(this);break e}}if(this.P){f=!0;let en;for(;!this.J&&this.C<V.length;)if(en=pP(this,V),en==zf){ct==4&&(this.s=4,mt(14),f=!1),uo(this.i,this.l,null,"[Incomplete Response]");break}else if(en==HI){this.s=4,mt(15),uo(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else uo(this.i,this.l,en,null),Kf(this,en);if(zI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||V.length!=0||this.h.h||(this.s=1,mt(16),f=!1),this.o=this.o&&f,!f)uo(this.i,this.l,V,"[Invalid Chunked Response]"),ei(this),sa(this);else if(0<V.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),ep(at),at.M=!0,mt(11))}}else uo(this.i,this.l,V,null),Kf(this,V);ct==4&&ei(this),this.o&&!this.J&&(ct==4?vw(this.j,this):(this.o=!1,fu(this)))}else NP(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),ei(this),sa(this)}}}catch{}finally{}};function zI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function pP(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?zf:(f=Number(d.substring(f,g)),isNaN(f)?HI:(g+=1,g+f>d.length?zf:(d=d.slice(g,g+f),c.C=g+f,d)))}Er.prototype.cancel=function(){this.J=!0,ei(this)};function fu(c){c.S=Date.now()+c.I,GI(c,c.I)}function GI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ia(y(c.ba,c),d)}function Wf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Er.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(hP(this.i,this.A),this.L!=2&&(ra(),mt(17)),ei(this),this.s=2,sa(this)):GI(this,this.S-c)};function sa(c){c.j.G==0||c.J||vw(c.j,c)}function ei(c){Wf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,xI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Kf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Qf(f.h,c))){if(!c.K&&Qf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var A=g;if(A[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Iu(f),_u(f);else break e;Xf(f),mt(18)}}else f.za=A[1],0<f.za-f.T&&37500>A[2]&&f.F&&f.v==0&&!f.C&&(f.C=ia(y(f.Za,f),6e3));if(1>=QI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else ni(f,11)}else if((c.K||f.g==c)&&Iu(f),!j(d))for(A=f.Da.g.parse(d),d=0;d<A.length;d++){let ve=A[d];if(f.T=ve[0],ve=ve[1],f.G==2)if(ve[0]=="c"){f.K=ve[1],f.ia=ve[2];let at=ve[3];at!=null&&(f.la=at,f.j.info("VER="+f.la));let ct=ve[4];ct!=null&&(f.Aa=ct,f.j.info("SVER="+f.Aa));let fo=ve[5];fo!=null&&typeof fo=="number"&&0<fo&&(g=1.5*fo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let en=c.g;if(en){let Du=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Du){var N=g.h;N.g||Du.indexOf("spdy")==-1&&Du.indexOf("quic")==-1&&Du.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(Yf(N,N.h),N.h=null))}if(g.D){let tp=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;tp&&(g.ya=tp,Me(g.I,g.D,tp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var V=c;if(g.qa=Iw(g,g.J?g.ia:null,g.W),V.K){YI(g.h,V);var Se=V,et=g.L;et&&(Se.I=et),Se.B&&(Wf(Se),fu(Se)),g.g=V}else mw(g);0<f.i.length&&Eu(f)}else ve[0]!="stop"&&ve[0]!="close"||ni(f,7);else f.G==3&&(ve[0]=="stop"||ve[0]=="close"?ve[0]=="stop"?ni(f,7):Jf(f):ve[0]!="noop"&&f.l&&f.l.ta(ve),f.v=0)}}ra(4)}catch{}}var gP=class{constructor(c,d){this.g=c,this.map=d}};function WI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function KI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function QI(c){return c.h?1:c.g?c.g.size:0}function Qf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Yf(c,d){c.g?c.g.add(d):c.h=d}function YI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}WI.prototype.cancel=function(){if(this.i=ZI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ZI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return S(c.i)}function mP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function yP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function JI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=yP(c),g=mP(c),A=g.length,N=0;N<A;N++)d.call(void 0,g[N],f&&f[N],c)}var XI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),A=null;if(0<=g){var N=c[f].substring(0,g);A=c[f].substring(g+1)}else N=c[f];d(N,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function ti(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ti){this.h=c.h,pu(this,c.j),this.o=c.o,this.g=c.g,gu(this,c.s),this.l=c.l;var d=c.i,f=new ua;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),ew(this,f),this.m=c.m}else c&&(d=String(c).match(XI))?(this.h=!1,pu(this,d[1]||"",!0),this.o=aa(d[2]||""),this.g=aa(d[3]||"",!0),gu(this,d[4]),this.l=aa(d[5]||"",!0),ew(this,d[6]||"",!0),this.m=aa(d[7]||"")):(this.h=!1,this.i=new ua(null,this.h))}ti.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ca(d,tw,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ca(d,tw,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ca(f,f.charAt(0)=="/"?IP:EP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ca(f,DP)),c.join("")};function zn(c){return new ti(c)}function pu(c,d,f){c.j=f?aa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function gu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function ew(c,d,f){d instanceof ua?(c.i=d,bP(c.i,c.h)):(f||(d=ca(d,wP)),c.i=new ua(d,c.h))}function Me(c,d,f){c.i.set(d,f)}function mu(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function aa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ca(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,_P),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function _P(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var tw=/[#\/\?@]/g,EP=/[#\?:]/g,IP=/[#\?]/g,wP=/[#\?@]/g,DP=/#/g;function ua(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ir(c){c.g||(c.g=new Map,c.h=0,c.i&&vP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=ua.prototype,t.add=function(c,d){Ir(this),this.i=null,c=lo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function nw(c,d){Ir(c),d=lo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function rw(c,d){return Ir(c),d=lo(c,d),c.g.has(d)}t.forEach=function(c,d){Ir(this),this.g.forEach(function(f,g){f.forEach(function(A){c.call(d,A,g,this)},this)},this)},t.na=function(){Ir(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let A=c[g];for(let N=0;N<A.length;N++)f.push(d[g])}return f},t.V=function(c){Ir(this);let d=[];if(typeof c=="string")rw(this,c)&&(d=d.concat(this.g.get(lo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Ir(this),this.i=null,c=lo(this,c),rw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function iw(c,d,f){nw(c,d),0<f.length&&(c.i=null,c.g.set(lo(c,d),S(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let N=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var A=N;V[g]!==""&&(A+="="+encodeURIComponent(String(V[g]))),c.push(A)}}return this.i=c.join("&")};function lo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function bP(c,d){d&&!c.j&&(Ir(c),c.i=null,c.g.forEach(function(f,g){var A=g.toLowerCase();g!=A&&(nw(this,g),iw(this,A,f))},c)),c.j=d}function TP(c,d){let f=new oa;if(a.Image){let g=new Image;g.onload=m(wr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=m(wr,f,"TestLoadImage: error",!1,d,g),g.onabort=m(wr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=m(wr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function CP(c,d){let f=new oa,g=new AbortController,A=setTimeout(()=>{g.abort(),wr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(N=>{clearTimeout(A),N.ok?wr(f,"TestPingServer: ok",!0,d):wr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(A),wr(f,"TestPingServer: error",!1,d)})}function wr(c,d,f,g,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),g(f)}catch{}}function SP(){this.g=new uP}function AP(c,d,f){let g=f||"";try{JI(c,function(A,N){let V=A;l(A)&&(V=Uf(A)),d.push(g+N+"="+encodeURIComponent(V))})}catch(A){throw d.push(g+"type="+encodeURIComponent("_badmap")),A}}function la(c){this.l=c.Ub||null,this.j=c.eb||!1}D(la,Bf),la.prototype.g=function(){return new yu(this.l,this.j)},la.prototype.i=function(c){return function(){return c}}({});function yu(c,d){st.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(yu,st),t=yu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ha(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,da(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ha(this)),this.g&&(this.readyState=3,ha(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ow(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ow(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?da(this):ha(this),this.readyState==3&&ow(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,da(this))},t.Qa=function(c){this.g&&(this.response=c,da(this))},t.ga=function(){this.g&&da(this)};function da(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ha(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ha(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(yu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function sw(c){let d="";return le(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Zf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=sw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Me(c,d,f))}function Fe(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Fe,st);var RP=/^https?$/i,MP=["POST","PUT"];t=Fe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qf.g(),this.v=this.o?OI(this.o):OI(qf),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){aw(this,N);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var A in g)f.set(A,g[A]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())f.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(MP,d,void 0))||g||A||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,V]of f)this.g.setRequestHeader(N,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lw(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){aw(this,N)}};function aw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,cw(c),vu(c)}function cw(c){c.A||(c.A=!0,gt(c,"complete"),gt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,gt(this,"complete"),gt(this,"abort"),vu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vu(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?uw(this):this.bb())},t.bb=function(){uw(this)};function uw(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Gn(c)!=4||c.Z()!=2)){if(c.u&&Gn(c)==4)NI(c.Ea,0,c);else if(gt(c,"readystatechange"),Gn(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=V===0){var A=String(c.D).match(XI)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),g=!RP.test(A?A.toLowerCase():"")}f=g}if(f)gt(c,"complete"),gt(c,"success");else{c.m=6;try{var N=2<Gn(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",cw(c)}}finally{vu(c)}}}}function vu(c,d){if(c.g){lw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||gt(c,"ready");try{f.onreadystatechange=g}catch{}}}function lw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Gn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),cP(d)}};function dw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function NP(c){let d={};c=(c.g&&2<=Gn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(j(c[g]))continue;var f=T(c[g]);let A=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[A]||[];d[A]=N,N.push(f)}_(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function hw(c){this.Aa=0,this.i=[],this.j=new oa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fa("baseRetryDelayMs",5e3,c),this.cb=fa("retryDelaySeedMs",1e4,c),this.Wa=fa("forwardChannelMaxRetries",2,c),this.wa=fa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new WI(c&&c.concurrentRequestLimit),this.Da=new SP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hw.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){mt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=Iw(this,null,this.W),Eu(this)};function Jf(c){if(fw(c),c.G==3){var d=c.U++,f=zn(c.I);if(Me(f,"SID",c.K),Me(f,"RID",d),Me(f,"TYPE","terminate"),pa(c,f),d=new Er(c,c.j,d),d.L=2,d.v=mu(zn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=ww(d.j,null),d.g.ea(d.v)),d.F=Date.now(),fu(d)}Ew(c)}function _u(c){c.g&&(ep(c),c.g.cancel(),c.g=null)}function fw(c){_u(c),c.u&&(a.clearTimeout(c.u),c.u=null),Iu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Eu(c){if(!KI(c.h)&&!c.s){c.s=!0;var d=c.Ga;Zs||TI(),Js||(Zs(),Js=!0),Nf.add(d,c),c.B=0}}function PP(c,d){return QI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ia(y(c.Ga,c,d),_w(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new Er(this,this.j,c),N=this.o;if(this.S&&(N?(N=v(N),b(N,this.S)):N=this.S),this.m!==null||this.O||(A.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=gw(this,A,d),f=zn(this.I),Me(f,"RID",c),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),pa(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(sw(N)))+"&"+d:this.m&&Zf(f,this.m,N)),Yf(this.h,A),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",d),Me(f,"SID","null"),A.T=!0,Gf(A,f,null)):Gf(A,f,d),this.G=2}}else this.G==3&&(c?pw(this,c):this.i.length==0||KI(this.h)||pw(this))};function pw(c,d){var f;d?f=d.l:f=c.U++;let g=zn(c.I);Me(g,"SID",c.K),Me(g,"RID",f),Me(g,"AID",c.T),pa(c,g),c.m&&c.o&&Zf(g,c.m,c.o),f=new Er(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=gw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Yf(c.h,f),Gf(f,g,d)}function pa(c,d){c.H&&le(c.H,function(f,g){Me(d,g,f)}),c.l&&JI({},function(f,g){Me(d,g,f)})}function gw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?y(c.l.Na,c.l,c):null;e:{var A=c.i;let N=-1;for(;;){let V=["count="+f];N==-1?0<f?(N=A[0].g,V.push("ofs="+N)):N=0:V.push("ofs="+N);let Se=!0;for(let et=0;et<f;et++){let ve=A[et].g,at=A[et].map;if(ve-=N,0>ve)N=Math.max(0,A[et].g-100),Se=!1;else try{AP(at,V,"req"+ve+"_")}catch{g&&g(at)}}if(Se){g=V.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function mw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Zs||TI(),Js||(Zs(),Js=!0),Nf.add(d,c),c.v=0}}function Xf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ia(y(c.Fa,c),_w(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,yw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ia(y(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),_u(this),yw(this))};function ep(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function yw(c){c.g=new Er(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=zn(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),pa(c,d),c.m&&c.o&&Zf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=mu(zn(d)),f.m=null,f.P=!0,qI(f,c)}t.Za=function(){this.C!=null&&(this.C=null,_u(this),Xf(this),mt(19))};function Iu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function vw(c,d){var f=null;if(c.g==d){Iu(c),ep(c),c.g=null;var g=2}else if(Qf(c.h,d))f=d.D,YI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var A=c.B;g=lu(),gt(g,new UI(g,f)),Eu(c)}else mw(c);else if(A=d.s,A==3||A==0&&0<d.X||!(g==1&&PP(c,d)||g==2&&Xf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),A){case 1:ni(c,5);break;case 4:ni(c,10);break;case 3:ni(c,6);break;default:ni(c,2)}}}function _w(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function ni(c,d){if(c.j.info("Error code "+d),d==2){var f=y(c.fb,c),g=c.Xa;let A=!g;g=new ti(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||pu(g,"https"),mu(g),A?TP(g.toString(),f):CP(g.toString(),f)}else mt(2);c.G=0,c.l&&c.l.sa(d),Ew(c),fw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Ew(c){if(c.G=0,c.ka=[],c.l){let d=ZI(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,S(c.i),c.i.length=0),c.l.ra()}}function Iw(c,d,f){var g=f instanceof ti?zn(f):new ti(f);if(g.g!="")d&&(g.g=d+"."+g.g),gu(g,g.s);else{var A=a.location;g=A.protocol,d=d?d+"."+A.hostname:A.hostname,A=+A.port;var N=new ti(null);g&&pu(N,g),d&&(N.g=d),A&&gu(N,A),f&&(N.l=f),g=N}return f=c.D,d=c.ya,f&&d&&Me(g,f,d),Me(g,"VER",c.la),pa(c,g),g}function ww(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Fe(new la({eb:f})):new Fe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dw(){}t=Dw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wu(){}wu.prototype.g=function(c,d){return new kt(c,d)};function kt(c,d){st.call(this),this.g=new hw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!j(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!j(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new ho(this)}D(kt,st),kt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},kt.prototype.close=function(){Jf(this.g)},kt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Uf(c),c=f);d.i.push(new gP(d.Ya++,c)),d.G==3&&Eu(d)},kt.prototype.N=function(){this.g.l=null,delete this.j,Jf(this.g),delete this.g,kt.aa.N.call(this)};function bw(c){$f.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}D(bw,$f);function Tw(){Hf.call(this),this.status=1}D(Tw,Hf);function ho(c){this.g=c}D(ho,Dw),ho.prototype.ua=function(){gt(this.g,"a")},ho.prototype.ta=function(c){gt(this.g,new bw(c))},ho.prototype.sa=function(c){gt(this.g,new Tw)},ho.prototype.ra=function(){gt(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,kt.prototype.send=kt.prototype.o,kt.prototype.open=kt.prototype.m,kt.prototype.close=kt.prototype.close,Jy=cr.createWebChannelTransport=function(){return new wu},Zy=cr.getStatEventTarget=function(){return lu()},Yy=cr.Event=Xr,Fd=cr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},du.NO_ERROR=0,du.TIMEOUT=8,du.HTTP_ERROR=6,oc=cr.ErrorCode=du,BI.COMPLETE="complete",Qy=cr.EventType=BI,FI.EventType=na,na.OPEN="a",na.CLOSE="b",na.ERROR="c",na.MESSAGE="d",st.prototype.listen=st.prototype.K,ss=cr.WebChannel=FI,K2=cr.FetchXmlHttpFactory=la,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,Ky=cr.XhrIo=Fe}).apply(typeof Od<"u"?Od:typeof self<"u"?self:typeof window<"u"?window:{});var i0="@firebase/firestore",o0="4.7.11";var Ze=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");var Rs="11.6.1";var Gi=new Mn("@firebase/firestore");function as(){return Gi.logLevel}function U(t,...e){if(Gi.logLevel<=fe.DEBUG){let n=e.map(H_);Gi.debug(`Firestore (${Rs}): ${t}`,...n)}}function hr(t,...e){if(Gi.logLevel<=fe.ERROR){let n=e.map(H_);Gi.error(`Firestore (${Rs}): ${t}`,...n)}}function ps(t,...e){if(Gi.logLevel<=fe.WARN){let n=e.map(H_);Gi.warn(`Firestore (${Rs}): ${t}`,...n)}}function H_(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,J0(t,r,n)}function J0(t,e,n){let r=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw hr(r),new Error(r)}function De(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||J0(e,i,r)}function X(t,e){return t}var k={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Yt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var ur=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Hd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},rv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ze.UNAUTHENTICATED))}shutdown(){}},iv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},ov=class{constructor(e){this.t=e,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){De(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ur,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ur)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(De(typeof r.accessToken=="string",31837,{l:r}),new Hd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return De(e===null||typeof e=="string",2055,{h:e}),new Ze(e)}},sv=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},av=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sv(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}},qd=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cv=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,sr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){De(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qd(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(De(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qd(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Q2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function X0(){return new TextEncoder}var zd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Q2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function ce(t,e){return t<e?-1:t>e?1:0}function uv(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ce(r,i);{let o=X0(),s=Y2(o.encode(s0(t,n)),o.encode(s0(e,n)));return s!==0?s:ce(r,i)}}n+=r>65535?2:1}return ce(t.length,e.length)}function s0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Y2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ce(t[n],e[n]);return ce(t.length,e.length)}function gs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var a0=-62135596800,c0=1e6,it=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*c0);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(k.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<a0)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(k.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/c0}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-a0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var te=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new it(0,0))}static max(){return new t(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var u0="__name__",Gd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return ce(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):uv(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ar.fromString(e.substring(4,e.length-2))}},Oe=class t extends Gd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(k.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class t extends Gd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Z2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===u0}static keyField(){return new t([u0])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(k.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(k.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(k.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var K=class t{constructor(e){this.path=e}static fromPath(e){return new t(Oe.fromString(e))}static fromName(e){return new t(Oe.fromString(e).popFirst(5))}static empty(){return new t(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Oe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Oe(e.slice()))}};var dc=-1,lv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};lv.UNKNOWN_ID=-1;function J2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new it(n+1,0):new it(n,r));return new Wi(i,K.empty(),e)}function X2(t){return new Wi(t.readTime,t.key,dc)}var Wi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(te.min(),K.empty(),dc)}static max(){return new t(te.max(),K.empty(),dc)}};function eB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:ce(t.largestBatchId,e.largestBatchId))}var tB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",dv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Ms(t){return C(this,null,function*(){if(t.code!==k.FAILED_PRECONDITION||t.message!==tB)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var x=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function nB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ns(t){return t.name==="IndexedDbTransactionError"}var q_=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ce&&this.ce(n),n}}t.le=-1;return t})(),z_=-1;function bh(t){return t==null}function hc(t){return t===0&&1/t==-1/0}function rB(t){return typeof t=="number"&&Number.isInteger(t)&&!hc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var eA="";function iB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=l0(e)),e=oB(t.get(n),e);return l0(e)}function oB(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case eA:n+="";break;default:n+=o}}return n}function l0(t){return t+eA+""}var sB="remoteDocuments",tA="owner";var nA="mutationQueues";var rA="mutations";var iA="documentMutations",aB="remoteDocumentsV14";var oA="remoteDocumentGlobal";var sA="targets";var aA="targetDocuments";var cA="targetGlobal",uA="collectionParents";var lA="clientMetadata";var dA="bundles";var hA="namedQueries";var cB="indexConfiguration";var uB="indexState";var lB="indexEntries";var fA="documentOverlays";var dB="globals";var hB=[nA,rA,iA,sB,sA,tA,cA,aA,lA,oA,uA,dA,hA],YZ=[...hB,fA],fB=[nA,rA,iA,aB,sA,tA,cA,aA,lA,oA,uA,dA,hA,fA],pB=fB,gB=[...pB,cB,uB,lB];var ZZ=[...gB,dB];function d0(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wr(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ds(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ds(this.root,e,this.comparator,!1)}getReverseIterator(){return new ds(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ds(this.root,e,this.comparator,!0)}},ds=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},kn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r!=null?r:t.RED,this.left=i!=null?i:t.EMPTY,this.right=o!=null?o:t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,o!=null?o:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}};kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Je=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wd(this.data.getIterator())}getIteratorFrom(e){return new Wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Wd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xt=class t{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new t([])}unionWith(e){let n=new Je(jt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Kd=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var pt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Kd("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};pt.EMPTY_BYTE_STRING=new pt("");var mB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(t){if(De(!!t,39018),typeof t=="string"){let e=0,n=mB.exec(t);if(De(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ne(t.seconds),nanos:Ne(t.nanos)}}function Ne(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pr(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}var gA="server_timestamp",mA="__type__",yA="__previous_value__",vA="__local_write_time__";function G_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mA])===null||n===void 0?void 0:n.stringValue)===gA}function Th(t){let e=t.mapValue.fields[yA];return G_(e)?Th(e):e}function fc(t){let e=fr(t.mapValue.fields[vA].timestampValue);return new it(e.seconds,e.nanos)}var hv=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},Qd="(default)",Yd=class t{constructor(e,n){this.projectId=e,this.database=n||Qd}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Qd}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var W_="__type__",_A="__max__",Ld={mapValue:{fields:{__type__:{stringValue:_A}}}},K_="__vector__",ms="value";function Hr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?G_(t)?4:IA(t)?9007199254740991:EA(t)?10:11:Y(28295,{value:t})}function Fn(t,e){if(t===e)return!0;let n=Hr(t);if(n!==Hr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fc(t).isEqual(fc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=fr(i.timestampValue),a=fr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return pr(i.bytesValue).isEqual(pr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ne(i.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(i.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ne(i.integerValue)===Ne(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ne(i.doubleValue),a=Ne(o.doubleValue);return s===a?hc(s)===hc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return gs(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(d0(s)!==d0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Fn(s[u],a[u])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function pc(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function ys(t,e){if(t===e)return 0;let n=Hr(t),r=Hr(e);if(n!==r)return ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ce(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ne(o.integerValue||o.doubleValue),u=Ne(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return h0(t.timestampValue,e.timestampValue);case 4:return h0(fc(t),fc(e));case 5:return uv(t.stringValue,e.stringValue);case 6:return function(o,s){let a=pr(o),u=pr(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ce(a[l],u[l]);if(h!==0)return h}return ce(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=ce(Ne(o.latitude),Ne(s.latitude));return a!==0?a:ce(Ne(o.longitude),Ne(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return f0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},y=s.fields||{},m=(a=p[ms])===null||a===void 0?void 0:a.arrayValue,D=(u=y[ms])===null||u===void 0?void 0:u.arrayValue,S=ce(((l=m==null?void 0:m.values)===null||l===void 0?void 0:l.length)||0,((h=D==null?void 0:D.values)===null||h===void 0?void 0:h.length)||0);return S!==0?S:f0(m,D)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ld.mapValue&&s===Ld.mapValue)return 0;if(o===Ld.mapValue)return 1;if(s===Ld.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let y=uv(u[p],h[p]);if(y!==0)return y;let m=ys(a[u[p]],l[h[p]]);if(m!==0)return m}return ce(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{Pe:n})}}function h0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ce(t,e);let n=fr(t),r=fr(e),i=ce(n.seconds,r.seconds);return i!==0?i:ce(n.nanos,r.nanos)}function f0(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ys(n[i],r[i]);if(o)return o}return ce(n.length,r.length)}function vs(t){return fv(t)}function fv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=fr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=fv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${fv(n.fields[s])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function Ud(t){switch(Hr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Th(t);return e?16+Ud(e):16;case 5:return 2*t.stringValue.length;case 6:return pr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Ud(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Wr(r.fields,(o,s)=>{i+=o.length+Ud(s)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function p0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function pv(t){return!!t&&"integerValue"in t}function Q_(t){return!!t&&"arrayValue"in t}function g0(t){return!!t&&"nullValue"in t}function m0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bd(t){return!!t&&"mapValue"in t}function EA(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[W_])===null||n===void 0?void 0:n.stringValue)===K_}function ac(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Wr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ac(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ac(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_A}var XZ={mapValue:{fields:{[W_]:{stringValue:K_},[ms]:{arrayValue:{}}}}};var Vt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ac(n)}setAll(e){let n=jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=ac(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Bd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wr(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ac(this.value))}};function wA(t){let e=[];return Wr(t.fields,(n,r)=>{let i=new jt([n]);if(Bd(r)){let o=wA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Xt(e)}var fn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,te.min(),te.min(),te.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,te.min(),te.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,te.min(),te.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var _s=class{constructor(e,n){this.position=e,this.inclusive=n}};function y0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=K.comparator(K.fromName(s.referenceValue),n.key):r=ys(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}var Es=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function yB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Zd=class{},Qe=class t extends Zd{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new mv(e,n,r):n==="array-contains"?new _v(e,r):n==="in"?new Ev(e,r):n==="not-in"?new Iv(e,r):n==="array-contains-any"?new wv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new yv(e,r):new vv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ys(n,this.value)):n!==null&&Hr(this.value)===Hr(n)&&this.matchesComparison(ys(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pn=class t extends Zd{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new t(e,n)}matches(e){return DA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function DA(t){return t.op==="and"}function bA(t){return vB(t)&&DA(t)}function vB(t){for(let e of t.filters)if(e instanceof pn)return!1;return!0}function gv(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+vs(t.value);if(bA(t))return t.filters.map(e=>gv(e)).join(",");{let e=t.filters.map(n=>gv(n)).join(",");return`${t.op}(${e})`}}function TA(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&Fn(r.value,i.value)}(t,e):t instanceof pn?function(r,i){return i instanceof pn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&TA(s,i.filters[a]),!0):!1}(t,e):void Y(19439)}function CA(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${vs(n.value)}`}(t):t instanceof pn?function(n){return n.op.toString()+" {"+n.getFilters().map(CA).join(" ,")+"}"}(t):"Filter"}var mv=class extends Qe{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){let n=K.comparator(e.key,this.key);return this.matchesComparison(n)}},yv=class extends Qe{constructor(e,n){super(e,"in",n),this.keys=SA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},vv=class extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=SA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function SA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}var _v=class extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Q_(n)&&pc(n.arrayValue,this.value)}},Ev=class extends Qe{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}},Iv=class extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pc(this.value.arrayValue,n)}},wv=class extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Q_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pc(this.value.arrayValue,r))}};var Dv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function _0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Dv(t,e,n,r,i,o,s)}function Y_(t){let e=X(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),bh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>vs(r)).join(",")),e.Ie=n}return e.Ie}function Z_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v0(t.startAt,e.startAt)&&v0(t.endAt,e.endAt)}function bv(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ki=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function _B(t,e,n,r,i,o,s,a){return new Ki(t,e,n,r,i,o,s,a)}function J_(t){return new Ki(t)}function E0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AA(t){return t.collectionGroup!==null}function cc(t){let e=X(t);if(e.Ee===null){e.Ee=[];let n=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Je(jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Es(o,r))}),n.has(jt.keyField().canonicalString())||e.Ee.push(new Es(jt.keyField(),r))}return e.Ee}function xn(t){let e=X(t);return e.de||(e.de=EB(e,cc(t))),e.de}function EB(t,e){if(t.limitType==="F")return _0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Es(i.field,o)});let n=t.endAt?new _s(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _s(t.startAt.position,t.startAt.inclusive):null;return _0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tv(t,e){let n=t.filters.concat([e]);return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Cv(t,e,n){return new Ki(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ch(t,e){return Z_(xn(t),xn(e))&&t.limitType===e.limitType}function RA(t){return`${Y_(xn(t))}|lt:${t.limitType}`}function cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>CA(i)).join(", ")}]`),bh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>vs(i)).join(",")),`Target(${r})`}(xn(t))}; limitType=${t.limitType})`}function Sh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of cc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=y0(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,cc(r),i)||r.endAt&&!function(s,a,u){let l=y0(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,cc(r),i))}(t,e)}function IB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MA(t){return(e,n)=>{let r=!1;for(let i of cc(t)){let o=wB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wB(t,e,n){let r=t.field.isKeyField()?K.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?ys(u,l):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}var gr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wr(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return pA(this.inner)}size(){return this.innerSize}};var DB=new je(K.comparator);function mr(){return DB}var NA=new je(K.comparator);function sc(...t){let e=NA;for(let n of t)e=e.insert(n.key,n);return e}function PA(t){let e=NA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Hi(){return uc()}function kA(){return uc()}function uc(){return new gr(t=>t.toString(),(t,e)=>t.isEqual(e))}var bB=new je(K.comparator),TB=new Je(K.comparator);function me(...t){let e=TB;for(let n of t)e=e.add(n);return e}var CB=new Je(ce);function SB(){return CB}function X_(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function xA(t){return{integerValue:""+t}}function AB(t,e){return rB(e)?xA(e):X_(t,e)}var Is=class{constructor(){this._=void 0}};function RB(t,e,n){return t instanceof ws?function(i,o){let s={fields:{[mA]:{stringValue:gA},[vA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&G_(o)&&(o=Th(o)),o&&(s.fields[yA]=o),{mapValue:s}}(n,e):t instanceof Qi?FA(t,e):t instanceof Yi?LA(t,e):function(i,o){let s=OA(i,o),a=I0(s)+I0(i.Re);return pv(s)&&pv(i.Re)?xA(a):X_(i.serializer,a)}(t,e)}function MB(t,e,n){return t instanceof Qi?FA(t,e):t instanceof Yi?LA(t,e):n}function OA(t,e){return t instanceof Ds?function(r){return pv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ws=class extends Is{},Qi=class extends Is{constructor(e){super(),this.elements=e}};function FA(t,e){let n=VA(e);for(let r of t.elements)n.some(i=>Fn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Yi=class extends Is{constructor(e){super(),this.elements=e}};function LA(t,e){let n=VA(e);for(let r of t.elements)n=n.filter(i=>!Fn(i,r));return{arrayValue:{values:n}}}var Ds=class extends Is{constructor(e,n){super(),this.serializer=e,this.Re=n}};function I0(t){return Ne(t.integerValue||t.doubleValue)}function VA(t){return Q_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function NB(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Qi&&i instanceof Qi||r instanceof Yi&&i instanceof Yi?gs(r.elements,i.elements,Fn):r instanceof Ds&&i instanceof Ds?Fn(r.Re,i.Re):r instanceof ws&&i instanceof ws}(t.transform,e.transform)}var Sv=class{constructor(e,n){this.version=e,this.transformResults=n}},lr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var bs=class{};function jA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gc(t.key,lr.none()):new Zi(t.key,t.data,lr.none());{let n=t.data,r=Vt.empty(),i=new Je(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ln(t.key,r,new Xt(i.toArray()),lr.none())}}function PB(t,e,n){t instanceof Zi?function(i,o,s){let a=i.value.clone(),u=D0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ln?function(i,o,s){if(!$d(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=D0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(UA(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function lc(t,e,n,r){return t instanceof Zi?function(o,s,a,u){if(!$d(o.precondition,s))return a;let l=o.value.clone(),h=b0(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ln?function(o,s,a,u){if(!$d(o.precondition,s))return a;let l=b0(o.fieldTransforms,u,s),h=s.data;return h.setAll(UA(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return $d(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function kB(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=OA(r.transform,i||null);o!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,o))}return n||null}function w0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gs(r,i,(o,s)=>NB(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Zi=class extends bs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ln=class extends bs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function UA(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function D0(t,e,n){let r=new Map;De(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,MB(s,a,n[i]))}return r}function b0(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,RB(o,s,e))}return r}var gc=class extends bs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Av=class extends bs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Rv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&PB(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=lc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=kA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=jA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&gs(this.mutations,e.mutations,(n,r)=>w0(n,r))&&gs(this.baseMutations,e.baseMutations,(n,r)=>w0(n,r))}},Mv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){De(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return bB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Nv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Pv=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var We,ye;function xB(t){switch(t){case k.OK:return Y(64938);case k.CANCELLED:case k.UNKNOWN:case k.DEADLINE_EXCEEDED:case k.RESOURCE_EXHAUSTED:case k.INTERNAL:case k.UNAVAILABLE:case k.UNAUTHENTICATED:return!1;case k.INVALID_ARGUMENT:case k.NOT_FOUND:case k.ALREADY_EXISTS:case k.PERMISSION_DENIED:case k.FAILED_PRECONDITION:case k.ABORTED:case k.OUT_OF_RANGE:case k.UNIMPLEMENTED:case k.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function BA(t){if(t===void 0)return hr("GRPC error has no .code"),k.UNKNOWN;switch(t){case We.OK:return k.OK;case We.CANCELLED:return k.CANCELLED;case We.UNKNOWN:return k.UNKNOWN;case We.DEADLINE_EXCEEDED:return k.DEADLINE_EXCEEDED;case We.RESOURCE_EXHAUSTED:return k.RESOURCE_EXHAUSTED;case We.INTERNAL:return k.INTERNAL;case We.UNAVAILABLE:return k.UNAVAILABLE;case We.UNAUTHENTICATED:return k.UNAUTHENTICATED;case We.INVALID_ARGUMENT:return k.INVALID_ARGUMENT;case We.NOT_FOUND:return k.NOT_FOUND;case We.ALREADY_EXISTS:return k.ALREADY_EXISTS;case We.PERMISSION_DENIED:return k.PERMISSION_DENIED;case We.FAILED_PRECONDITION:return k.FAILED_PRECONDITION;case We.ABORTED:return k.ABORTED;case We.OUT_OF_RANGE:return k.OUT_OF_RANGE;case We.UNIMPLEMENTED:return k.UNIMPLEMENTED;case We.DATA_LOSS:return k.DATA_LOSS;default:return Y(39323,{code:t})}}(ye=We||(We={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var T0=null;var OB=new ar([4294967295,4294967295],0);function C0(t){let e=X0().encode(t),n=new Wy;return n.update(e),new Uint8Array(n.digest())}function S0(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ar([n,r],0),new ar([i,o],0)]}var kv=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qi(`Invalid padding: ${n}`);if(r<0)throw new qi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qi(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=ar.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(ar.fromNumber(r)));return i.compare(OB)===1&&(i=new ar([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let n=C0(e),[r,i]=S0(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let n=C0(e),[r,i]=S0(n);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},qi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Jd=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,mc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(te.min(),i,new je(ce),mr(),me())}},mc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,me(),me(),me())}};var hs=class{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}},Xd=class{constructor(e,n){this.targetId=e,this.Ce=n}},eh=class{constructor(e,n,r=pt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},th=class{constructor(){this.Fe=0,this.Me=A0(),this.xe=pt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=me(),n=me(),r=me();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:o})}}),new mc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=A0()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,De(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},xv=class{constructor(e){this.ze=e,this.je=new Map,this.He=mr(),this.Je=Vd(),this.Ye=Vd(),this.Ze=new je(ce)}Xe(e){for(let n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(let n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{let r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){let n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){let o=i.target;if(bv(o))if(r===0){let s=new K(o.path);this.tt(n,s,fn.newNoDocument(s,te.min()))}else De(r===1,20013,{expectedCount:r});else{let s=this.ut(n);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,l)}T0==null||T0.ht(function(h,p,y,m,D){var S,M,O,j,G,ne;let we={localCacheCount:h,existenceFilterCount:p.count,databaseId:y.database,projectId:y.projectId},le=p.unchangedNames;return le&&(we.bloomFilter={applied:D===0,hashCount:(S=le==null?void 0:le.hashCount)!==null&&S!==void 0?S:0,bitmapLength:(j=(O=(M=le==null?void 0:le.bits)===null||M===void 0?void 0:M.bitmap)===null||O===void 0?void 0:O.length)!==null&&j!==void 0?j:0,padding:(ne=(G=le==null?void 0:le.bits)===null||G===void 0?void 0:G.padding)!==null&&ne!==void 0?ne:0,mightContain:_=>{var v;return(v=m==null?void 0:m.mightContain(_))!==null&&v!==void 0&&v}}),we}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let n=e.Ce.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=pr(r).toUint8Array()}catch(u){if(u instanceof Kd)return ps("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new kv(s,i,o)}catch(u){return ps(u instanceof qi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){let r=this.ze.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(n,o,null),i++)}),i}It(e){let n=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&bv(a.target)){let u=new K(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,fn.newNoDocument(u,e))}o.Le&&(n.set(s,o.qe()),o.Qe())}});let r=me();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Jd(e,n,this.Ze,this.He,r);return this.He=mr(),this.Je=Vd(),this.Ye=Vd(),this.Ze=new je(ce),i}et(e,n){if(!this.it(e))return;let r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){let n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new th,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Je(ce),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Je(ce),this.Je=this.Je.insert(e,n)),n}it(e){let n=this._t(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}_t(e){let n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new th),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}};function Vd(){return new je(K.comparator)}function A0(){return new je(K.comparator)}var FB={asc:"ASCENDING",desc:"DESCENDING"},LB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VB={and:"AND",or:"OR"},Ov=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Fv(t,e){return t.useProto3Json||bh(e)?e:{value:e}}function nh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $A(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function jB(t,e){return nh(t,e.toTimestamp())}function On(t){return De(!!t,49232),te.fromTimestamp(function(n){let r=fr(n);return new it(r.seconds,r.nanos)}(t))}function eE(t,e){return Lv(t,e).canonicalString()}function Lv(t,e){let n=function(i){return new Oe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HA(t){let e=Oe.fromString(t);return De(KA(e),10190,{key:e.toString()}),e}function Vv(t,e){return eE(t.databaseId,e.path)}function Xy(t,e){let n=HA(e);if(n.get(1)!==t.databaseId.projectId)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(k.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(zA(n))}function qA(t,e){return eE(t.databaseId,e)}function UB(t){let e=HA(t);return e.length===4?Oe.emptyPath():zA(e)}function jv(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zA(t){return De(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function R0(t,e,n){return{name:Vv(t,e),fields:n.value.mapValue.fields}}function BB(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(De(h===void 0||typeof h=="string",58123),pt.fromBase64String(h||"")):(De(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),pt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?k.UNKNOWN:BA(l.code);return new H(h,l.message||"")}(s);n=new eh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Xy(t,r.document.name),o=On(r.document.updateTime),s=r.document.createTime?On(r.document.createTime):te.min(),a=new Vt({mapValue:{fields:r.document.fields}}),u=fn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new hs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Xy(t,r.document),o=r.readTime?On(r.readTime):te.min(),s=fn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new hs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Xy(t,r.document),o=r.removedTargetIds||[];n=new hs([],o,i,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new Pv(i,o),a=r.targetId;n=new Xd(a,s)}}return n}function $B(t,e){let n;if(e instanceof Zi)n={update:R0(t,e.key,e.value)};else if(e instanceof gc)n={delete:Vv(t,e.key)};else if(e instanceof Ln)n={update:R0(t,e.key,e.data),updateMask:ZB(e.fieldMask)};else{if(!(e instanceof Av))return Y(16599,{ft:e.type});n={verify:Vv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ws)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Qi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Yi)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ds)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw Y(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:jB(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Y(27497)}(t,e.precondition)),n}function HB(t,e){return t&&t.length>0?(De(e!==void 0,14353),t.map(n=>function(i,o){let s=i.updateTime?On(i.updateTime):On(o);return s.isEqual(te.min())&&(s=On(o)),new Sv(s,i.transformResults||[])}(n,e))):[]}function qB(t,e){return{documents:[qA(t,e.path)]}}function zB(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qA(t,i);let o=function(l){if(l.length!==0)return WA(pn.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(y){return{field:us(y.field),direction:KB(y.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=Fv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:n,parent:i}}function GB(t){let e=UB(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){De(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let y=GA(p);return y instanceof pn&&bA(y)?y.getFilters():[y]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(y=>function(D){return new Es(ls(D.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(y))}(n.orderBy));let a=null;n.limit&&(a=function(p){let y;return y=typeof p=="object"?p.value:p,bh(y)?null:y}(n.limit));let u=null;n.startAt&&(u=function(p){let y=!!p.before,m=p.values||[];return new _s(m,y)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let y=!p.before,m=p.values||[];return new _s(m,y)}(n.endAt)),_B(e,i,s,o,a,"F",u,l)}function WB(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ls(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ls(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ls(n.unaryFilter.field);return Qe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ls(n.unaryFilter.field);return Qe.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(ls(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return pn.create(n.compositeFilter.filters.map(r=>GA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function KB(t){return FB[t]}function QB(t){return LB[t]}function YB(t){return VB[t]}function us(t){return{fieldPath:t.canonicalString()}}function ls(t){return jt.fromServerFormat(t.fieldPath)}function WA(t){return t instanceof Qe?function(n){if(n.op==="=="){if(m0(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NAN"}};if(g0(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(m0(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NAN"}};if(g0(n.value))return{unaryFilter:{field:us(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(n.field),op:QB(n.op),value:n.value}}}(t):t instanceof pn?function(n){let r=n.getFilters().map(i=>WA(i));return r.length===1?r[0]:{compositeFilter:{op:YB(n.op),filters:r}}}(t):Y(54877,{filter:t})}function ZB(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var yc=class t{constructor(e,n,r,i,o=te.min(),s=te.min(),a=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Uv=class{constructor(e){this.wt=e}};function JB(t){let e=GB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cv(e,e.limit,"L"):e}var rh=class{constructor(){}vt(e,n){this.Ct(e,n),n.Ft()}Ct(e,n){if("nullValue"in e)this.Mt(n,5);else if("booleanValue"in e)this.Mt(n,10),n.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(n,15),n.xt(Ne(e.integerValue));else if("doubleValue"in e){let r=Ne(e.doubleValue);isNaN(r)?this.Mt(n,13):(this.Mt(n,15),hc(r)?n.xt(0):n.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(n,20),typeof r=="string"&&(r=fr(r)),n.Ot(`${r.seconds||""}`),n.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,n),this.Bt(n);else if("bytesValue"in e)this.Mt(n,30),n.Lt(pr(e.bytesValue)),this.Bt(n);else if("referenceValue"in e)this.kt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(n,45),n.xt(r.latitude||0),n.xt(r.longitude||0)}else"mapValue"in e?IA(e)?this.Mt(n,Number.MAX_SAFE_INTEGER):EA(e)?this.qt(e.mapValue,n):(this.Qt(e.mapValue,n),this.Bt(n)):"arrayValue"in e?(this.$t(e.arrayValue,n),this.Bt(n)):Y(19022,{Ut:e})}Nt(e,n){this.Mt(n,25),this.Kt(e,n)}Kt(e,n){n.Ot(e)}Qt(e,n){let r=e.fields||{};this.Mt(n,55);for(let i of Object.keys(r))this.Nt(i,n),this.Ct(r[i],n)}qt(e,n){var r,i;let o=e.fields||{};this.Mt(n,53);let s=ms,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(n,15),n.xt(Ne(a)),this.Nt(s,n),this.Ct(o[s],n)}$t(e,n){let r=e.values||[];this.Mt(n,50);for(let i of r)this.Ct(i,n)}kt(e,n){this.Mt(n,37),K.fromName(e).path.forEach(r=>{this.Mt(n,60),this.Kt(r,n)})}Mt(e,n){e.xt(n)}Bt(e){e.xt(2)}};rh.Wt=new rh;var Bv=class{constructor(){this.yn=new $v}addToCollectionParentIndex(e,n){return this.yn.add(n),x.resolve()}getCollectionParents(e,n){return x.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return x.resolve()}deleteFieldIndex(e,n){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,n){return x.resolve()}getDocumentsMatchingTarget(e,n){return x.resolve(null)}getIndexType(e,n){return x.resolve(0)}getFieldIndexes(e,n){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,n){return x.resolve(Wi.min())}getMinOffsetFromCollectionGroup(e,n){return x.resolve(Wi.min())}updateCollectionGroup(e,n,r){return x.resolve()}updateIndexEntries(e,n){return x.resolve()}},$v=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Je(Oe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Je(Oe.comparator)).toArray()}};var eJ=new Uint8Array(0);var M0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QA=41943040,Jt=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Jt.DEFAULT_COLLECTION_PERCENTILE=10,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jt.DEFAULT=new Jt(QA,Jt.DEFAULT_COLLECTION_PERCENTILE,Jt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jt.DISABLED=new Jt(-1,0,0);var vc=class t{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new t(0)}static ir(){return new t(-1)}};var N0="LruGarbageCollector",XB=1048576;function P0([t,e],[n,r]){let i=ce(t,n);return i===0?ce(e,r):i}var Hv=class{constructor(e){this.cr=e,this.buffer=new Je(P0),this.lr=0}hr(){return++this.lr}Pr(e){let n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();P0(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},qv=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){U(N0,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Tr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ns(n)?U(N0,"Ignoring IndexedDB error during garbage collection: ",n):yield Ms(n)}yield this.Ir(3e5)}))}},zv=class{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return x.resolve(q_.le);let r=new Hv(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(M0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),M0):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),as()<=fe.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function e$(t,e){return new zv(t,e)}var Gv=class{constructor(){this.changes=new gr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?x.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Wv=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Kv=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&lc(r.mutation,i,Xt.empty(),it.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){let i=Hi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=sc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Hi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=mr(),s=uc(),a=function(){return uc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Ln)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),lc(h.mutation,l,h.mutation.getFieldMask(),it.now())):s.set(l.key,Xt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new Wv(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=uc(),i=new je((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Xt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=kA();h.forEach(y=>{if(!o.has(y)){let m=jA(n.get(y),r.get(y));m!==null&&p.set(y,m),o=o.add(y)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return K.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):x.resolve(Hi()),a=dc,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(y=>{u=u.insert(h,y)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(h=>({batchId:a,changes:PA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let i=sc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=sc();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,y){return new Ki(y,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,y)=>{s=s.insert(p,y)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,fn.newInvalidDocument(h)))});let a=sc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&lc(h.mutation,l,Xt.empty(),it.now()),Sh(n,l)&&(a=a.insert(u,l))}),a})}};var Qv=class{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return x.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:On(i.createTime)}}(n)),x.resolve()}getNamedQuery(e,n){return x.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:JB(i.bundledQuery),readTime:On(i.readTime)}}(n)),x.resolve()}};var Yv=class{constructor(){this.overlays=new je(K.comparator),this.Or=new Map}getOverlay(e,n){return x.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Hi();return x.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.St(e,n,o)}),x.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),x.resolve()}getOverlaysForCollection(e,n,r){let i=Hi(),o=n.length+1,s=new K(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Hi(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Hi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Nv(n,r));let o=this.Or.get(n);o===void 0&&(o=me(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}};var Zv=class{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,x.resolve()}};var _c=class{constructor(){this.Nr=new Je(Ke.Br),this.Lr=new Je(Ke.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){let r=new Ke(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Ke(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){let n=new K(new Oe([])),r=new Ke(n,e),i=new Ke(n,e+1),o=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),o.push(s.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){let n=new K(new Oe([])),r=new Ke(n,e),i=new Ke(n,e+1),o=me();return this.Lr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ke(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ke=class{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return K.comparator(e.key,n.key)||ce(e.Gr,n.Gr)}static kr(e,n){return ce(e.Gr,n.Gr)||K.comparator(e.key,n.key)}};var Jv=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Je(Ke.Br)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Rv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.zr=this.zr.add(new Ke(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,n){return x.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Hr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?z_:this.Jn-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],s=>{let a=this.jr(s.Gr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(ce);return n.forEach(i=>{let o=new Ke(i,0),s=new Ke(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,s],a=>{r=r.add(a.Gr)})}),x.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;K.isDocumentKey(o)||(o=o.child(""));let s=new Ke(new K(o),0),a=new Je(ce);return this.zr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Gr)),!0)},s),x.resolve(this.Jr(a))}Jr(e){let n=[];return e.forEach(r=>{let i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){De(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return x.forEach(n.mutations,i=>{let o=new Ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){let r=new Ke(n,0),i=this.zr.firstAfterOrEqual(r);return x.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){let n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Xv=class{constructor(e){this.Zr=e,this.docs=function(){return new je(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return x.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(e,n){let r=mr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():fn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=mr(),s=n.path,a=new K(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||eB(X2(h),r)<=0||(i.has(h.key)||Sh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}Xr(e,n){return x.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new e_(this)}getSize(e){return x.resolve(this.size)}},e_=class extends Gv{constructor(e){super(),this.vr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),x.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}};var t_=class{constructor(e){this.persistence=e,this.ei=new gr(n=>Y_(n),Z_),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.ti=0,this.ni=new _c,this.targetCount=0,this.ri=vc.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),x.resolve()}ar(e){this.ei.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.ri=new vc(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,x.resolve()}updateTargetData(e,n){return this.ar(n),x.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ei.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ei.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,n){let r=this.ei.get(n)||null;return x.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),x.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),x.resolve()}getMatchingKeysForTargetId(e,n){let r=this.ni.Wr(n);return x.resolve(r)}containsKey(e,n){return x.resolve(this.ni.containsKey(n))}};var ih=class{constructor(e,n){this.ii={},this.overlays={},this.si=new q_(0),this.oi=!1,this.oi=!0,this._i=new Zv,this.referenceDelegate=e(this),this.ai=new t_(this),this.indexManager=new Bv,this.remoteDocumentCache=function(i){return new Xv(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new Uv(n),this.ci=new Qv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Yv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new Jv(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new n_(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,n){return x.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}},n_=class extends dv{constructor(e){super(),this.currentSequenceNumber=e}},r_=class t{constructor(e){this.persistence=e,this.Ti=new _c,this.Ii=null}static Ei(e){return new t(e)}get di(){if(this.Ii)return this.Ii;throw Y(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),x.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),x.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.di,r=>{let i=K.fromPath(r);return this.Ai(e,i).next(o=>{o||n.removeEntry(i,te.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return x.or([()=>x.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}},oh=class t{constructor(e,n){this.persistence=e,this.Ri=new gr(r=>iB(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=e$(this,n)}static Ei(e,n){return new t(e,n)}li(){}hi(e){return x.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){let n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return x.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?x.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),x.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),x.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ud(e.data.value)),n}gr(e,n,r){return x.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.Ri.get(n);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var i_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=me(),i=me();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var o_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var s_=class{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return ZC()?8:nB(Lt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Vs(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new o_;return this.fs(e,n,s).next(a=>{if(o.result=a,this.Is)return this.gs(e,n,s,a.size)})}).next(()=>o.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?(as()<=fe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),x.resolve()):(as()<=fe.DEBUG&&U("QueryEngine","Query:",cs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(as()<=fe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(n))):x.resolve())}Rs(e,n){if(E0(n))return x.resolve(null);let r=xn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cv(n,null,"F"),r=xn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.As.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ps(n,a);return this.ys(n,l,s,u.readTime)?this.Rs(e,Cv(n,null,"F")):this.ws(e,l,n,u)}))})))}Vs(e,n,r,i){return E0(n)||i.isEqual(te.min())?x.resolve(null):this.As.getDocuments(e,r).next(o=>{let s=this.ps(n,o);return this.ys(n,s,r,i)?x.resolve(null):(as()<=fe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cs(n)),this.ws(e,s,n,J2(i,dc)).next(a=>a))})}ps(e,n){let r=new Je(MA(e));return n.forEach((i,o)=>{Sh(e,o)&&(r=r.add(o))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,n,r){return as()<=fe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",cs(n)),this.As.getDocumentsMatchingQuery(e,n,Wi.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var tE="LocalStore",t$=3e8,a_=class{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new je(ce),this.Ds=new gr(o=>Y_(o),Z_),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kv(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}};function n$(t,e,n,r){return new a_(t,e,n,r)}function YA(t,e){return C(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Ms:l,removedBatchIds:s,addedBatchIds:a}))})})})}function r$(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,y=p.keys(),m=x.resolve();return y.forEach(D=>{m=m.next(()=>h.getEntry(u,D)).next(S=>{let M=l.docVersions.get(D);De(M!==null,48541),S.version.compareTo(M)<0&&(p.applyToRemoteDocument(S,l),S.isValidDocument()&&(S.setReadTime(l.commitVersion),h.addEntry(S)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ZA(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function i$(t,e){let n=X(t),r=e.snapshotVersion,i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;let a=[];e.targetChanges.forEach((h,p)=>{let y=i.get(p);if(!y)return;a.push(n.ai.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.ai.addMatchingKeys(o,h.addedDocuments,p)));let m=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?m=m.withResumeToken(pt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),i=i.insert(p,m),function(S,M,O){return S.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-S.snapshotVersion.toMicroseconds()>=t$?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(y,m,h)&&a.push(n.ai.updateTargetData(o,m))});let u=mr(),l=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(o$(o,s,e.documentUpdates).next(h=>{u=h.xs,l=h.Os})),!r.isEqual(te.min())){let h=n.ai.getLastRemoteSnapshotVersion(o).next(p=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Ss=i,o))}function o$(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=mr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(tE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{xs:s,Os:i}})}function s$(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=z_),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function a$(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):n.ai.allocateTargetId(r).next(s=>(i=new yc(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}function c_(t,e,n){return C(this,null,function*(){let r=X(t),i=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ns(s))throw s;U(tE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)})}function k0(t,e,n){let r=X(t),i=te.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=X(u),y=p.Ds.get(h);return y!==void 0?x.resolve(p.Ss.get(y)):p.ai.getTargetData(l,h)}(r,s,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,n?i:te.min(),n?o:me())).next(a=>(c$(r,IB(e),a),{documents:a,Ns:o})))}function c$(t,e,n){let r=t.vs.get(e)||te.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}var sh=class{constructor(){this.activeTargetIds=SB()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var u_=class{constructor(){this.So=new sh,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new sh,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var l_=class{vo(e){}shutdown(){}};var x0="ConnectivityMonitor",ah=class{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){U(x0,"Network connectivity changed: AVAILABLE");for(let e of this.Oo)e(0)}xo(){U(x0,"Network connectivity changed: UNAVAILABLE");for(let e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var jd=null;function d_(){return jd===null?jd=function(){return 268435456+Math.round(2147483648*Math.random())}():jd++,"0x"+jd.toString(16)}var ev="RestConnection",u$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},h_=class{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Qd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,o){let s=d_(),a=this.$o(e,n.toUriEncodedString());U(ev,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,i,o),this.Ko(e,a,u,r).then(l=>(U(ev,`Received RPC '${e}' ${s}: `,l),l),l=>{throw ps(ev,`RPC '${e}' ${s} failed with error: `,l,"url: ",a,"request:",r),l})}Wo(e,n,r,i,o,s){return this.Qo(e,n,r,i,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,n){let r=u$[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}};var f_=class{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}};var ft="WebChannelConnection",p_=class extends h_{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){let o=d_();return new Promise((s,a)=>{let u=new Ky;u.setWithCredentials(!0),u.listenOnce(Qy.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case oc.NO_ERROR:let h=u.getResponseJson();U(ft,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case oc.TIMEOUT:U(ft,`RPC '${e}' ${o} timed out`),a(new H(k.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:let p=u.getStatus();if(U(ft,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let y=u.getResponseJson();Array.isArray(y)&&(y=y[0]);let m=y==null?void 0:y.error;if(m&&m.status&&m.message){let D=function(M){let O=M.toLowerCase().replace(/_/g,"-");return Object.values(k).indexOf(O)>=0?O:k.UNKNOWN}(m.status);a(new H(D,m.message))}else a(new H(k.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(k.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{s_:e,streamId:o,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{U(ft,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(ft,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}a_(e,n,r){let i=d_(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Jy(),a=Zy(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),y=!1,m=!1,D=new f_({Go:M=>{m?U(ft,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(y||(U(ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),y=!0),U(ft,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},zo:()=>p.close()}),S=(M,O,j)=>{M.listen(O,G=>{try{j(G)}catch(ne){setTimeout(()=>{throw ne},0)}})};return S(p,ss.EventType.OPEN,()=>{m||(U(ft,`RPC '${e}' stream ${i} transport opened.`),D.t_())}),S(p,ss.EventType.CLOSE,()=>{m||(m=!0,U(ft,`RPC '${e}' stream ${i} transport closed`),D.r_())}),S(p,ss.EventType.ERROR,M=>{m||(m=!0,ps(ft,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),D.r_(new H(k.UNAVAILABLE,"The operation could not be completed")))}),S(p,ss.EventType.MESSAGE,M=>{var O;if(!m){let j=M.data[0];De(!!j,16349);let G=j,ne=(G==null?void 0:G.error)||((O=G[0])===null||O===void 0?void 0:O.error);if(ne){U(ft,`RPC '${e}' stream ${i} received error:`,ne);let we=ne.status,le=function(E){let b=We[E];if(b!==void 0)return BA(b)}(we),_=ne.message;le===void 0&&(le=k.INTERNAL,_="Unknown error status: "+we+" with message "+ne.message),m=!0,D.r_(new H(le,_)),p.close()}else U(ft,`RPC '${e}' stream ${i} received:`,j),D.i_(j)}}),S(a,Yy.STAT_EVENT,M=>{M.stat===Fd.PROXY?U(ft,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Fd.NOPROXY&&U(ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{D.n_()},0),D}};function tv(){return typeof document<"u"?document:null}function Ah(t){return new Ov(t,!0)}var ch=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();let n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}};var O0="PersistentStream",uh=class{constructor(e,n,r,i,o,s,a,u){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new ch(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}stop(){return C(this,null,function*(){this.w_()&&(yield this.close(0))})}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}C_(){return C(this,null,function*(){if(this.b_())return this.close(0)})}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}close(e,n){return C(this,null,function*(){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===k.RESOURCE_EXHAUSTED?(hr(n.toString()),hr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===k.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Zo(n)})}O_(){}auth(){this.state=1;let e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{let i=new H(k.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){let r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(()=>C(this,null,function*(){this.state=0,this.start()}))}L_(e){return U(O0,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(U(O0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},g_=class extends uh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();let n=BB(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?On(s.readTime):te.min()}(e);return this.listener.Q_(n,r)}U_(e){let n={};n.database=jv(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=bv(u)?{documents:qB(o,u)}:{query:zB(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=$A(o,s.resumeToken);let l=Fv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=nh(o,s.snapshotVersion.toTimestamp());let l=Fv(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=WB(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){let n={};n.database=jv(this.serializer),n.removeTarget=e,this.F_(n)}},m_=class extends uh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return De(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,De(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){De(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();let n=HB(e.writeResults,e.commitTime),r=On(e.commitTime);return this.listener.j_(r,n)}H_(){let e={};e.database=jv(this.serializer),this.F_(e)}G_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>$B(this.serializer,r))};this.F_(n)}};var y_=class{},v_=class extends y_{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Qo(e,Lv(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(k.UNKNOWN,o.toString())})}Wo(e,n,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Wo(e,Lv(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===k.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(k.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}},__=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(hr(n),this.ea=!1):U("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}};var Ji="RemoteStore",E_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(s=>{r.enqueueAndForget(()=>C(this,null,function*(){Xi(this)&&(U(Ji,"Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let l=X(u);l.aa.add(4),yield Tc(l),l.la.set("Unknown"),l.aa.delete(4),yield Rh(l)})}(this))}))}),this.la=new __(r,i)}};function Rh(t){return C(this,null,function*(){if(Xi(t))for(let e of t.ua)yield e(!0)})}function Tc(t){return C(this,null,function*(){for(let e of t.ua)yield e(!1)})}function JA(t,e){let n=X(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),oE(n)?iE(n):Ps(n).b_()&&rE(n,e))}function nE(t,e){let n=X(t),r=Ps(n);n._a.delete(e),r.b_()&&XA(n,e),n._a.size===0&&(r.b_()?r.v_():Xi(n)&&n.la.set("Unknown"))}function rE(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ps(t).U_(e)}function XA(t,e){t.ha.Ke(e),Ps(t).K_(e)}function iE(t){t.ha=new xv({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Ps(t).start(),t.la.ta()}function oE(t){return Xi(t)&&!Ps(t).w_()&&t._a.size>0}function Xi(t){return X(t).aa.size===0}function eR(t){t.ha=void 0}function l$(t){return C(this,null,function*(){t.la.set("Online")})}function d$(t){return C(this,null,function*(){t._a.forEach((e,n)=>{rE(t,e)})})}function h$(t,e){return C(this,null,function*(){eR(t),oE(t)?(t.la.ia(e),iE(t)):t.la.set("Unknown")})}function f$(t,e,n){return C(this,null,function*(){if(t.la.set("Online"),e instanceof eh&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i._a.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i._a.delete(a),i.ha.removeTarget(a))})}(t,e)}catch(r){U(Ji,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield lh(t,r)}else if(e instanceof hs?t.ha.Xe(e):e instanceof Xd?t.ha.ot(e):t.ha.nt(e),!n.isEqual(te.min()))try{let r=yield ZA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.ha.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o._a.get(l);h&&o._a.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o._a.get(u);if(!h)return;o._a.set(u,h.withResumeToken(pt.EMPTY_BYTE_STRING,h.snapshotVersion)),XA(o,u);let p=new yc(h.target,u,l,h.sequenceNumber);rE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){U(Ji,"Failed to raise snapshot:",r),yield lh(t,r)}})}function lh(t,e,n){return C(this,null,function*(){if(!Ns(e))throw e;t.aa.add(1),yield Tc(t),t.la.set("Offline"),n||(n=()=>ZA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){U(Ji,"Retrying IndexedDB access"),yield n(),t.aa.delete(1),yield Rh(t)}))})}function tR(t,e){return e().catch(n=>lh(t,n,e))}function Mh(t){return C(this,null,function*(){let e=X(t),n=qr(e),r=e.oa.length>0?e.oa[e.oa.length-1].batchId:z_;for(;p$(e);)try{let i=yield s$(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,g$(e,i)}catch(i){yield lh(e,i)}nR(e)&&rR(e)})}function p$(t){return Xi(t)&&t.oa.length<10}function g$(t,e){t.oa.push(e);let n=qr(t);n.b_()&&n.W_&&n.G_(e.mutations)}function nR(t){return Xi(t)&&!qr(t).w_()&&t.oa.length>0}function rR(t){qr(t).start()}function m$(t){return C(this,null,function*(){qr(t).H_()})}function y$(t){return C(this,null,function*(){let e=qr(t);for(let n of t.oa)e.G_(n.mutations)})}function v$(t,e,n){return C(this,null,function*(){let r=t.oa.shift(),i=Mv.from(r,e,n);yield tR(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Mh(t)})}function _$(t,e){return C(this,null,function*(){e&&qr(t).W_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return xB(s)&&s!==k.ABORTED}(i.code)){let o=r.oa.shift();qr(r).D_(),yield tR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Mh(r)}})}(t,e)),nR(t)&&rR(t)})}function F0(t,e){return C(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),U(Ji,"RemoteStore received new credentials");let r=Xi(n);n.aa.add(3),yield Tc(n),r&&n.la.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),yield Rh(n)})}function E$(t,e){return C(this,null,function*(){let n=X(t);e?(n.aa.delete(2),yield Rh(n)):e||(n.aa.add(2),yield Tc(n),n.la.set("Unknown"))})}function Ps(t){return t.Pa||(t.Pa=function(n,r,i){let o=X(n);return o.Y_(),new g_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:l$.bind(null,t),Jo:d$.bind(null,t),Zo:h$.bind(null,t),Q_:f$.bind(null,t)}),t.ua.push(e=>C(this,null,function*(){e?(t.Pa.D_(),oE(t)?iE(t):t.la.set("Unknown")):(yield t.Pa.stop(),eR(t))}))),t.Pa}function qr(t){return t.Ta||(t.Ta=function(n,r,i){let o=X(n);return o.Y_(),new m_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:m$.bind(null,t),Zo:_$.bind(null,t),z_:y$.bind(null,t),j_:v$.bind(null,t)}),t.ua.push(e=>C(this,null,function*(){e?(t.Ta.D_(),yield Mh(t)):(yield t.Ta.stop(),t.oa.length>0&&(U(Ji,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))}))),t.Ta}var I_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(k.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function sE(t,e){if(hr("AsyncQueue",`${e}: ${t}`),Ns(t))return new H(k.UNAVAILABLE,`${e}: ${t}`);throw t}var dh=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var hh=class{constructor(){this.Ia=new je(K.comparator)}track(e){let n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){let e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}},Ts=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,dh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var w_=class{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}},D_=class{constructor(){this.queries=L0(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=L0(),o.forEach((s,a)=>{for(let u of a.Ra)u.onError(r)})})(this,new H(k.ABORTED,"Firestore shutting down"))}};function L0(){return new gr(t=>RA(t),Ch)}function I$(t,e){return C(this,null,function*(){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new w_,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=yield n.onListen(i,!0);break;case 1:o.Aa=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=sE(s,`Initialization of query '${cs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&aE(n)})}function w$(t,e){return C(this,null,function*(){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.Ra.indexOf(e);s>=0&&(o.Ra.splice(s,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function D$(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.Ra)a.pa(i)&&(r=!0);s.Aa=i}}r&&aE(n)}function b$(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.Ra)o.onError(n);r.queries.delete(e)}function aE(t){t.fa.forEach(e=>{e.next()})}var b_,V0;(V0=b_||(b_={})).ya="default",V0.Cache="cache";var T_=class{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ts(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;let r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;let n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Ts.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==b_.Cache}};var fh=class{constructor(e){this.key=e}},ph=class{constructor(e){this.key=e}},C_=class{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=me(),this.mutatedKeys=me(),this.Ua=MA(e),this.Ka=new dh(this.Ua)}get Wa(){return this.qa}Ga(e,n){let r=n?n.za:new hh,i=n?n.Ka:this.Ka,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let y=i.get(h),m=Sh(this.query,p)?p:null,D=!!y&&this.mutatedKeys.has(y.key),S=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations),M=!1;y&&m?y.data.isEqual(m.data)?D!==S&&(r.track({type:3,doc:m}),M=!0):this.ja(y,m)||(r.track({type:2,doc:m}),M=!0,(u&&this.Ua(m,u)>0||l&&this.Ua(m,l)<0)&&(a=!0)):!y&&m?(r.track({type:0,doc:m}),M=!0):y&&!m&&(r.track({type:1,doc:y}),M=!0,(u||l)&&(a=!0)),M&&(m?(s=s.add(m),o=S?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ka:s,za:r,ys:a,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;let s=e.za.da();s.sort((h,p)=>function(m,D){let S=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:M})}};return S(m)-S(D)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),i=i!=null&&i;let a=n&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,l=u!==this.Qa;return this.Qa=u,s.length!==0||l?{snapshot:new Ts(this.query,e.Ka,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:a}:{Ya:a}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new hh,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];let e=this.$a;this.$a=me(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});let n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new ph(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new fh(r))}),n}Xa(e){this.qa=e.Ns,this.$a=me();let n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Ts.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}},cE="SyncEngine",S_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},A_=class{constructor(e){this.key=e,this.tu=!1}},R_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new gr(a=>RA(a),Ch),this.iu=new Map,this.su=new Set,this.ou=new je(K.comparator),this._u=new Map,this.au=new _c,this.uu={},this.cu=new Map,this.lu=vc.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}};function T$(t,e,n=!0){return C(this,null,function*(){let r=uR(t),i,o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=yield iR(r,e,n,!0),i})}function C$(t,e){return C(this,null,function*(){let n=uR(t);yield iR(n,e,!0,!1)})}function iR(t,e,n,r){return C(this,null,function*(){let i=yield a$(t.localStore,xn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield S$(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JA(t.remoteStore,i),a})}function S$(t,e,n,r,i){return C(this,null,function*(){t.Pu=(p,y,m)=>function(S,M,O,j){return C(this,null,function*(){let G=M.view.Ga(O);G.ys&&(G=yield k0(S.localStore,M.query,!1).then(({documents:_})=>M.view.Ga(_,G)));let ne=j&&j.targetChanges.get(M.targetId),we=j&&j.targetMismatches.get(M.targetId)!=null,le=M.view.applyChanges(G,S.isPrimaryClient,ne,we);return U0(S,M.targetId,le.Ya),le.snapshot})}(t,p,y,m);let o=yield k0(t.localStore,e,!0),s=new C_(e,o.Ns),a=s.Ga(o.documents),u=mc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);U0(t,n,l.Ya);let h=new S_(e,n,s);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),l.snapshot})}function A$(t,e,n){return C(this,null,function*(){let r=X(t),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(s=>!Ch(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield c_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&nE(r.remoteStore,i.targetId),M_(r,i.targetId)}).catch(Ms))):(M_(r,i.targetId),yield c_(r.localStore,i.targetId,!0))})}function R$(t,e){return C(this,null,function*(){let n=X(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),nE(n.remoteStore,r.targetId))})}function M$(t,e,n){return C(this,null,function*(){let r=L$(t);try{let i=yield function(s,a){let u=X(s),l=it.now(),h=a.reduce((m,D)=>m.add(D.key),me()),p,y;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let D=mr(),S=me();return u.Cs.getEntries(m,h).next(M=>{D=M,D.forEach((O,j)=>{j.isValidDocument()||(S=S.add(O))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,D)).next(M=>{p=M;let O=[];for(let j of a){let G=kB(j,p.get(j.key).overlayedDocument);G!=null&&O.push(new Ln(j.key,G,wA(G.value.mapValue),lr.exists(!0)))}return u.mutationQueue.addMutationBatch(m,l,O,a)}).next(M=>{y=M;let O=M.applyToLocalDocumentSet(p,S);return u.documentOverlayCache.saveOverlays(m,M.batchId,O)})}).then(()=>({batchId:y.batchId,changes:PA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.uu[s.currentUser.toKey()];l||(l=new je(ce)),l=l.insert(a,u),s.uu[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Cc(r,i.changes),yield Mh(r.remoteStore)}catch(i){let o=sE(i,"Failed to persist write");n.reject(o)}})}function oR(t,e){return C(this,null,function*(){let n=X(t);try{let r=yield i$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n._u.get(o);s&&(De(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?De(s.tu,14607):i.removedDocuments.size>0&&(De(s.tu,42227),s.tu=!1))}),yield Cc(n,r,e)}catch(r){yield Ms(r)}})}function j0(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ru.forEach((o,s)=>{let a=s.view.ga(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let y of p.Ra)y.ga(a)&&(l=!0)}),l&&aE(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function N$(t,e,n){return C(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r._u.get(e),o=i&&i.key;if(o){let s=new je(K.comparator);s=s.insert(o,fn.newNoDocument(o,te.min()));let a=me().add(o),u=new Jd(te.min(),new Map,new je(ce),s,a);yield oR(r,u),r.ou=r.ou.remove(o),r._u.delete(e),uE(r)}else yield c_(r.localStore,e,!1).then(()=>M_(r,e,n)).catch(Ms)})}function P$(t,e){return C(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield r$(n.localStore,e);aR(n,r,null),sR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Cc(n,i)}catch(i){yield Ms(i)}})}function k$(t,e,n){return C(this,null,function*(){let r=X(t);try{let i=yield function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(De(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);aR(r,e,n),sR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Cc(r,i)}catch(i){yield Ms(i)}})}function sR(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function aR(t,e,n){let r=X(t),i=r.uu[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function M_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||cR(t,r)})}function cR(t,e){t.su.delete(e.path.canonicalString());let n=t.ou.get(e);n!==null&&(nE(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),uE(t))}function U0(t,e,n){for(let r of n)r instanceof fh?(t.au.addReference(r.key,e),x$(t,r)):r instanceof ph?(U(cE,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||cR(t,r.key)):Y(19791,{Iu:r})}function x$(t,e){let n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(U(cE,"New document in limbo: "+n),t.su.add(r),uE(t))}function uE(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){let e=t.su.values().next().value;t.su.delete(e);let n=new K(Oe.fromString(e)),r=t.lu.next();t._u.set(r,new A_(n)),t.ou=t.ou.insert(n,r),JA(t.remoteStore,new yc(xn(J_(n.path)),r,"TargetPurposeLimboResolution",q_.le))}}function Cc(t,e,n){return C(this,null,function*(){let r=X(t),i=[],o=[],s=[];r.ru.isEmpty()||(r.ru.forEach((a,u)=>{s.push(r.Pu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=i_.Ps(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.nu.Q_(i),yield function(u,l){return C(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,y=>x.forEach(y.ls,m=>h.persistence.referenceDelegate.addReference(p,y.targetId,m)).next(()=>x.forEach(y.hs,m=>h.persistence.referenceDelegate.removeReference(p,y.targetId,m)))))}catch(p){if(!Ns(p))throw p;U(tE,"Failed to update sequence numbers: "+p)}for(let p of l){let y=p.targetId;if(!p.fromCache){let m=h.Ss.get(y),D=m.snapshotVersion,S=m.withLastLimboFreeSnapshotVersion(D);h.Ss=h.Ss.insert(y,S)}}})}(r.localStore,o))})}function O$(t,e){return C(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){U(cE,"User change. New user:",e.toKey());let r=yield YA(n.localStore,e);n.currentUser=e,function(o,s){o.cu.forEach(a=>{a.forEach(u=>{u.reject(new H(k.CANCELLED,s))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cc(n,r.Ms)}})}function F$(t,e){let n=X(t),r=n._u.get(e);if(r&&r.tu)return me().add(r.key);{let i=me(),o=n.iu.get(e);if(!o)return i;for(let s of o){let a=n.ru.get(s);i=i.unionWith(a.view.Wa)}return i}}function uR(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=F$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N$.bind(null,e),e.nu.Q_=D$.bind(null,e.eventManager),e.nu.Tu=b$.bind(null,e.eventManager),e}function L$(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k$.bind(null,e),e}var lR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return C(this,null,function*(){this.serializer=Ah(n.databaseInfo.databaseId),this.sharedClientState=this.Au(n),this.persistence=this.Ru(n),yield this.persistence.start(),this.localStore=this.Vu(n),this.gcScheduler=this.mu(n,this.localStore),this.indexBackfillerScheduler=this.fu(n,this.localStore)})}mu(n,r){return null}fu(n,r){return null}Vu(n){return n$(this.persistence,new s_,n.initialUser,this.serializer)}Ru(n){return new ih(r_.Ei,this.serializer)}Au(n){return new u_}terminate(){return C(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),N_=class extends lR{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){De(this.persistence.referenceDelegate instanceof oh,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new qv(r,e.asyncQueue,n)}Ru(e){let n=this.cacheSizeBytes!==void 0?Jt.withCacheSize(this.cacheSizeBytes):Jt.DEFAULT;return new ih(r=>oh.Ei(r,n),this.serializer)}};var V$=(()=>{class t{initialize(n,r){return C(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>j0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=O$.bind(null,this.syncEngine),yield E$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new D_}()}createDatastore(n){let r=Ah(n.databaseInfo.databaseId),i=function(s){return new p_(s)}(n.databaseInfo);return function(s,a,u,l){return new v_(s,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new E_(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>j0(this.syncEngine,r,0),function(){return ah.C()?new ah:new l_}())}createSyncEngine(n,r){return function(o,s,a,u,l,h,p){let y=new R_(o,s,a,u,l,h);return p&&(y.hu=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var n,r;yield function(o){return C(this,null,function*(){let s=X(o);U(Ji,"RemoteStore shutting down."),s.aa.add(5),yield Tc(s),s.ca.shutdown(),s.la.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var P_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):hr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var zr="FirestoreClient",k_=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ze.UNAUTHENTICATED,this.clientId=zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){U(zr,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(zr,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=sE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function nv(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U(zr,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield YA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function B0(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield j$(t);U(zr,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>F0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>F0(e.remoteStore,i)),t._onlineComponents=e})}function j$(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U(zr,"Using user provided OfflineComponentProvider");try{yield nv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===k.FAILED_PRECONDITION||i.code===k.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ps("Error using user provided cache. Falling back to memory cache: "+n),yield nv(t,new lR)}}else U(zr,"Using default OfflineComponentProvider"),yield nv(t,new N_(void 0));return t._offlineComponents})}function dR(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U(zr,"Using user provided OnlineComponentProvider"),yield B0(t,t._uninitializedComponentsProvider._online)):(U(zr,"Using default OnlineComponentProvider"),yield B0(t,new V$))),t._onlineComponents})}function U$(t){return dR(t).then(e=>e.syncEngine)}function $0(t){return C(this,null,function*(){let e=yield dR(t),n=e.eventManager;return n.onListen=T$.bind(null,e.syncEngine),n.onUnlisten=A$.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=C$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=R$.bind(null,e.syncEngine),n})}function hR(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var H0=new Map;function fR(t,e,n){if(!n)throw new H(k.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function B$(t,e,n,r){if(e===!0&&r===!0)throw new H(k.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function q0(t){if(!K.isDocumentKey(t))throw new H(k.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function z0(t){if(K.isDocumentKey(t))throw new H(k.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function dr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(k.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Nh(t);throw new H(k.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var pR="firestore.googleapis.com",G0=!0,gh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(k.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pR,this.ssl=G0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:G0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XB)throw new H(k.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(k.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Cs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(k.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(k.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gh(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new rv;switch(r.type){case"firstParty":return new av(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(k.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=H0.get(n);r&&(U("ComponentProvider","Removing Datastore"),H0.delete(n),r.terminate())}(this),Promise.resolve()}};function gR(t,e,n,r={}){var i;let o=(t=dr(t,Cs))._getSettings(),s=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),a=`${e}:${n}`;o.host!==pR&&o.host!==a&&ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},o),{host:a,ssl:!1,emulatorOptions:r});if(!xi(u,s)&&(t._setSettings(u),r.mockUserToken)){let l,h;if(typeof r.mockUserToken=="string")l=r.mockUserToken,h=Ze.MOCK_USER;else{l=GC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new H(k.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ze(p)}t._authCredentials=new iv(new Hd(l,h))}}var Ss=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Dt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},$r=class t extends Ss{constructor(e,n,r){super(e,n,J_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Dt(this.firestore,null,new K(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function mR(t,e,...n){if(t=rt(t),fR("collection","path",e),t instanceof Cs){let r=Oe.fromString(e,...n);return z0(r),new $r(t,null,r)}{if(!(t instanceof Dt||t instanceof $r))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return z0(r),new $r(t.firestore,null,r)}}function yR(t,e,...n){if(t=rt(t),arguments.length===1&&(e=zd.newId()),fR("doc","path",e),t instanceof Cs){let r=Oe.fromString(e,...n);return q0(r),new Dt(t,null,new K(r))}{if(!(t instanceof Dt||t instanceof $r))throw new H(k.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Oe.fromString(e,...n));return q0(r),new Dt(t.firestore,t instanceof $r?t.converter:null,new K(r))}}var W0="AsyncQueue",mh=class{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new ch(this,"async_queue_retry"),this.ju=()=>{let r=tv();r&&U(W0,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;let n=tv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;let n=tv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});let n=new ur;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}Zu(){return C(this,null,function*(){if(this.Qu.length!==0){try{yield this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!Ns(e))throw e;U(W0,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}})}Yu(e){let n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,hr("INTERNAL UNHANDLED ERROR: ",K0(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);let i=I_.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&Y(47125,{ec:K0(this.Ku)})}verifyOperationInProgress(){}tc(){return C(this,null,function*(){let e;do e=this.Hu,yield e;while(e!==this.Hu)})}nc(e){for(let n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){let n=this.Uu.indexOf(e);this.Uu.splice(n,1)}};function K0(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function Q0(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Gr=class extends Cs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mh,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new mh(e),this._firestoreClient=void 0,yield e}})}};function vR(t,e){let n=typeof t=="object"?t:ns(),r=typeof t=="string"?t:e||Qd,i=ud(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=qC("firestore");o&&gR(i,...o)}return i}function _R(t){if(t._terminated)throw new H(k.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||$$(t),t._firestoreClient}function $$(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new hv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hR(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new k_(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}var Ec=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(pt.fromBase64String(e))}catch(n){throw new H(k.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var As=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(k.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ic=class{constructor(e){this._methodName=e}};var wc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(k.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(k.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}};var Dc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var H$=/^__.*__$/,x_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ln(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zi(e,this.data,n,this.fieldTransforms)}},yh=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ln(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function ER(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{oc:t})}}var O_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return _h(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(ER(this.oc)&&H$.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}},F_=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(e)}dc(e,n,r,i=!1){return new O_({oc:e,methodName:n,Ec:r,path:jt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function lE(t){let e=t._freezeSettings(),n=Ah(t._databaseId);return new F_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function q$(t,e,n,r,i,o={}){let s=t.dc(o.merge||o.mergeFields?2:0,e,n,i);dE("Data must be an object, but it was:",s,r);let a=IR(r,s),u,l;if(o.merge)u=new Xt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let y=L_(e,p,n);if(!s.contains(y))throw new H(k.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);DR(h,y)||h.push(y)}u=new Xt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new x_(new Vt(a),u,l)}var vh=class t extends Ic{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function z$(t,e,n,r){let i=t.dc(1,e,n);dE("Data must be an object, but it was:",i,r);let o=[],s=Vt.empty();Wr(r,(u,l)=>{let h=hE(e,u,n);l=rt(l);let p=i.hc(h);if(l instanceof vh)o.push(h);else{let y=Sc(l,p);y!=null&&(o.push(h),s.set(h,y))}});let a=new Xt(o);return new yh(s,a,i.fieldTransforms)}function G$(t,e,n,r,i,o){let s=t.dc(1,e,n),a=[L_(e,r,n)],u=[i];if(o.length%2!=0)throw new H(k.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)a.push(L_(e,o[y])),u.push(o[y+1]);let l=[],h=Vt.empty();for(let y=a.length-1;y>=0;--y)if(!DR(l,a[y])){let m=a[y],D=u[y];D=rt(D);let S=s.hc(m);if(D instanceof vh)l.push(m);else{let M=Sc(D,S);M!=null&&(l.push(m),h.set(m,M))}}let p=new Xt(l);return new yh(h,p,s.fieldTransforms)}function W$(t,e,n,r=!1){return Sc(n,t.dc(r?4:3,e))}function Sc(t,e){if(wR(t=rt(t)))return dE("Unsupported field value:",e,t),IR(t,e);if(t instanceof Ic)return function(r,i){if(!ER(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Sc(a,i.Pc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AB(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=it.fromDate(r);return{timestampValue:nh(i.serializer,o)}}if(r instanceof it){let o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nh(i.serializer,o)}}if(r instanceof wc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ec)return{bytesValue:$A(i.serializer,r._byteString)};if(r instanceof Dt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:eE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Dc)return function(s,a){return{mapValue:{fields:{[W_]:{stringValue:K_},[ms]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Tc("VectorValues must only contain numeric values.");return X_(a.serializer,l)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Nh(r)}`)}(t,e)}function IR(t,e){let n={};return pA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wr(t,(r,i)=>{let o=Sc(i,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function wR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof it||t instanceof wc||t instanceof Ec||t instanceof Dt||t instanceof Ic||t instanceof Dc)}function dE(t,e,n){if(!wR(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Nh(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function L_(t,e,n){if((e=rt(e))instanceof As)return e._internalPath;if(typeof e=="string")return hE(t,e);throw _h("Field path arguments must be of type string or ",t,!1,void 0,n)}var K$=new RegExp("[~\\*/\\[\\]]");function hE(t,e,n){if(e.search(K$)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new As(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _h(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(k.INVALID_ARGUMENT,a+t+u)}function DR(t,e){return t.some(n=>n.isEqual(e))}var Eh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new V_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(fE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},V_=class extends Eh{data(){return super.data()}};function fE(t,e){return typeof e=="string"?hE(t,e):e instanceof As?e._internalPath:e._delegate._internalPath}function Q$(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(k.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var bc=class{},j_=class extends bc{};function bR(t,e,...n){let r=[];e instanceof bc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof U_).length,a=o.filter(u=>u instanceof Ih).length;if(s>1||s>0&&a>0)throw new H(k.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Ih=class t extends j_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return CR(e._query,n),new Ss(e.firestore,e.converter,Tv(e._query,n))}_parse(e){let n=lE(e.firestore);return function(o,s,a,u,l,h,p){let y;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new H(k.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Z0(p,h);let D=[];for(let S of p)D.push(Y0(u,o,S));y={arrayValue:{values:D}}}else y=Y0(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Z0(p,h),y=W$(a,s,p,h==="in"||h==="not-in");return Qe.create(l,h,y)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function TR(t,e,n){let r=e,i=fE("where",t);return Ih._create(i,r,n)}var U_=class t extends bc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:pn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)CR(s,u),s=Tv(s,u)}(e._query,n),new Ss(e.firestore,e.converter,Tv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function Y0(t,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new H(k.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AA(e)&&n.indexOf("/")!==-1)throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Oe.fromString(n));if(!K.isDocumentKey(r))throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return p0(t,new K(r))}if(n instanceof Dt)return p0(t,n._key);throw new H(k.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(n)}.`)}function Z0(t,e){if(!Array.isArray(t)||t.length===0)throw new H(k.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CR(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(k.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var B_=class{convertValue(e,n="none"){switch(Hr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Wr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ms].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ne(s.doubleValue));return new Dc(o)}convertGeoPoint(e){return new wc(Ne(e.latitude),Ne(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Th(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){let n=fr(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Oe.fromString(e);De(KA(r),9688,{name:e});let i=new Yd(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(n)||hr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function Y$(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var zi=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},wh=class extends Eh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new fs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(fE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},fs=class extends wh{data(e={}){return super.data(e)}},$_=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fs(this._firestore,this._userDataWriter,r.key,r,new zi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(k.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new fs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new fs(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Z$(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Z$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}var Dh=class extends B_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ec(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Dt(this.firestore,null,n)}};function SR(t,e,n){t=dr(t,Dt);let r=dr(t.firestore,Gr),i=Y$(t.converter,e,n);return gE(r,[q$(lE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,lr.none())])}function AR(t,e,n,...r){t=dr(t,Dt);let i=dr(t.firestore,Gr),o=lE(i),s;return s=typeof(e=rt(e))=="string"||e instanceof As?G$(o,"updateDoc",t._key,e,n,r):z$(o,"updateDoc",t._key,e),gE(i,[s.toMutation(t._key,lr.exists(!0))])}function RR(t){return gE(dr(t.firestore,Gr),[new gc(t._key,lr.none())])}function pE(t,...e){var n,r,i;t=rt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||Q0(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Q0(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Dt)l=dr(t.firestore,Gr),h=J_(t._key.path),u={next:p=>{e[s]&&e[s](J$(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=dr(t,Ss);l=dr(p.firestore,Gr),h=p._query;let y=new Dh(l);u={next:m=>{e[s]&&e[s](new $_(l,y,p,m))},error:e[s+1],complete:e[s+2]},Q$(t._query)}return function(y,m,D,S){let M=new P_(S),O=new T_(m,M,D);return y.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return I$(yield $0(y),O)})),()=>{M.yu(),y.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return w$(yield $0(y),O)}))}}(_R(l),h,a,u)}function gE(t,e){return function(r,i){let o=new ur;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return M$(yield U$(r),i,o)})),o.promise}(_R(t),e)}function J$(t,e,n){let r=n.docs.get(e._key),i=new Dh(t);return new wh(t,i,e._key,r,new zi(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Rs=i})(ts),un(new It("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Gr(new ov(r.getProvider("auth-internal")),new cv(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(k.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yd(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$e(i0,o0,e),$e(i0,o0,"esm2017")})();var Ph=function(){return Ph=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ph.apply(this,arguments)};var tH={includeMetadataChanges:!1};function mE(t,e){return e===void 0&&(e=tH),new re(function(n){var r=pE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function MR(t){return mE(t,{includeMetadataChanges:!0})}function NR(t,e){return e===void 0&&(e={}),MR(t).pipe(oe(function(n){return yE(n,e)}))}function yE(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Ph(Ph({},r),(n={},n[e.idField]=t.id,n))}function PR(t){return mE(t,{includeMetadataChanges:!0}).pipe(oe(function(e){return e.docs}))}function kR(t,e){return e===void 0&&(e={}),PR(t).pipe(oe(function(n){return n.map(function(r){return yE(r,e)})}))}var Ac=class{constructor(e){return e}},xR="firestore",vE=class{constructor(){return is(xR)}};var _E=new $("angularfire2.firestore-instances");function nH(t,e){let n=hd(xR,t,e);return n&&new Ac(n)}function rH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ac(r)}}var iH={provide:vE,deps:[[new nr,_E]]},oH={provide:Ac,useFactory:nH,deps:[[new nr,_E],ji]};function mX(t,...e){return $e("angularfire",Li.full,"fst"),Ci([oH,iH,{provide:_E,useFactory:rH(t),multi:!0,deps:[de,ke,Vi,Ka,[new nr,xd],[new nr,wd],...e]}])}var yX=wt(kR,!0);var vX=wt(NR,!0);var _X=wt(mR,!0,2);var EX=wt(RR,!0,2);var IX=wt(yR,!0,2);var wX=wt(vR,!0);var DX=wt(bR,!0,2);var bX=wt(SR,!0,2);var TX=wt(AR,!0,2);var CX=wt(TR,!0,2);var Oh=new $(""),DE=(()=>{let e=class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(r,i){this._zone=i,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o,s){return this._findPluginFor(i).addEventListener(r,i,o,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new q(5101,!1);return this._eventNameToPlugin.set(r,i),i}};w(e,"\u0275fac",function(i){return new(i||e)(z(Oh),z(de))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})(),Rc=class{_doc;constructor(e){this._doc=e}manager},kh="ng-app-id";function OR(t){for(let e of t)e.remove()}function FR(t,e){let n=e.createElement("style");return n.textContent=t,n}function sH(t,e,n,r){var o;let i=(o=t.head)==null?void 0:o.querySelectorAll(`style[${kh}="${e}"],link[${kh}="${e}"]`);if(i)for(let s of i)s.removeAttribute(kh),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function IE(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var bE=(()=>{let e=class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.isServer=Ed(s),sH(r,i,this.inline,this.external),this.hosts.add(r.head)}addStyles(r,i){for(let o of r)this.addUsage(o,this.inline,FR);i==null||i.forEach(o=>this.addUsage(o,this.external,IE))}removeStyles(r,i){for(let o of r)this.removeUsage(o,this.inline);i==null||i.forEach(o=>this.removeUsage(o,this.external))}addUsage(r,i,o){let s=i.get(r);s?s.usage++:i.set(r,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,o(r,this.doc)))})}removeUsage(r,i){let o=i.get(r);o&&(o.usage--,o.usage<=0&&(OR(o.elements),i.delete(r)))}ngOnDestroy(){for(let[,{elements:r}]of[...this.inline,...this.external])OR(r);this.hosts.clear()}addHost(r){this.hosts.add(r);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(r,FR(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(r,IE(i,this.doc)))}removeHost(r){this.hosts.delete(r)}addElement(r,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(kh,this.appId),r.appendChild(i)}};w(e,"\u0275fac",function(i){return new(i||e)(z(Ge),z(Gl),z(Im,8),z(Lr))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})(),EE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},TE=/%COMP%/g;var VR="%COMP%",aH=`_nghost-${VR}`,cH=`_ngcontent-${VR}`,uH=!0,lH=new $("",{providedIn:"root",factory:()=>uH});function dH(t){return cH.replace(TE,t)}function hH(t){return aH.replace(TE,t)}function jR(t,e){return e.map(n=>n.replace(TE,t))}var CE=(()=>{let e=class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(r,i,o,s,a,u,l,h=null,p=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.tracingService=p,this.platformIsServer=Ed(u),this.defaultRenderer=new Mc(r,a,l,this.platformIsServer,this.tracingService)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Dn.ShadowDom&&(i=ee(F({},i),{encapsulation:Dn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof xh?o.applyToHost(r):o instanceof Nc&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,y=this.platformIsServer,m=this.tracingService;switch(i.encapsulation){case Dn.Emulated:s=new xh(l,h,i,this.appId,p,a,u,y,m);break;case Dn.ShadowDom:return new wE(l,h,r,i,a,u,this.nonce,y,m);default:s=new Nc(l,h,i,p,a,u,y,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(r){this.rendererByCompId.delete(r)}};w(e,"\u0275fac",function(i){return new(i||e)(z(DE),z(bE),z(Gl),z(lH),z(Ge),z(Lr),z(de),z(Im),z(Yo,8))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})(),Mc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(EE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(LR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(LR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=EE[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=EE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Xn.DashCase|Xn.Important)?e.style.setProperty(n,r,i&Xn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Xn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){var s;if(typeof e=="string"&&(e=Zt().getGlobalEventTarget(this.doc,e),!e))throw new q(5102,!1);let o=this.decoratePreventDefault(r);return(s=this.tracingService)!=null&&s.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function LR(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var wE=class extends Mc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){var m;super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=jR(i.id,h);for(let D of h){let S=document.createElement("style");a&&S.setAttribute("nonce",a),S.textContent=D,this.shadowRoot.appendChild(S)}let p=(m=i.getExternalStyles)==null?void 0:m.call(i);if(p)for(let D of p){let S=IE(D,o);a&&S.setAttribute("nonce",a),this.shadowRoot.appendChild(S)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Nc=class extends Mc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){var y;super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?jR(l,h):h,this.styleUrls=(y=r.getExternalStyles)==null?void 0:y.call(r,l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},xh=class extends Nc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=dH(h),this.hostAttr=hH(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Fh=class t extends Qa{supportsDOMEvents=!0;static makeCurrent(){vy(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=fH();return n==null?null:pH(n)}resetBaseElement(){Pc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return by(document.cookie,e)}},Pc=null;function fH(){return Pc=Pc||document.querySelector("base"),Pc?Pc.getAttribute("href"):null}function pH(t){return new URL(t,document.baseURI).pathname}var gH=(()=>{let e=class e{build(){return new XMLHttpRequest}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})(),BR=(()=>{let e=class e extends Rc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o,s){return r.addEventListener(i,o,s),()=>this.removeEventListener(r,i,o,s)}removeEventListener(r,i,o,s){return r.removeEventListener(i,o,s)}};w(e,"\u0275fac",function(i){return new(i||e)(z(Ge))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})(),UR=["alt","control","meta","shift"],mH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yH={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},$R=(()=>{let e=class e extends Rc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o,s){let a=e.parseEventName(i),u=e.eventCallback(a.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zt().onAndCancel(r,a.domEventName,u,s))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),UR.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=mH[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),UR.forEach(a=>{if(a!==o){let u=yH[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};w(e,"\u0275fac",function(i){return new(i||e)(z(Ge))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})();function vH(t,e){return VC(F({rootComponent:t},_H(e)))}function _H(t){var e;return{appProviders:[...bH,...(e=t==null?void 0:t.providers)!=null?e:[]],platformProviders:DH}}function EH(){Fh.makeCurrent()}function IH(){return new wn}function wH(){return IT(document),document}var DH=[{provide:Lr,useValue:Ty},{provide:Em,useValue:EH,multi:!0},{provide:Ge,useFactory:wH}];var bH=[{provide:Ll,useValue:"root"},{provide:wn,useFactory:IH},{provide:Oh,useClass:BR,multi:!0,deps:[Ge]},{provide:Oh,useClass:$R,multi:!0,deps:[Ge]},CE,bE,DE,{provide:jo,useExisting:CE},{provide:Ja,useClass:gH},[]];var HR=(()=>{let e=class e{_doc;constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};w(e,"\u0275fac",function(i){return new(i||e)(z(Ge))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();var Z="primary",zc=Symbol("RouteTitle"),NE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function no(t){return new NE(t)}function ZR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function CH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Vn(t[n],e[n]))return!1;return!0}function Vn(t,e){let n=t?PE(t):void 0,r=e?PE(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!JR(t[i],e[i]))return!1;return!0}function PE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function JR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function XR(t){return t.length>0?t[t.length-1]:null}function Zr(t){return Up(t)?t:Mi(t)?Re(Promise.resolve(t)):W(t)}var SH={exact:tM,subset:nM},eM={exact:AH,subset:RH,ignored:()=>!0};function qR(t,e,n){return SH[n.paths](t.root,e.root,n.matrixParams)&&eM[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function AH(t,e){return Vn(t,e)}function tM(t,e,n){if(!eo(t.segments,e.segments)||!jh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tM(t.children[r],e.children[r],n))return!1;return!0}function RH(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>JR(t[n],e[n]))}function nM(t,e,n){return rM(t,e,e.segments,n)}function rM(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!eo(i,n)||e.hasChildren()||!jh(i,n,r))}else if(t.segments.length===n.length){if(!eo(t.segments,n)||!jh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!nM(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!eo(t.segments,i)||!jh(t.segments,i,r)||!t.children[Z]?!1:rM(t.children[Z],e,o,r)}}function jh(t,e,n){return e.every((r,i)=>eM[n](t[i].parameters,r.parameters))}var Un=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ie([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return PH.serialize(this)}},Ie=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Uh(this)}},Kr=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){var e;return(e=this._parameterMap)!=null||(this._parameterMap=no(this.parameters)),this._parameterMap}toString(){return oM(this)}};function MH(t,e){return eo(t,e)&&t.every((n,r)=>Vn(n.parameters,e[r].parameters))}function eo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function NH(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Z&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Z&&(n=n.concat(e(i,r)))}),n}var yr=(()=>{let e=class e{};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:()=>new Qr,providedIn:"root"}));let t=e;return t})(),Qr=class{parse(e){let n=new xE(e);return new Un(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${kc(e.root,!0)}`,r=OH(e.queryParams),i=typeof e.fragment=="string"?`#${kH(e.fragment)}`:"";return`${n}${r}${i}`}},PH=new Qr;function Uh(t){return t.segments.map(e=>oM(e)).join("/")}function kc(t,e){if(!t.hasChildren())return Uh(t);if(e){let n=t.children[Z]?kc(t.children[Z],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${kc(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=NH(t,(r,i)=>i===Z?[kc(t.children[Z],!1)]:[`${i}:${kc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Z]!=null?`${Uh(t)}/${n[0]}`:`${Uh(t)}/(${n.join("//")})`}}function iM(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lh(t){return iM(t).replace(/%3B/gi,";")}function kH(t){return encodeURI(t)}function kE(t){return iM(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bh(t){return decodeURIComponent(t)}function zR(t){return Bh(t.replace(/\+/g,"%20"))}function oM(t){return`${kE(t.path)}${xH(t.parameters)}`}function xH(t){return Object.entries(t).map(([e,n])=>`;${kE(e)}=${kE(n)}`).join("")}function OH(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Lh(n)}=${Lh(i)}`).join("&"):`${Lh(n)}=${Lh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var FH=/^[^\/()?;#]+/;function SE(t){let e=t.match(FH);return e?e[0]:""}var LH=/^[^\/()?;=#]+/;function VH(t){let e=t.match(LH);return e?e[0]:""}var jH=/^[^=?&#]+/;function UH(t){let e=t.match(jH);return e?e[0]:""}var BH=/^[^&#]+/;function $H(t){let e=t.match(BH);return e?e[0]:""}var xE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Z]=new Ie(e,n)),r}parseSegment(){let e=SE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new q(4009,!1);return this.capture(e),new Kr(Bh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=VH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=SE(this.remaining);i&&(r=i,this.capture(r))}e[Bh(n)]=Bh(r)}parseQueryParam(e){let n=UH(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=$H(this.remaining);s&&(r=s,this.capture(r))}let i=zR(n),o=zR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=SE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Z]:new Ie([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new q(4011,!1)}};function sM(t){return t.segments.length>0?new Ie([],{[Z]:t}):t}function aM(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=aM(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ie(t.segments,e);return HH(n)}function HH(t){if(t.numberOfChildren===1&&t.children[Z]){let e=t.children[Z];return new Ie(t.segments.concat(e.segments),e.children)}return t}function Yr(t){return t instanceof Un}function cM(t,e,n=null,r=null){let i=uM(t);return lM(i,e,n,r)}function uM(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new Ie(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=sM(r);return e!=null?e:i}function lM(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return AE(i,i,i,n,r);let o=qH(e);if(o.toRoot())return AE(i,i,new Ie([],{}),n,r);let s=zH(o,i,t),a=s.processChildren?Oc(s.segmentGroup,s.index,o.commands):hM(s.segmentGroup,s.index,o.commands);return AE(i,s.segmentGroup,a,n,r)}function Hh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Lc(t){return typeof t=="object"&&t!=null&&t.outlets}function AE(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=dM(t,e,n);let a=sM(aM(s));return new Un(a,o,i)}function dM(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=dM(o,e,n)}),new Ie(t.segments,r)}var qh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Hh(r[0]))throw new q(4003,!1);let i=r.find(Lc);if(i&&i!==XR(r))throw new q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function qH(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new qh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new qh(n,e,r)}var Os=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function zH(t,e,n){if(t.isAbsolute)return new Os(e,!0,0);if(!n)return new Os(e,!1,NaN);if(n.parent===null)return new Os(n,!0,0);let r=Hh(t.commands[0])?0:1,i=n.segments.length-1+r;return GH(n,i,t.numberOfDoubleDots)}function GH(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new q(4005,!1);i=r.segments.length}return new Os(r,!1,i-o)}function WH(t){return Lc(t[0])?t[0].outlets:{[Z]:t}}function hM(t,e,n){if(t!=null||(t=new Ie([],{})),t.segments.length===0&&t.hasChildren())return Oc(t,e,n);let r=KH(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ie(t.segments.slice(0,r.pathIndex),{});return o.children[Z]=new Ie(t.segments.slice(r.pathIndex),t.children),Oc(o,0,i)}else return r.match&&i.length===0?new Ie(t.segments,{}):r.match&&!t.hasChildren()?OE(t,e,n):r.match?Oc(t,0,i):OE(t,e,n)}function Oc(t,e,n){if(n.length===0)return new Ie(t.segments,{});{let r=WH(n),i={};if(Object.keys(r).some(o=>o!==Z)&&t.children[Z]&&t.numberOfChildren===1&&t.children[Z].segments.length===0){let o=Oc(t.children[Z],e,n);return new Ie(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=hM(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ie(t.segments,i)}}function KH(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Lc(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!WR(u,l,s))return o;r+=2}else{if(!WR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function OE(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Lc(o)){let u=QH(o.outlets);return new Ie(r,u)}if(i===0&&Hh(n[0])){let u=t.segments[e];r.push(new Kr(u.path,GR(n[0]))),i++;continue}let s=Lc(o)?o.outlets[Z]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Hh(a)?(r.push(new Kr(s,GR(a))),i+=2):(r.push(new Kr(s,{})),i++)}return new Ie(r,{})}function QH(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=OE(new Ie([],{}),0,r))}),e}function GR(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function WR(t,e,n){return t==n.path&&Vn(e,n.parameters)}var $h="imperative",Ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ye||{}),Bt=class{id;url;constructor(e,n){this.id=e,this.url=n}},Bn=class extends Bt{type=Ye.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$t=class extends Bt{urlAfterRedirects;type=Ye.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Pt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Pt||{}),Ls=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Ls||{}),jn=class extends Bt{reason;code;type=Ye.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},$n=class extends Bt{reason;code;type=Ye.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Vs=class extends Bt{error;target;type=Ye.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vc=class extends Bt{urlAfterRedirects;state;type=Ye.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zh=class extends Bt{urlAfterRedirects;state;type=Ye.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Gh=class extends Bt{urlAfterRedirects;state;shouldActivate;type=Ye.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Wh=class extends Bt{urlAfterRedirects;state;type=Ye.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kh=class extends Bt{urlAfterRedirects;state;type=Ye.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qh=class{route;type=Ye.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yh=class{route;type=Ye.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Zh=class{snapshot;type=Ye.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jh=class{snapshot;type=Ye.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xh=class{snapshot;type=Ye.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ef=class{snapshot;type=Ye.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},js=class{routerEvent;position;anchor;type=Ye.Scroll;constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},jc=class{},Us=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function YH(t,e){var n;return t.providers&&!t._injector&&(t._injector=$a(t.providers,e,`Route: ${t.path}`)),(n=t._injector)!=null?n:e}function gn(t){return t.outlet||Z}function ZH(t,e){let n=t.filter(r=>gn(r)===e);return n.push(...t.filter(r=>gn(r)!==e)),n}function Gc(t){var e;if(!t)return null;if((e=t.routeConfig)!=null&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){let r=n.routeConfig;if(r!=null&&r._loadedInjector)return r._loadedInjector;if(r!=null&&r._injector)return r._injector}return null}var tf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){var e,n;return(n=Gc((e=this.route)==null?void 0:e.snapshot))!=null?n:this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Hn(this.rootInjector)}},Hn=(()=>{let e=class e{rootInjector;contexts=new Map;constructor(r){this.rootInjector=r}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new tf(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};w(e,"\u0275fac",function(i){return new(i||e)(z(qe))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),nf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=FE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=FE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=LE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return LE(e,this._root).map(n=>n.value)}};function FE(t,e){if(t===e.value)return e;for(let n of e.children){let r=FE(t,n);if(r)return r}return null}function LE(t,e){if(t===e.value)return[e];for(let n of e.children){let r=LE(t,n);if(r.length)return r.unshift(e),r}return[]}var Ut=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function xs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Uc=class extends nf{snapshot;constructor(e,n){super(e),this.snapshot=n,zE(this,e)}toString(){return this.snapshot.toString()}};function fM(t){let e=JH(t),n=new He([new Kr("",{})]),r=new He({}),i=new He({}),o=new He({}),s=new He(""),a=new bt(n,r,o,s,i,Z,t,e.root);return a.snapshot=e.root,new Uc(new Ut(a,[]),e)}function JH(t){let e={},n={},r={},i="",o=new to([],e,r,i,n,Z,t,null,{});return new Bc("",new Ut(o,[]))}var bt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){var l,h;this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=(h=(l=this.dataSubject)==null?void 0:l.pipe(oe(p=>p[zc])))!=null?h:W(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return(e=this._paramMap)!=null||(this._paramMap=this.params.pipe(oe(n=>no(n)))),this._paramMap}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=this.queryParams.pipe(oe(n=>no(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function rf(t,e,n="emptyOnly"){var o,s;let r,{routeConfig:i}=t;return e!==null&&(n==="always"||(i==null?void 0:i.path)===""||!e.component&&!((o=e.routeConfig)!=null&&o.loadComponent))?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i==null?void 0:i.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),(s=t._resolvedData)!=null?s:{})},i&&gM(i)&&(r.resolve[zc]=i.title),r}var to=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){var e;return(e=this.data)==null?void 0:e[zc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var e;return(e=this._paramMap)!=null||(this._paramMap=no(this.params)),this._paramMap}get queryParamMap(){var e;return(e=this._queryParamMap)!=null||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Bc=class extends nf{url;constructor(e,n){super(n),this.url=e,zE(this,n)}toString(){return pM(this._root)}};function zE(t,e){e.value._routerState=t,e.children.forEach(n=>zE(t,n))}function pM(t){let e=t.children.length>0?` { ${t.children.map(pM).join(", ")} } `:"";return`${t.value}${e}`}function RE(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Vn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Vn(e.params,n.params)||t.paramsSubject.next(n.params),CH(e.url,n.url)||t.urlSubject.next(n.url),Vn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function VE(t,e){let n=Vn(t.params,e.params)&&MH(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||VE(t.parent,e.parent))}function gM(t){return typeof t.title=="string"||t.title===null}var mM=new $(""),GE=(()=>{let e=class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Ce;deactivateEvents=new Ce;attachEvents=new Ce;detachEvents=new Ce;routerOutletData=fT(void 0);parentContexts=P(Hn);location=P(sn);changeDetector=P(Ft);inputBinder=P(Wc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){var r;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),(r=this.inputBinder)==null||r.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){var i;return((i=this.parentContexts.getContext(r))==null?void 0:i.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r!=null&&r.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new q(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){var o;this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),(o=this.inputBinder)==null||o.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var h;if(this.isActivated)throw new q(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new jE(r,u,o.injector,this.routerOutletData);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),(h=this.inputBinder)==null||h.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275dir",_e({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Et]}));let t=e;return t})(),jE=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===bt?this.route:e===Hn?this.childContexts:e===mM?this.outletData:this.parent.get(e,n)}},Wc=new $(""),WE=(()=>{let e=class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;(i=this.outletDataSubscriptions.get(r))==null||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=ci([i.queryParams,i.params,i.data]).pipe(ut(([s,a,u],l)=>(u=F(F(F({},s),a),u),l===0?W(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=rd(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})();function XH(t,e,n){let r=$c(t,e._root,n?n._root:void 0);return new Uc(r,e)}function $c(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=eq(t,e,n);return new Ut(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>$c(t,a)),s}}let r=tq(e.value),i=e.children.map(o=>$c(t,o));return new Ut(r,i)}}function eq(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return $c(t,r,i);return $c(t,r)})}function tq(t){return new bt(new He(t.url),new He(t.params),new He(t.queryParams),new He(t.fragment),new He(t.data),t.outlet,t.component,t)}var Bs=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},yM="ngNavigationCancelingError";function of(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Yr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=vM(!1,Pt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function vM(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[yM]=!0,n.cancellationCode=e,n}function nq(t){return _M(t)&&Yr(t.url)}function _M(t){return!!t&&t[yM]}var rq=(t,e,n,r)=>oe(i=>(new UE(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),UE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),RE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=xs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=xs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ef(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Jh(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(RE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),RE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},sf=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Fs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function iq(t,e,n){let r=t._root,i=e?e._root:null;return xc(r,i,n,[r.value])}function oq(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Hs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!cb(t)?t:e.get(t):r}function xc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=xs(e);return t.children.forEach(s=>{sq(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Fc(a,n.getContext(s),i)),i}function sq(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=aq(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?xc(t,e,a?a.children:null,r,i):xc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Fs(a.outlet.component,s))}else s&&Fc(e,a,i),i.canActivateChecks.push(new sf(r)),o.component?xc(t,null,a?a.children:null,r,i):xc(t,null,n,r,i);return i}function aq(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!eo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!eo(t.url,e.url)||!Vn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!VE(t,e)||!Vn(t.queryParams,e.queryParams);case"paramsChange":default:return!VE(t,e)}}function Fc(t,e,n){let r=xs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Fc(s,e.children.getContext(o),n):Fc(s,null,n):Fc(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Fs(e.outlet.component,i)):n.canDeactivateChecks.push(new Fs(null,i)):n.canDeactivateChecks.push(new Fs(null,i))}function Kc(t){return typeof t=="function"}function cq(t){return typeof t=="boolean"}function uq(t){return t&&Kc(t.canLoad)}function lq(t){return t&&Kc(t.canActivate)}function dq(t){return t&&Kc(t.canActivateChild)}function hq(t){return t&&Kc(t.canDeactivate)}function fq(t){return t&&Kc(t.canMatch)}function EM(t){return t instanceof Kn||(t==null?void 0:t.name)==="EmptyError"}var Vh=Symbol("INITIAL_VALUE");function $s(){return ut(t=>ci(t.map(e=>e.pipe(Qn(1),nl(Vh)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===Vh)return Vh;if(n===!1||pq(n))return n}return!0}),tt(e=>e!==Vh),Qn(1)))}function pq(t){return Yr(t)||t instanceof Bs}function gq(t,e){return Pe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?W(ee(F({},n),{guardsResult:!0})):mq(s,r,i,t).pipe(Pe(a=>a&&cq(a)?yq(r,o,t,e):W(a)),oe(a=>ee(F({},n),{guardsResult:a})))})}function mq(t,e,n,r){return Re(t).pipe(Pe(i=>wq(i.component,i.route,n,e,r)),Yn(i=>i!==!0,!0))}function yq(t,e,n,r){return Re(e).pipe(Ar(i=>So(_q(i.route.parent,r),vq(i.route,r),Iq(t,i.path,n),Eq(t,i.route,n))),Yn(i=>i!==!0,!0))}function vq(t,e){return t!==null&&e&&e(new Xh(t)),W(!0)}function _q(t,e){return t!==null&&e&&e(new Zh(t)),W(!0)}function Eq(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>Ju(()=>{var l;let s=(l=Gc(e))!=null?l:n,a=Hs(o,s),u=lq(a)?a.canActivate(e,t):dt(s,()=>a(e,t));return Zr(u).pipe(Yn())}));return W(i).pipe($s())}function Iq(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>oq(s)).filter(s=>s!==null).map(s=>Ju(()=>{let a=s.guards.map(u=>{var y;let l=(y=Gc(s.node))!=null?y:n,h=Hs(u,l),p=dq(h)?h.canActivateChild(r,t):dt(l,()=>h(r,t));return Zr(p).pipe(Yn())});return W(a).pipe($s())}));return W(o).pipe($s())}function wq(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{var p;let u=(p=Gc(e))!=null?p:i,l=Hs(a,u),h=hq(l)?l.canDeactivate(t,e,n,r):dt(u,()=>l(t,e,n,r));return Zr(h).pipe(Yn())});return W(s).pipe($s())}function Dq(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=Hs(s,t),u=uq(a)?a.canLoad(e,n):dt(t,()=>a(e,n));return Zr(u)});return W(o).pipe($s(),IM(r))}function IM(t){return Ou(nt(e=>{if(typeof e!="boolean")throw of(t,e)}),oe(e=>e===!0))}function bq(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=Hs(s,t),u=fq(a)?a.canMatch(e,n):dt(t,()=>a(e,n));return Zr(u)});return W(o).pipe($s(),IM(r))}var Hc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},qc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ks(t){return To(new Hc(t))}function Tq(t){return To(new q(4e3,!1))}function Cq(t){return To(vM(!1,Pt.GuardRejected))}var BE=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[Z])return Tq(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,params:m,data:D,title:S}=i,M=dt(o,()=>a({params:m,data:D,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:y,title:S}));if(M instanceof Un)throw new qc(M);n=M}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new qc(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Un(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},$E={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Sq(t,e,n,r,i){let o=wM(t,e,n);return o.matched?(r=YH(e,r),bq(r,e,n,i).pipe(oe(s=>s===!0?o:F({},$E)))):W(o)}function wM(t,e,n){var a,u;if(e.path==="**")return Aq(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},$E):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ZR)(n,t,e);if(!i)return F({},$E);let o={};Object.entries((a=i.posParams)!=null?a:{}).forEach(([l,h])=>{o[l]=h.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:(u=i.posParams)!=null?u:{}}}function Aq(t){return{matched:!0,parameters:t.length>0?XR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function KR(t,e,n,r){return n.length>0&&Nq(t,n,r)?{segmentGroup:new Ie(e,Mq(r,new Ie(n,t.children))),slicedSegments:[]}:n.length===0&&Pq(t,n,r)?{segmentGroup:new Ie(t.segments,Rq(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ie(t.segments,t.children),slicedSegments:n}}function Rq(t,e,n,r){let i={};for(let o of n)if(cf(t,e,o)&&!r[gn(o)]){let s=new Ie([],{});i[gn(o)]=s}return F(F({},r),i)}function Mq(t,e){let n={};n[Z]=e;for(let r of t)if(r.path===""&&gn(r)!==Z){let i=new Ie([],{});n[gn(r)]=i}return n}function Nq(t,e,n){return n.some(r=>cf(t,e,r)&&gn(r)!==Z)}function Pq(t,e,n){return n.some(r=>cf(t,e,r))}function cf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function kq(t,e,n){return e.length===0&&!t.children[n]}var HE=class{};function xq(t,e,n,r,i,o,s="emptyOnly"){return new qE(t,e,n,r,i,s,o).recognize()}var Oq=31,qE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new BE(this.urlSerializer,this.urlTree)}noMatchError(e){return new q(4002,`'${e.segmentGroup}'`)}recognize(){let e=KR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:n,rootSnapshot:r})=>{let i=new Ut(r,n),o=new Bc("",i),s=cM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new to([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,n).pipe(oe(r=>({children:r,rootSnapshot:n})),yn(r=>{if(r instanceof qc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Hc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof Ut?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Re(o).pipe(Ar(s=>{let a=r.children[s],u=ZH(n,s);return this.processSegmentGroup(e,u,a,s,i)}),tl((s,a)=>(s.push(...a),s)),Rr(null),$p(),Pe(s=>{if(s===null)return ks(r);let a=DM(s);return Fq(a),W(a)}))}processSegment(e,n,r,i,o,s,a){return Re(n).pipe(Ar(u=>{var l;return this.processSegmentAgainstRoute((l=u._injector)!=null?l:e,n,u,r,i,o,s,a).pipe(yn(h=>{if(h instanceof Hc)return W(null);throw h}))}),Yn(u=>!!u),yn(u=>{if(EM(u))return kq(r,i,o)?W(new HE):ks(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return gn(r)!==s&&(s===Z||!cf(i,o,r))?ks(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):ks(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){var M,O;let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:y}=wM(n,i,o);if(!u)return ks(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Oq&&(this.allowRedirects=!1));let m=new to(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,QR(i),gn(i),(O=(M=i.component)!=null?M:i._loadedComponent)!=null?O:null,i,YR(i)),D=rf(m,a,this.paramsInheritanceStrategy);m.params=Object.freeze(D.params),m.data=Object.freeze(D.data);let S=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,m,e);return this.applyRedirects.lineralizeSegments(i,S).pipe(Pe(j=>this.processSegment(e,r,n,j.concat(y),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=Sq(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(ut(u=>{var l;return u.matched?(e=(l=r._injector)!=null?l:e,this.getChildConfig(e,r,i).pipe(ut(({routes:h})=>{var ne,we,le;let p=(ne=r._loadedInjector)!=null?ne:e,{parameters:y,consumedSegments:m,remainingSegments:D}=u,S=new to(m,y,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,QR(r),gn(r),(le=(we=r.component)!=null?we:r._loadedComponent)!=null?le:null,r,YR(r)),M=rf(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:O,slicedSegments:j}=KR(n,m,D,h);if(j.length===0&&O.hasChildren())return this.processChildren(p,h,O,S).pipe(oe(_=>new Ut(S,_)));if(h.length===0&&j.length===0)return W(new Ut(S,[]));let G=gn(r)===o;return this.processSegment(p,h,O,j,G?Z:o,!0,S).pipe(oe(_=>new Ut(S,_ instanceof Ut?[_]:[])))}))):ks(n)}))}getChildConfig(e,n,r){return n.children?W({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?W({routes:n._loadedRoutes,injector:n._loadedInjector}):Dq(e,n,r,this.urlSerializer).pipe(Pe(i=>i?this.configLoader.loadChildren(e,n).pipe(nt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Cq(n))):W({routes:[],injector:e})}};function Fq(t){t.sort((e,n)=>e.value.outlet===Z?-1:n.value.outlet===Z?1:e.value.outlet.localeCompare(n.value.outlet))}function Lq(t){let e=t.value.routeConfig;return e&&e.path===""}function DM(t){let e=[],n=new Set;for(let r of t){if(!Lq(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=DM(r.children);e.push(new Ut(r.value,i))}return e.filter(r=>!n.has(r))}function QR(t){return t.data||{}}function YR(t){return t.resolve||{}}function Vq(t,e,n,r,i,o){return Pe(s=>xq(t,e,n,r,s.extractedUrl,i,o).pipe(oe(({state:a,tree:u})=>ee(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function jq(t,e){return Pe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return W(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of bM(u))s.add(l);let a=0;return Re(s).pipe(Ar(u=>o.has(u)?Uq(u,r,t,e):(u.data=rf(u,u.parent,t).resolve,W(void 0))),nt(()=>a++),Ao(1),Pe(u=>a===s.size?W(n):Tt))})}function bM(t){let e=t.children.map(n=>bM(n)).flat();return[t,...e]}function Uq(t,e,n,r){let i=t.routeConfig,o=t._resolve;return(i==null?void 0:i.title)!==void 0&&!gM(i)&&(o[zc]=i.title),Bq(o,t,e,r).pipe(oe(s=>(t._resolvedData=s,t.data=rf(t,t.parent,n).resolve,null)))}function Bq(t,e,n,r){let i=PE(t);if(i.length===0)return W({});let o={};return Re(i).pipe(Pe(s=>$q(t[s],e,n,r).pipe(Yn(),nt(a=>{if(a instanceof Bs)throw of(new Qr,a);o[s]=a}))),Ao(1),oe(()=>o),yn(s=>EM(s)?Tt:To(s)))}function $q(t,e,n,r){var a;let i=(a=Gc(e))!=null?a:r,o=Hs(t,i),s=o.resolve?o.resolve(e,n):dt(i,()=>o(e,n));return Zr(s)}function ME(t){return ut(e=>{let n=t(e);return n?Re(n).pipe(oe(()=>e)):W(e)})}var KE=(()=>{let e=class e{buildTitle(r){var s;let i,o=r.root;for(;o!==void 0;)i=(s=this.getResolvedTitleForRoute(o))!=null?s:i,o=o.children.find(a=>a.outlet===Z);return i}getResolvedTitleForRoute(r){return r.data[zc]}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:()=>P(TM),providedIn:"root"}));let t=e;return t})(),TM=(()=>{let e=class e extends KE{title;constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};w(e,"\u0275fac",function(i){return new(i||e)(z(HR))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),ro=new $("",{providedIn:"root",factory:()=>({})}),QE=(()=>{let e=class e{};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275cmp",gC({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){i&1&&qm(0,"router-outlet")},dependencies:[GE],encapsulation:2}));let t=e;return t})();function YE(t){let e=t.children&&t.children.map(YE),n=e?ee(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Z&&(n.component=QE),n}var io=new $(""),uf=(()=>{let e=class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=P(LC);loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Zr(r.loadComponent()).pipe(oe(SM),nt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),ba(()=>{this.componentLoaders.delete(r)})),o=new Eo(i,()=>new be).pipe(_o());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=CM(i,this.compiler,r,this.onLoadEndListener).pipe(ba(()=>{this.childrenLoaders.delete(i)})),a=new Eo(s,()=>new be).pipe(_o());return this.childrenLoaders.set(i,a),a}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();function CM(t,e,n,r){return Zr(t.loadChildren()).pipe(oe(SM),Pe(i=>i instanceof Bm||Array.isArray(i)?W(i):Re(e.compileModuleAsync(i))),oe(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(io,[],{optional:!0,self:!0}).flat()),{routes:s.map(YE),injector:o}}))}function Hq(t){return t&&typeof t=="object"&&"default"in t}function SM(t){return Hq(t)?t.default:t}var lf=(()=>{let e=class e{};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:()=>P(qq),providedIn:"root"}));let t=e;return t})(),qq=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),ZE=new $(""),JE=new $("");function AM(t,e,n){let r=t.get(JE),i=t.get(Ge);return t.get(de).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),zq(t))),{onViewTransitionCreated:u}=r;return u&&dt(t,()=>u({transition:a,from:e,to:n})),s})}function zq(t){return new Promise(e=>{Dm({read:()=>setTimeout(e)},{injector:t})})}var XE=new $(""),df=(()=>{let e=class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new be;transitionAbortSubject=new be;configLoader=P(uf);environmentInjector=P(qe);destroyRef=P(Go);urlSerializer=P(yr);rootContexts=P(Hn);location=P(dn);inputBindingEnabled=P(Wc,{optional:!0})!==null;titleStrategy=P(KE);options=P(ro,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=P(lf);createViewTransition=P(ZE,{optional:!0});navigationErrorHandler=P(XE,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let r=o=>this.events.next(new Qh(o)),i=o=>this.events.next(new Yh(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){var r;(r=this.transitions)==null||r.complete()}handleNavigationRequest(r){var o;let i=++this.navigationId;(o=this.transitions)==null||o.next(ee(F({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:i}))}setupNavigations(r){return this.transitions=new He(null),this.transitions.pipe(tt(i=>i!==null),ut(i=>{let o=!1,s=!1;return W(i).pipe(ut(a=>{var h;if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Pt.SupersededByNewNavigation),Tt;this.currentTransition=i,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?ee(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=(h=a.extras.onSameUrlNavigation)!=null?h:r.onSameUrlNavigation;if(!u&&l!=="reload"){let p="";return this.events.next(new $n(a.id,this.urlSerializer.serialize(a.rawUrl),p,Ls.IgnoredSameUrlNavigation)),a.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return W(a).pipe(ut(p=>(this.events.next(new Bn(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?Tt:Promise.resolve(p))),Vq(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),nt(p=>{i.targetSnapshot=p.targetSnapshot,i.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ee(F({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let y=new Vc(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(y)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:p,extractedUrl:y,source:m,restoredState:D,extras:S}=a,M=new Bn(p,this.urlSerializer.serialize(y),m,D);this.events.next(M);let O=fM(this.rootComponentType).snapshot;return this.currentTransition=i=ee(F({},a),{targetSnapshot:O,urlAfterRedirects:y,extras:ee(F({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=y,W(i)}else{let p="";return this.events.next(new $n(a.id,this.urlSerializer.serialize(a.extractedUrl),p,Ls.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Tt}}),nt(a=>{let u=new zh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),oe(a=>(this.currentTransition=i=ee(F({},a),{guards:iq(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),i)),gq(this.environmentInjector,a=>this.events.next(a)),nt(a=>{if(i.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw of(this.urlSerializer,a.guardsResult);let u=new Gh(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),tt(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Pt.GuardRejected),!1)),ME(a=>{if(a.guards.canActivateChecks.length!==0)return W(a).pipe(nt(u=>{let l=new Wh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ut(u=>{let l=!1;return W(u).pipe(jq(this.paramsInheritanceStrategy,this.environmentInjector),nt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(u,"",Pt.NoDataFromResolver)}}))}),nt(u=>{let l=new Kh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}))}),ME(a=>{let u=l=>{var p;let h=[];(p=l.routeConfig)!=null&&p.loadComponent&&!l.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(l.routeConfig).pipe(nt(y=>{l.component=y}),oe(()=>{})));for(let y of l.children)h.push(...u(y));return h};return ci(u(a.targetSnapshot.root)).pipe(Rr(null),Qn(1))}),ME(()=>this.afterPreactivation()),ut(()=>{var h;let{currentSnapshot:a,targetSnapshot:u}=i,l=(h=this.createViewTransition)==null?void 0:h.call(this,this.environmentInjector,a.root,u.root);return l?Re(l).pipe(oe(()=>i)):W(i)}),oe(a=>{let u=XH(r.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=i=ee(F({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,i}),nt(()=>{this.events.next(new jc)}),rq(this.rootContexts,r.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Qn(1),nt({next:a=>{var u;o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $t(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),(u=this.titleStrategy)==null||u.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),Hp(this.transitionAbortSubject.pipe(nt(a=>{throw a}))),ba(()=>{var a;!o&&!s&&this.cancelNavigationTransition(i,"",Pt.SupersededByNewNavigation),((a=this.currentTransition)==null?void 0:a.id)===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),yn(a=>{var u;if(this.destroyed)return i.resolve(!1),Tt;if(s=!0,_M(a))this.events.next(new jn(i.id,this.urlSerializer.serialize(i.extractedUrl),a.message,a.cancellationCode)),nq(a)?this.events.next(new Us(a.url,a.navigationBehaviorOptions)):i.resolve(!1);else{let l=new Vs(i.id,this.urlSerializer.serialize(i.extractedUrl),a,(u=i.targetSnapshot)!=null?u:void 0);try{let h=dt(this.environmentInjector,()=>{var p;return(p=this.navigationErrorHandler)==null?void 0:p.call(this,l)});if(h instanceof Bs){let{message:p,cancellationCode:y}=of(this.urlSerializer,h);this.events.next(new jn(i.id,this.urlSerializer.serialize(i.extractedUrl),p,y)),this.events.next(new Us(h.redirectTo,h.navigationBehaviorOptions))}else throw this.events.next(l),a}catch(h){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(h)}}return Tt}))}))}cancelNavigationTransition(r,i,o){let s=new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){var r,i;return((r=this.currentTransition)==null?void 0:r.extractedUrl.toString())!==((i=this.currentTransition)==null?void 0:i.currentUrlTree.toString())}isUpdatedBrowserUrl(){var o,s,a,u;let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=(a=(o=this.currentNavigation)==null?void 0:o.targetBrowserUrl)!=null?a:(s=this.currentNavigation)==null?void 0:s.extractedUrl;return r.toString()!==(i==null?void 0:i.toString())&&!((u=this.currentNavigation)!=null&&u.extras.skipLocationChange)}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();function Gq(t){return t!==$h}var RM=(()=>{let e=class e{};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:()=>P(Wq),providedIn:"root"}));let t=e;return t})(),af=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Wq=(()=>{let e=class e extends af{};w(e,"\u0275fac",(()=>{let r;return function(o){return(r||(r=Ai(e)))(o||e)}})()),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),MM=(()=>{let e=class e{urlSerializer=P(yr);options=P(ro,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=P(dn);urlHandlingStrategy=P(lf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:r,initialUrl:i,targetBrowserUrl:o}){let s=r!==void 0?this.urlHandlingStrategy.merge(r,i):i,a=o!=null?o:s;return a instanceof Un?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:r,finalUrl:i,initialUrl:o}){i&&r?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,o),this.routerState=r):this.rawUrlTree=o}routerState=fM(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:r}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r!=null?r:this.rawUrlTree)}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:()=>P(Kq),providedIn:"root"}));let t=e;return t})(),Kq=(()=>{let e=class e extends MM{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){var r,i;return this.canceledNavigationResolution!=="computed"?this.currentPageId:(i=(r=this.restoredState())==null?void 0:r.\u0275routerPageId)!=null?i:this.currentPageId}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{r(i.url,i.state,"popstate")})})}handleRouterEvent(r,i){r instanceof Bn?this.updateStateMemento():r instanceof $n?this.commitTransition(i):r instanceof Vc?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):r instanceof jc?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):r instanceof jn&&(r.code===Pt.GuardRejected||r.code===Pt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Vs?this.restoreHistory(i,!0):r instanceof $t&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,{extras:i,id:o}){let{replaceUrl:s,state:a}=i;if(this.location.isCurrentPathEqualTo(r)||s){let u=this.browserPageId,l=F(F({},a),this.generateNgRouterState(o,u));this.location.replaceState(r,"",l)}else{let u=F(F({},a),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(r,"",u)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===r.finalUrl&&s===0&&(this.resetInternalState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(r),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};w(e,"\u0275fac",(()=>{let r;return function(o){return(r||(r=Ai(e)))(o||e)}})()),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();function hf(t,e){t.events.pipe(tt(n=>n instanceof $t||n instanceof jn||n instanceof Vs||n instanceof $n),oe(n=>n instanceof $t||n instanceof $n?0:(n instanceof jn?n.code===Pt.Redirect||n.code===Pt.SupersededByNewNavigation:!1)?2:1),tt(n=>n!==2),Qn(1)).subscribe(()=>{e()})}var Qq={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Yq={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xe=(()=>{var e,n;let r=class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=P(wC);stateManager=P(MM);options=P(ro,{optional:!0})||{};pendingTasks=P(Ri);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=P(df);urlSerializer=P(yr);location=P(dn);urlHandlingStrategy=P(lf);_events=new be;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=P(RM);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=(n=(e=P(io,{optional:!0}))==null?void 0:e.flat())!=null?n:[];componentInputBindingEnabled=!!P(Wc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:o=>{this.console.warn(o)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let o=this.navigationTransitions.events.subscribe(s=>{try{let a=this.navigationTransitions.currentTransition,u=this.navigationTransitions.currentNavigation;if(a!==null&&u!==null){if(this.stateManager.handleRouterEvent(s,u),s instanceof jn&&s.code!==Pt.Redirect&&s.code!==Pt.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof $t)this.navigated=!0;else if(s instanceof Us){let l=s.navigationBehaviorOptions,h=this.urlHandlingStrategy.merge(s.url,a.currentRawUrl),p=F({browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Gq(a.source)},l);this.scheduleNavigation(h,$h,null,p,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}Jq(s)&&this._events.next(s)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(o)}resetRootComponentType(o){this.routerState.root.component=o,this.navigationTransitions.rootComponentType=o}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$h,this.stateManager.restoredState())}setUpLocationChangeListener(){var o;(o=this.nonRouterCurrentEntryChangeSubscription)!=null||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((s,a,u)=>{this.navigateToSyncWithBrowser(s,u,a)}))}navigateToSyncWithBrowser(o,s,a){let u={replaceUrl:!0},l=a!=null&&a.navigationId?a:null;if(a){let p=F({},a);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(u.state=p)}let h=this.parseUrl(o);this.scheduleNavigation(h,s,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(o){this.config=o.map(YE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(o,s={}){let{relativeTo:a,queryParams:u,fragment:l,queryParamsHandling:h,preserveFragment:p}=s,y=p?this.currentUrlTree.fragment:l,m=null;switch(h!=null?h:this.options.defaultQueryParamsHandling){case"merge":m=F(F({},this.currentUrlTree.queryParams),u);break;case"preserve":m=this.currentUrlTree.queryParams;break;default:m=u||null}m!==null&&(m=this.removeEmptyProps(m));let D;try{let S=a?a.snapshot:this.routerState.snapshot.root;D=uM(S)}catch{(typeof o[0]!="string"||o[0][0]!=="/")&&(o=[]),D=this.currentUrlTree.root}return lM(D,o,m,y!=null?y:null)}navigateByUrl(o,s={skipLocationChange:!1}){let a=Yr(o)?o:this.parseUrl(o),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,$h,null,s)}navigate(o,s={skipLocationChange:!1}){return Zq(o),this.navigateByUrl(this.createUrlTree(o,s),s)}serializeUrl(o){return this.urlSerializer.serialize(o)}parseUrl(o){try{return this.urlSerializer.parse(o)}catch{return this.urlSerializer.parse("/")}}isActive(o,s){let a;if(s===!0?a=F({},Qq):s===!1?a=F({},Yq):a=s,Yr(o))return qR(this.currentUrlTree,o,a);let u=this.parseUrl(o);return qR(this.currentUrlTree,u,a)}removeEmptyProps(o){return Object.entries(o).reduce((s,[a,u])=>(u!=null&&(s[a]=u),s),{})}scheduleNavigation(o,s,a,u,l){if(this.disposed)return Promise.resolve(!1);let h,p,y;l?(h=l.resolve,p=l.reject,y=l.promise):y=new Promise((D,S)=>{h=D,p=S});let m=this.pendingTasks.add();return hf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(m))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:o,extras:u,resolve:h,reject:p,promise:y,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),y.catch(D=>Promise.reject(D))}};w(r,"\u0275fac",function(s){return new(s||r)}),w(r,"\u0275prov",B({token:r,factory:r.\u0275fac,providedIn:"root"}));let t=r;return t})();function Zq(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new q(4008,!1)}function Jq(t){return!(t instanceof jc)&&!(t instanceof Us)}var oo=(()=>{let e=class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new be;constructor(r,i,o,s,a,u){var h;this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u;let l=(h=a.nativeElement.tagName)==null?void 0:h.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(p=>{p instanceof $t&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yr(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){var r;(r=this.subscription)==null||r.unsubscribe()}updateHref(){var o;let r=this.urlTree;this.href=r!==null&&this.locationStrategy?(o=this.locationStrategy)==null?void 0:o.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:AT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:Yr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};w(e,"\u0275fac",function(i){return new(i||e)(L(Xe),L(bt),zo("tabindex"),L(Vr),L(xe),L(Nt))}),w(e,"\u0275dir",_e({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Qt("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Zo("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pi],replaceUrl:[2,"replaceUrl","replaceUrl",Pi],routerLink:"routerLink"},features:[Et]}));let t=e;return t})(),Xq=(()=>{let e=class e{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ce;constructor(r,i,o,s,a){this.router=r,this.element=i,this.renderer=o,this.cdr=s,this.link=a,this.routerEventsSubscription=r.events.subscribe(u=>{u instanceof $t&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(Sr()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var i;(i=this.linkInputChangesSubscription)==null||i.unsubscribe();let r=[...this.links.toArray(),this.link].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=Re(r).pipe(Sr()).subscribe(o=>{this._isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(r){this.update()}ngOnDestroy(){var r;this.routerEventsSubscription.unsubscribe(),(r=this.linkInputChangesSubscription)==null||r.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.isActiveChange.emit(r))})}isLinkActive(r){let i=ez(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>{let s=o.urlTree;return s?r.isActive(s,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};w(e,"\u0275fac",function(i){return new(i||e)(L(Xe),L(xe),L(Vr),L(Ft),L(oo,8))}),w(e,"\u0275dir",_e({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,s){if(i&1&&Ha(s,oo,5),i&2){let a;Jo(a=Xo())&&(o.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Et]}));let t=e;return t})();function ez(t){return!!t.paths}var Qc=class{},tz=(()=>{let e=class e{preload(r,i){return i().pipe(yn(()=>W(null)))}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();var NM=(()=>{let e=class e{router;injector;preloadingStrategy;loader;subscription;constructor(r,i,o,s){this.router=r,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(tt(r=>r instanceof $t),Ar(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){var s,a,u;let o=[];for(let l of i){l.providers&&!l._injector&&(l._injector=$a(l.providers,r,`Route: ${l.path}`));let h=(s=l._injector)!=null?s:r,p=(a=l._loadedInjector)!=null?a:h;(l.loadChildren&&!l._loadedRoutes&&l.canLoad===void 0||l.loadComponent&&!l._loadedComponent)&&o.push(this.preloadConfig(h,l)),(l.children||l._loadedRoutes)&&o.push(this.processRoutes(p,(u=l.children)!=null?u:l._loadedRoutes))}return Re(o).pipe(Sr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=W(null);let s=o.pipe(Pe(a=>{var u;return a===null?W(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes((u=a.injector)!=null?u:r,a.routes))}));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return Re([s,a]).pipe(Sr())}else return s})}};w(e,"\u0275fac",function(i){return new(i||e)(z(Xe),z(qe),z(Qc),z(uf))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),PM=new $(""),nz=(()=>{let e=class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,a.scrollPositionRestoration||(a.scrollPositionRestoration="disabled"),a.anchorScrolling||(a.anchorScrolling="disabled")}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Bn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof $t?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof $n&&r.code===Ls.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof js&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new js(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){var r,i;(r=this.routerEventsSubscription)==null||r.unsubscribe(),(i=this.scrollEventsSubscription)==null||i.unsubscribe()}};w(e,"\u0275fac",function(i){sC()}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})();function rz(t,...e){return Ci([{provide:io,multi:!0,useValue:t},[],{provide:bt,useFactory:kM,deps:[Xe]},{provide:ed,multi:!0,useFactory:xM},e.map(n=>n.\u0275providers)])}function kM(t){return t.routerState.root}function Yc(t,e){return{\u0275kind:t,\u0275providers:e}}function xM(){let t=P(ke);return e=>{var o,s;let n=t.get(er);if(e!==n.components[0])return;let r=t.get(Xe),i=t.get(OM);t.get(tI)===1&&r.initialNavigation(),(o=t.get(VM,null,se.Optional))==null||o.setUpPreloading(),(s=t.get(PM,null,se.Optional))==null||s.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var OM=new $("",{factory:()=>new be}),tI=new $("",{providedIn:"root",factory:()=>1});function FM(){let t=[{provide:tI,useValue:0},Hm(()=>{let e=P(ke);return e.get(_y,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(Xe),o=e.get(OM);hf(i,()=>{r(!0)}),e.get(df).afterPreactivation=()=>(r(!0),o.closed?W(void 0):o),i.initialNavigation()}))})];return Yc(2,t)}function LM(){let t=[Hm(()=>{P(Xe).setUpLocationChangeListener()}),{provide:tI,useValue:2}];return Yc(3,t)}var VM=new $("");function jM(t){return Yc(0,[{provide:VM,useExisting:NM},{provide:Qc,useExisting:t}])}function UM(){return Yc(8,[WE,{provide:Wc,useExisting:WE}])}function BM(t){Ua("NgRouterViewTransitions");let e=[{provide:ZE,useValue:AM},{provide:JE,useValue:F({skipNextTransition:!!(t!=null&&t.skipInitialTransition)},t)}];return Yc(9,e)}var $M=[dn,{provide:yr,useClass:Qr},Xe,Hn,{provide:bt,useFactory:kM,deps:[Xe]},uf,[]],iz=(()=>{let e=class e{constructor(){}static forRoot(r,i){return{ngModule:e,providers:[$M,[],{provide:io,multi:!0,useValue:r},[],i!=null&&i.errorHandler?{provide:XE,useValue:i.errorHandler}:[],{provide:ro,useValue:i||{}},i!=null&&i.useHash?sz():az(),oz(),i!=null&&i.preloadingStrategy?jM(i.preloadingStrategy).\u0275providers:[],i!=null&&i.initialNavigation?cz(i):[],i!=null&&i.bindToComponentInputs?UM().\u0275providers:[],i!=null&&i.enableViewTransitions?BM().\u0275providers:[],uz()]}}static forChild(r){return{ngModule:e,providers:[{provide:io,multi:!0,useValue:r}]}}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275mod",Sn({type:e})),w(e,"\u0275inj",Tn({}));let t=e;return t})();function oz(){return{provide:PM,useFactory:()=>{let t=P(SS),e=P(de),n=P(ro),r=P(df),i=P(yr);return n.scrollOffset&&t.setOffset(n.scrollOffset),new nz(i,r,t,e,n)}}}function sz(){return{provide:Nt,useClass:wy}}function az(){return{provide:Nt,useClass:md}}function cz(t){return[t.initialNavigation==="disabled"?LM().\u0275providers:[],t.initialNavigation==="enabledBlocking"?FM().\u0275providers:[]]}var eI=new $("");function uz(){return[{provide:eI,useFactory:xM},{provide:ed,multi:!0,useExisting:eI}]}var JM=(()=>{let e=class e{_renderer;_elementRef;onChange=r=>{};onTouched=()=>{};constructor(r,i){this._renderer=r,this._elementRef=i}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};w(e,"\u0275fac",function(i){return new(i||e)(L(Vr),L(xe))}),w(e,"\u0275dir",_e({type:e}));let t=e;return t})(),dz=(()=>{let e=class e extends JM{};w(e,"\u0275fac",(()=>{let r;return function(o){return(r||(r=Ai(e)))(o||e)}})()),w(e,"\u0275dir",_e({type:e,features:[an]}));let t=e;return t})(),cI=new $("");var hz={provide:cI,useExisting:tr(()=>XM),multi:!0};function fz(){let t=Zt()?Zt().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var pz=new $(""),XM=(()=>{let e=class e extends JM{_compositionMode;_composing=!1;constructor(r,i,o){super(r,i),this._compositionMode=o,this._compositionMode==null&&(this._compositionMode=!fz())}writeValue(r){let i=r==null?"":r;this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};w(e,"\u0275fac",function(i){return new(i||e)(L(Vr),L(xe),L(pz,8))}),w(e,"\u0275dir",_e({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Qt("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},standalone:!1,features:[Ni([hz]),an]}));let t=e;return t})();function uI(t){return t==null||lI(t)===0}function lI(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var nu=new $(""),dI=new $(""),gz=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,HM=class{static min(e){return eN(e)}static max(e){return tN(e)}static required(e){return mz(e)}static requiredTrue(e){return yz(e)}static email(e){return vz(e)}static minLength(e){return _z(e)}static maxLength(e){return Ez(e)}static pattern(e){return Iz(e)}static nullValidator(e){return pf()}static compose(e){return aN(e)}static composeAsync(e){return uN(e)}};function eN(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function tN(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function mz(t){return uI(t.value)?{required:!0}:null}function yz(t){return t.value===!0?null:{required:!0}}function vz(t){return uI(t.value)||gz.test(t.value)?null:{email:!0}}function _z(t){return e=>{var r,i;let n=(i=(r=e.value)==null?void 0:r.length)!=null?i:lI(e.value);return n===null||n===0?null:n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}function Ez(t){return e=>{var r,i;let n=(i=(r=e.value)==null?void 0:r.length)!=null?i:lI(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function Iz(t){if(!t)return pf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(uI(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function pf(t){return null}function nN(t){return t!=null}function rN(t){return Mi(t)?Re(t):t}function iN(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function oN(t,e){return e.map(n=>n(t))}function wz(t){return!t.validate}function sN(t){return t.map(e=>wz(e)?e:n=>e.validate(n))}function aN(t){if(!t)return null;let e=t.filter(nN);return e.length==0?null:function(n){return iN(oN(n,e))}}function cN(t){return t!=null?aN(sN(t)):null}function uN(t){if(!t)return null;let e=t.filter(nN);return e.length==0?null:function(n){let r=oN(n,e).map(rN);return Bp(r).pipe(oe(iN))}}function lN(t){return t!=null?uN(sN(t)):null}function qM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function dN(t){return t._rawValidators}function hN(t){return t._rawAsyncValidators}function nI(t){return t?Array.isArray(t)?t:[t]:[]}function gf(t,e){return Array.isArray(t)?t.includes(e):t===e}function zM(t,e){let n=nI(e);return nI(t).forEach(i=>{gf(n,i)||n.push(i)}),n}function GM(t,e){return nI(e).filter(n=>!gf(t,n))}var mf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},so=class extends mf{name;get formDirective(){return null}get path(){return null}},vr=class extends mf{_parent=null;name=null;valueAccessor=null},yf=class{_cd;constructor(e){this._cd=e}get isTouched(){var e,n,r,i,o;return(r=(n=(e=this._cd)==null?void 0:e.control)==null?void 0:n._touched)==null||r.call(n),!!((o=(i=this._cd)==null?void 0:i.control)!=null&&o.touched)}get isUntouched(){var e,n;return!!((n=(e=this._cd)==null?void 0:e.control)!=null&&n.untouched)}get isPristine(){var e,n,r,i,o;return(r=(n=(e=this._cd)==null?void 0:e.control)==null?void 0:n._pristine)==null||r.call(n),!!((o=(i=this._cd)==null?void 0:i.control)!=null&&o.pristine)}get isDirty(){var e,n;return!!((n=(e=this._cd)==null?void 0:e.control)!=null&&n.dirty)}get isValid(){var e,n,r,i,o;return(r=(n=(e=this._cd)==null?void 0:e.control)==null?void 0:n._status)==null||r.call(n),!!((o=(i=this._cd)==null?void 0:i.control)!=null&&o.valid)}get isInvalid(){var e,n;return!!((n=(e=this._cd)==null?void 0:e.control)!=null&&n.invalid)}get isPending(){var e,n;return!!((n=(e=this._cd)==null?void 0:e.control)!=null&&n.pending)}get isSubmitted(){var e,n,r;return(n=(e=this._cd)==null?void 0:e._submitted)==null||n.call(e),!!((r=this._cd)!=null&&r.submitted)}},Dz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},cte=ee(F({},Dz),{"[class.ng-submitted]":"isSubmitted"}),ute=(()=>{let e=class e extends yf{constructor(r){super(r)}};w(e,"\u0275fac",function(i){return new(i||e)(L(vr,2))}),w(e,"\u0275dir",_e({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&td("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},standalone:!1,features:[an]}));let t=e;return t})(),lte=(()=>{let e=class e extends yf{constructor(r){super(r)}};w(e,"\u0275fac",function(i){return new(i||e)(L(so,10))}),w(e,"\u0275dir",_e({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&td("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},standalone:!1,features:[an]}));let t=e;return t})();var Zc="VALID",ff="INVALID",qs="PENDING",Jc="DISABLED",Jr=class{},vf=class extends Jr{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Xc=class extends Jr{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},eu=class extends Jr{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},zs=class extends Jr{status;source;constructor(e,n){super(),this.status=e,this.source=n}},rI=class extends Jr{source;constructor(e){super(),this.source=e}},iI=class extends Jr{source;constructor(e){super(),this.source=e}};function hI(t){return(wf(t)?t.validators:t)||null}function bz(t){return Array.isArray(t)?cN(t):t||null}function fI(t,e){return(wf(e)?e.asyncValidators:t)||null}function Tz(t){return Array.isArray(t)?lN(t):t||null}function wf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function fN(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new q(1e3,"");if(!r[n])throw new q(1001,"")}function pN(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new q(1002,"")})}var Gs=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return An(this.statusReactive)}set status(e){An(()=>this.statusReactive.set(e))}_status=es(()=>this.statusReactive());statusReactive=Ko(void 0);get valid(){return this.status===Zc}get invalid(){return this.status===ff}get pending(){return this.status==qs}get disabled(){return this.status===Jc}get enabled(){return this.status!==Jc}errors;get pristine(){return An(this.pristineReactive)}set pristine(e){An(()=>this.pristineReactive.set(e))}_pristine=es(()=>this.pristineReactive());pristineReactive=Ko(!0);get dirty(){return!this.pristine}get touched(){return An(this.touchedReactive)}set touched(e){An(()=>this.touchedReactive.set(e))}_touched=es(()=>this.touchedReactive());touchedReactive=Ko(!1);get untouched(){return!this.touched}_events=new be;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GM(e,this._rawAsyncValidators))}hasValidator(e){return gf(this._rawValidators,e)}hasAsyncValidator(e){return gf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){var i;let n=this.touched===!1;this.touched=!0;let r=(i=e.sourceControl)!=null?i:this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new eu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){var i;let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=(i=e.sourceControl)!=null?i:this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new eu(!1,r))}markAsDirty(e={}){var i;let n=this.pristine===!0;this.pristine=!1;let r=(i=e.sourceControl)!=null?i:this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Xc(!1,r))}markAsPristine(e={}){var i;let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=(i=e.sourceControl)!=null?i:this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Xc(!0,r))}markAsPending(e={}){var r;this.status=qs;let n=(r=e.sourceControl)!=null?r:this;e.emitEvent!==!1&&(this._events.next(new zs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(F({},e),{sourceControl:n}))}disable(e={}){var i;let n=this._parentMarkedDirty(e.onlySelf);this.status=Jc,this.errors=null,this._forEachChild(o=>{o.disable(ee(F({},e),{onlySelf:!0}))}),this._updateValue();let r=(i=e.sourceControl)!=null?i:this;e.emitEvent!==!1&&(this._events.next(new vf(this.value,r)),this._events.next(new zs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this._forEachChild(r=>{r.enable(ee(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){var r;if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Zc||this.status===qs)&&this._runAsyncValidator(i,e.emitEvent)}let n=(r=e.sourceControl)!=null?r:this;e.emitEvent!==!1&&(this._events.next(new vf(this.value,n)),this._events.next(new zs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Jc:Zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=qs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=rN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){var e,n;if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let r=(n=(e=this._hasOwnPendingAsyncValidator)==null?void 0:e.emitEvent)!=null?n:!1;return this._hasOwnPendingAsyncValidator=null,r}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new zs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?Jc:this.errors?ff:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qs)?qs:this._anyControlsHaveStatus(ff)?ff:Zc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Xc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new eu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=bz(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=Tz(this._rawAsyncValidators)}},_f=class extends Gs{constructor(e,n,r){super(hI(n),fI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){pN(this,!0,e),Object.keys(e).forEach(r=>{fN(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var oI=class extends _f{};var Df=new $("",{providedIn:"root",factory:()=>bf}),bf="always";function gN(t,e){return[...e.path,t]}function sI(t,e,n=bf){var r,i;pI(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&((i=(r=e.valueAccessor).setDisabledState)==null||i.call(r,t.disabled)),Sz(t,e),Rz(t,e),Az(t,e),Cz(t,e)}function WM(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),If(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ef(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Cz(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function pI(t,e){let n=dN(t);e.validator!==null?t.setValidators(qM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=hN(t);e.asyncValidator!==null?t.setAsyncValidators(qM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ef(e._rawValidators,i),Ef(e._rawAsyncValidators,i)}function If(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=dN(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=hN(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Ef(e._rawValidators,r),Ef(e._rawAsyncValidators,r),n}function Sz(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&mN(t,e)})}function Az(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&mN(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function mN(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Rz(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Mz(t,e){t==null,pI(t,e)}function Nz(t,e){return If(t,e)}function yN(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Pz(t){return Object.getPrototypeOf(t.constructor)===dz}function kz(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function vN(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===XM?n=o:Pz(o)?r=o:i=o}),i||r||n||null}function xz(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function KM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function QM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var tu=class extends Gs{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(hI(n),fI(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(QM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){KM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){KM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){QM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Oz=t=>t instanceof tu;var Fz={provide:vr,useExisting:tr(()=>Lz)},YM=Promise.resolve(),Lz=(()=>{let e=class e extends vr{_changeDetectorRef;callSetDisabledState;control=new tu;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ce;constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=vN(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),yN(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){sI(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){YM.then(()=>{var i;this.control.setValue(r,{emitViewToModelChange:!1}),(i=this._changeDetectorRef)==null||i.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&Pi(i);YM.then(()=>{var s;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),(s=this._changeDetectorRef)==null||s.markForCheck()})}_getPath(r){return this._parent?gN(r,this._parent):[r]}};w(e,"ngAcceptInputType_isDisabled"),w(e,"\u0275fac",function(i){return new(i||e)(L(so,9),L(nu,10),L(dI,10),L(cI,10),L(Ft,8),L(Df,8))}),w(e,"\u0275dir",_e({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Ni([Fz]),an,Et]}));let t=e;return t})();var hte=(()=>{let e=class e{};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275dir",_e({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1}));let t=e;return t})();var _N=new $("");var Vz={provide:so,useExisting:tr(()=>jz)},jz=(()=>{let e=class e extends so{callSetDisabledState;get submitted(){return An(this._submittedReactive)}set submitted(r){this._submittedReactive.set(r)}_submitted=es(()=>this._submittedReactive());_submittedReactive=Ko(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ce;constructor(r,i,o){super(),this.callSetDisabledState=o,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(If(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return sI(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){WM(r.control||null,r,!1),xz(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){var i;return this._submittedReactive.set(!0),kz(this.form,this.directives),this.ngSubmit.emit(r),this.form._events.next(new rI(this.control)),((i=r==null?void 0:r.target)==null?void 0:i.method)==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this._submittedReactive.set(!1),this.form._events.next(new iI(this.form))}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,o=this.form.get(r.path);i!==o&&(WM(i||null,r),Oz(o)&&(sI(o,r,this.callSetDisabledState),r.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Mz(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Nz(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pI(this.form,this),this._oldForm&&If(this._oldForm,this)}};w(e,"\u0275fac",function(i){return new(i||e)(L(nu,10),L(dI,10),L(Df,8))}),w(e,"\u0275dir",_e({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,o){i&1&&Qt("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ni([Vz]),an,Et]}));let t=e;return t})();var Uz={provide:vr,useExisting:tr(()=>Bz)},Bz=(()=>{let e=class e extends vr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(r){}model;update=new Ce;_ngModelWarningSent=!1;constructor(r,i,o,s,a){super(),this._ngModelWarningConfig=a,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=vN(this,s)}ngOnChanges(r){this._added||this._setUpControl(),yN(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return gN(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}};w(e,"_ngModelWarningSentOnce",!1),w(e,"\u0275fac",function(i){return new(i||e)(L(so,13),L(nu,10),L(dI,10),L(cI,10),L(_N,8))}),w(e,"\u0275dir",_e({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ni([Uz]),an,Et]}));let t=e;return t})();function EN(t){return typeof t=="number"?t:parseFloat(t)}var IN=(()=>{let e=class e{_validator=pf;_onChange;_enabled;ngOnChanges(r){if(this.inputName in r){let i=this.normalizeInput(r[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):pf,this._onChange&&this._onChange()}}validate(r){return this._validator(r)}registerOnValidatorChange(r){this._onChange=r}enabled(r){return r!=null}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275dir",_e({type:e,features:[Et]}));let t=e;return t})(),$z={provide:nu,useExisting:tr(()=>Hz),multi:!0},Hz=(()=>{let e=class e extends IN{max;inputName="max";normalizeInput=r=>EN(r);createValidator=r=>tN(r)};w(e,"\u0275fac",(()=>{let r;return function(o){return(r||(r=Ai(e)))(o||e)}})()),w(e,"\u0275dir",_e({type:e,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&Zo("max",o._enabled?o.max:null)},inputs:{max:"max"},standalone:!1,features:[Ni([$z]),an]}));let t=e;return t})(),qz={provide:nu,useExisting:tr(()=>zz),multi:!0},zz=(()=>{let e=class e extends IN{min;inputName="min";normalizeInput=r=>EN(r);createValidator=r=>eN(r)};w(e,"\u0275fac",(()=>{let r;return function(o){return(r||(r=Ai(e)))(o||e)}})()),w(e,"\u0275dir",_e({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,o){i&2&&Zo("min",o._enabled?o.min:null)},inputs:{min:"min"},standalone:!1,features:[Ni([qz]),an]}));let t=e;return t})();var wN=(()=>{let e=class e{};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275mod",Sn({type:e})),w(e,"\u0275inj",Tn({}));let t=e;return t})(),aI=class extends Gs{constructor(e,n,r){super(hI(n),fI(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){pN(this,!1,e),e.forEach((r,i)=>{fN(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){var n;return(n=this.at(e))!=null?n:null}};function ZM(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var fte=(()=>{let e=class e{useNonNullable=!1;get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let o=this._reduceControls(r),s={};return ZM(i)?s=i:i!==null&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new _f(o,s)}record(r,i=null){let o=this._reduceControls(r);return new oI(o,i)}control(r,i,o){let s={};return this.useNonNullable?(ZM(i)?s=i:(s.validators=i,s.asyncValidators=o),new tu(r,ee(F({},s),{nonNullable:!0}))):new tu(r,i,o)}array(r,i,o){let s=r.map(a=>this._createControl(a));return new aI(s,i,o)}_reduceControls(r){let i={};return Object.keys(r).forEach(o=>{i[o]=this._createControl(r[o])}),i}_createControl(r){if(r instanceof tu)return r;if(r instanceof Gs)return r;if(Array.isArray(r)){let i=r[0],o=r.length>1?r[1]:null,s=r.length>2?r[2]:null;return this.control(i,o,s)}else return this.control(r)}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})();var pte=(()=>{let e=class e{static withConfig(r){var i;return{ngModule:e,providers:[{provide:Df,useValue:(i=r.callSetDisabledState)!=null?i:bf}]}}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275mod",Sn({type:e})),w(e,"\u0275inj",Tn({imports:[wN]}));let t=e;return t})(),gte=(()=>{let e=class e{static withConfig(r){var i,o;return{ngModule:e,providers:[{provide:_N,useValue:(i=r.warnOnNgModelWithFormControl)!=null?i:"always"},{provide:Df,useValue:(o=r.callSetDisabledState)!=null?o:bf}]}}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275mod",Sn({type:e})),w(e,"\u0275inj",Tn({imports:[wN]}));let t=e;return t})();var vte=(t,e,n,r,i)=>Wz(t[1],e[1],n[1],r[1],i).map(o=>Gz(t[0],e[0],n[0],r[0],o)),Gz=(t,e,n,r,i)=>{let o=3*e*Math.pow(i-1,2),s=-3*n*i+3*n+r*i,a=t*Math.pow(i-1,3);return i*(o+i*s)-a},Wz=(t,e,n,r,i)=>(t-=i,e-=i,n-=i,r-=i,Qz(r-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(s=>s>=0&&s<=1)),Kz=(t,e,n)=>{let r=e*e-4*t*n;return r<0?[]:[(-e+Math.sqrt(r))/(2*t),(-e-Math.sqrt(r))/(2*t)]},Qz=(t,e,n,r)=>{if(t===0)return Kz(e,n,r);e/=t,n/=t,r/=t;let i=(3*n-e*e)/3,o=(2*e*e*e-9*e*n+27*r)/27;if(i===0)return[Math.pow(-o,.3333333333333333)];if(o===0)return[Math.sqrt(-i),-Math.sqrt(-i)];let s=Math.pow(o/2,2)+Math.pow(i/3,3);if(s===0)return[Math.pow(o/2,.5)-e/3];if(s>0)return[Math.pow(-(o/2)+Math.sqrt(s),.3333333333333333)-Math.pow(o/2+Math.sqrt(s),.3333333333333333)-e/3];let a=Math.sqrt(Math.pow(-(i/3),3)),u=Math.acos(-(o/(2*Math.sqrt(Math.pow(-(i/3),3))))),l=2*Math.pow(a,1/3);return[l*Math.cos(u/3)-e/3,l*Math.cos((u+2*Math.PI)/3)-e/3,l*Math.cos((u+4*Math.PI)/3)-e/3]};var Tf=t=>bN(t),Ks=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),Tf(t).includes(e)),bN=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=Yz(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},Yz=t=>{let e=xt.get("platform");return Object.keys(DN).filter(n=>{let r=e==null?void 0:e[n];return typeof r=="function"?r(t):DN[n](t)})},Zz=t=>Cf(t)&&!CN(t),gI=t=>!!(ao(t,/iPad/i)||ao(t,/Macintosh/i)&&Cf(t)),Jz=t=>ao(t,/iPhone/i),Xz=t=>ao(t,/iPhone|iPod/i)||gI(t),TN=t=>ao(t,/android|sink/i),e4=t=>TN(t)&&!ao(t,/mobile/i),t4=t=>{let e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},n4=t=>{let e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return gI(t)||e4(t)||r>460&&r<820&&i>780&&i<1400},Cf=t=>s4(t,"(any-pointer:coarse)"),r4=t=>!Cf(t),CN=t=>SN(t)||AN(t),SN=t=>!!(t.cordova||t.phonegap||t.PhoneGap),AN=t=>{let e=t.Capacitor;return!!(e!=null&&e.isNative||e!=null&&e.isNativePlatform&&e.isNativePlatform())},i4=t=>ao(t,/electron/i),o4=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},ao=(t,e)=>e.test(t.navigator.userAgent),s4=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},DN={ipad:gI,iphone:Jz,ios:Xz,android:TN,phablet:t4,tablet:n4,cordova:SN,capacitor:AN,electron:i4,pwa:o4,mobile:Cf,mobileweb:Zz,desktop:r4,hybrid:CN},Ws,co=t=>t&&Aw(t)||Ws,a4=(t={})=>{if(typeof window>"u")return;let e=window.document,n=window,r=n.Ionic=n.Ionic||{},i=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Rw(n)),{persistConfig:!1}),r.config),Nw(n)),t);xt.reset(i),xt.getBoolean("persistConfig")&&Mw(n,i),bN(n),r.config=xt,r.mode=Ws=xt.get("mode",e.documentElement.getAttribute("mode")||(Ks(n,"ios")?"ios":"md")),xt.set("mode",Ws),e.documentElement.setAttribute("mode",Ws),e.documentElement.classList.add(Ws),xt.getBoolean("_testing")&&xt.set("animated",!1);let o=a=>{var u;return(u=a.tagName)===null||u===void 0?void 0:u.startsWith("ION-")},s=a=>["ios","md"].includes(a);Sw(a=>{for(;a;){let u=a.mode||a.getAttribute("mode");if(u){if(s(u))return u;o(a)&&ri('Invalid ionic mode: "'+u+'", expected: "ios" or "md"')}a=a.parentElement}return Ws})};var Dte=(t,e)=>e.closest(t)!==null,bte=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,c4=t=>t!==void 0?(Array.isArray(t)?t:t.split(" ")).filter(n=>n!=null).map(n=>n.trim()).filter(n=>n!==""):[],Tte=t=>{let e={};return c4(t).forEach(n=>e[n]=!0),e},u4=/^[a-z][a-z0-9+\-.]*:/,Cte=(t,e,n,r)=>C(void 0,null,function*(){if(t!=null&&t[0]!=="#"&&!u4.test(t)){let i=document.querySelector("ion-router");if(i)return e!=null&&e.preventDefault(),i.push(t,n,r)}return!1});var mI=t=>Dr().duration(t?400:300),l4=t=>{let e,n,r=t.width+8,i=Dr(),o=Dr();t.isEndSide?(e=r+"px",n="0px"):(e=-r+"px",n="0px"),i.addElement(t.menuInnerEl).fromTo("transform",`translateX(${e})`,`translateX(${n})`);let a=co(t)==="ios",u=a?.2:.25;return o.addElement(t.backdropEl).fromTo("opacity",.01,u),mI(a).addAnimation([i,o])},d4=t=>{let e,n,r=co(t),i=t.width;t.isEndSide?(e=-i+"px",n=i+"px"):(e=i+"px",n=-i+"px");let o=Dr().addElement(t.menuInnerEl).fromTo("transform",`translateX(${n})`,"translateX(0px)"),s=Dr().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${e})`),a=Dr().addElement(t.backdropEl).fromTo("opacity",.01,.32);return mI(r==="ios").addAnimation([o,s,a])},h4=t=>{let e=co(t),n=t.width*(t.isEndSide?-1:1)+"px",r=Dr().addElement(t.contentEl).fromTo("transform","translateX(0px)",`translateX(${n})`);return mI(e==="ios").addAnimation(r)},f4=()=>{let t=new Map,e=[],n=_=>C(void 0,null,function*(){let v=yield l(_,!0);return v?v.open():!1}),r=_=>C(void 0,null,function*(){let v=yield _!==void 0?l(_,!0):h();return v!==void 0?v.close():!1}),i=_=>C(void 0,null,function*(){let v=yield l(_,!0);return v?v.toggle():!1}),o=(_,v)=>C(void 0,null,function*(){let E=yield l(v);return E&&(E.disabled=!_),E}),s=(_,v)=>C(void 0,null,function*(){let E=yield l(v);return E&&(E.swipeGesture=_),E}),a=_=>C(void 0,null,function*(){if(_!=null){let v=yield l(_);return v!==void 0&&v.isOpen()}else return(yield h())!==void 0}),u=_=>C(void 0,null,function*(){let v=yield l(_);return v?!v.disabled:!1}),l=(_,v=!1)=>C(void 0,null,function*(){if(yield le(),_==="start"||_==="end"){let b=e.filter(R=>R.side===_&&!R.disabled);if(b.length>=1)return b.length>1&&v&&ri(`menuController queried for a menu on the "${_}" side, but ${b.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,b.map(R=>R.el)),b[0].el;let T=e.filter(R=>R.side===_);if(T.length>=1)return T.length>1&&v&&ri(`menuController queried for a menu on the "${_}" side, but ${T.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,T.map(R=>R.el)),T[0].el}else if(_!=null)return we(b=>b.menuId===_);let E=we(b=>!b.disabled);return E||(e.length>0?e[0].el:void 0)}),h=()=>C(void 0,null,function*(){return yield le(),j()}),p=()=>C(void 0,null,function*(){return yield le(),G()}),y=()=>C(void 0,null,function*(){return yield le(),ne()}),m=(_,v)=>{t.set(_,v)},D=_=>{e.indexOf(_)<0&&e.push(_)},S=_=>{let v=e.indexOf(_);v>-1&&e.splice(v,1)},M=(_,v,E,b)=>C(void 0,null,function*(){if(ne())return!1;if(v){let T=yield h();T&&_.el!==T&&(yield T.setOpen(!1,!1))}return _._setOpen(v,E,b)}),O=(_,v)=>{let E=t.get(_);if(!E)throw new Error("animation not registered");return E(v)},j=()=>we(_=>_._isOpen),G=()=>e.map(_=>_.el),ne=()=>e.some(_=>_.isAnimating),we=_=>{let v=e.find(_);if(v!==void 0)return v.el},le=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(_=>new Promise(v=>mn(_,v))));return m("reveal",h4),m("push",d4),m("overlay",l4),Ht===null||Ht===void 0||Ht.addEventListener("ionBackButton",_=>{let v=j();v&&_.detail.register(Vw,()=>v.close())}),{registerAnimation:m,get:l,getMenus:p,getOpen:h,isEnabled:u,swipeGesture:s,isAnimating:y,isOpen:a,enable:o,toggle:i,close:r,open:n,_getOpenSync:j,_createAnimation:O,_register:D,_unregister:S,_setOpen:M}},Ote=f4();var jte=(t,e,n,r,i,o)=>C(void 0,null,function*(){var s;if(t)return t.attachViewToDom(e,n,i,r);if(!o&&typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");let a=typeof n=="string"?(s=e.ownerDocument)===null||s===void 0?void 0:s.createElement(n):n;return r&&r.forEach(u=>a.classList.add(u)),i&&Object.assign(a,i),e.appendChild(a),yield new Promise(u=>mn(a,u)),a}),Ute=(t,e)=>{if(e){if(t){let n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()},Bte=()=>{let t,e;return{attachViewToDom:(u,l,...h)=>C(void 0,[u,l,...h],function*(i,o,s={},a=[]){var p,y;t=i;let m;if(o){let S=typeof o=="string"?(p=t.ownerDocument)===null||p===void 0?void 0:p.createElement(o):o;a.forEach(M=>S.classList.add(M)),Object.assign(S,s),t.appendChild(S),m=S,yield new Promise(M=>mn(S,M))}else if(t.children.length>0&&(t.tagName==="ION-MODAL"||t.tagName==="ION-POPOVER")&&!(m=t.children[0]).classList.contains("ion-delegate-host")){let M=(y=t.ownerDocument)===null||y===void 0?void 0:y.createElement("div");M.classList.add("ion-delegate-host"),a.forEach(O=>M.classList.add(O)),M.append(...t.children),t.appendChild(M),m=M}let D=document.querySelector("ion-app")||document.body;return e=document.createComment("ionic teleport"),t.parentNode.insertBefore(e,t),D.appendChild(t),m!=null?m:t}),removeViewFromDom:()=>(t&&e&&(e.parentNode.insertBefore(t,e),e.remove()),Promise.resolve())}};var iu='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-checkbox:not([tabindex^="-"]):not([hidden]):not([disabled]), ion-radio:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',RN=(t,e)=>{let n=t.querySelector(iu);kN(n,e!=null?e:t)},MN=(t,e)=>{let n=Array.from(t.querySelectorAll(iu)),r=n.length>0?n[n.length-1]:null;kN(r,e!=null?e:t)},kN=(t,e)=>{let n=t,r=t==null?void 0:t.shadowRoot;if(r&&(n=r.querySelector(iu)||t),n){let i=n.closest("ion-radio-group");i?i.setFocus():np(n)}else e.focus()},yI=0,p4=0,Sf=new WeakMap,xN=t=>({create(n){return y4(t,n)},dismiss(n,r,i){return I4(document,n,r,t,i)},getTop(){return C(this,null,function*(){return ru(document,t)})}});var g4=xN("ion-modal");var m4=xN("ion-popover");var Yte=t=>{typeof document<"u"&&E4(document);let e=yI++;t.overlayIndex=e},Zte=t=>(t.hasAttribute("id")||(t.id=`ion-overlay-${++p4}`),t.id),y4=(t,e)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(t).then(()=>{let n=document.createElement(t);return n.classList.add("overlay-hidden"),Object.assign(n,Object.assign(Object.assign({},e),{hasController:!0})),FN(document).appendChild(n),new Promise(r=>mn(n,r))}):Promise.resolve(),v4=t=>t.classList.contains("overlay-hidden"),NN=(t,e)=>{let n=t,r=t==null?void 0:t.shadowRoot;r&&(n=r.querySelector(iu)||t),n?np(n):e.focus()},_4=(t,e)=>{let n=ru(e,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),r=t.target;if(!n||!r||n.classList.contains(A4))return;let i=()=>{if(n===r)n.lastFocus=void 0;else if(r.tagName==="ION-TOAST")NN(n.lastFocus,n);else{let s=Ow(n);if(!s.contains(r))return;let a=s.querySelector(".ion-overlay-wrapper");if(!a)return;if(a.contains(r)||r===s.querySelector("ion-backdrop"))n.lastFocus=r;else{let u=n.lastFocus;RN(a,n),u===e.activeElement&&MN(a,n),n.lastFocus=e.activeElement}}},o=()=>{if(n.contains(r))n.lastFocus=r;else if(r.tagName==="ION-TOAST")NN(n.lastFocus,n);else{let s=n.lastFocus;RN(n),s===e.activeElement&&MN(n),n.lastFocus=e.activeElement}};n.shadowRoot?o():i()},E4=t=>{yI===0&&(yI=1,t.addEventListener("focus",e=>{_4(e,t)},!0),t.addEventListener("ionBackButton",e=>{let n=ru(t);n!=null&&n.backdropDismiss&&e.detail.register(Lw,()=>{n.dismiss(void 0,PN)})}),Fw()||t.addEventListener("keydown",e=>{if(e.key==="Escape"){let n=ru(t);n!=null&&n.backdropDismiss&&n.dismiss(void 0,PN)}}))},I4=(t,e,n,r,i)=>{let o=ru(t,r,i);return o?o.dismiss(e,n):Promise.reject("overlay does not exist")},w4=(t,e)=>(e===void 0&&(e="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(t.querySelectorAll(e)).filter(n=>n.overlayIndex>0)),Af=(t,e)=>w4(t,e).filter(n=>!v4(n)),ru=(t,e,n)=>{let r=Af(t,e);return n===void 0?r[r.length-1]:r.find(i=>i.id===n)},ON=(t=!1)=>{let n=FN(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");n&&(t?n.setAttribute("aria-hidden","true"):n.removeAttribute("aria-hidden"))},Jte=(t,e,n,r,i)=>C(void 0,null,function*(){var o,s;if(t.presented)return;t.el.tagName!=="ION-TOAST"&&(ON(!0),document.body.classList.add(cp)),C4(t.el),VN(t.el),t.presented=!0,t.willPresent.emit(),(o=t.willPresentShorthand)===null||o===void 0||o.emit();let a=co(t),u=t.enterAnimation?t.enterAnimation:xt.get(e,a==="ios"?n:r);(yield LN(t,u,t.el,i))&&(t.didPresent.emit(),(s=t.didPresentShorthand)===null||s===void 0||s.emit()),t.el.tagName!=="ION-TOAST"&&D4(t.el),t.keyboardClose&&(document.activeElement===null||!t.el.contains(document.activeElement))&&t.el.focus(),t.el.removeAttribute("aria-hidden")}),D4=t=>C(void 0,null,function*(){let e=document.activeElement;if(!e)return;let n=e==null?void 0:e.shadowRoot;n&&(e=n.querySelector(iu)||e),yield t.onDidDismiss(),(document.activeElement===null||document.activeElement===document.body)&&e.focus()}),Xte=(t,e,n,r,i,o,s)=>C(void 0,null,function*(){var a,u;if(!t.presented)return!1;let h=(Ht!==void 0?Af(Ht):[]).filter(y=>y.tagName!=="ION-TOAST");h.length===1&&h[0].id===t.el.id&&(ON(!1),document.body.classList.remove(cp)),t.presented=!1;try{VN(t.el),t.el.style.setProperty("pointer-events","none"),t.willDismiss.emit({data:e,role:n}),(a=t.willDismissShorthand)===null||a===void 0||a.emit({data:e,role:n});let y=co(t),m=t.leaveAnimation?t.leaveAnimation:xt.get(r,y==="ios"?i:o);n!==T4&&(yield LN(t,m,t.el,s)),t.didDismiss.emit({data:e,role:n}),(u=t.didDismissShorthand)===null||u===void 0||u.emit({data:e,role:n}),(Sf.get(t)||[]).forEach(S=>S.destroy()),Sf.delete(t),t.el.classList.add("overlay-hidden"),t.el.style.removeProperty("pointer-events"),t.el.lastFocus!==void 0&&(t.el.lastFocus=void 0)}catch(y){Pw(`[${t.el.tagName.toLowerCase()}] - `,y)}return t.el.remove(),S4(),!0}),FN=t=>t.querySelector("ion-app")||t.body,LN=(t,e,n,r)=>C(void 0,null,function*(){n.classList.remove("overlay-hidden");let i=t.el,o=e(i,r);(!t.animated||!xt.getBoolean("animated",!0))&&o.duration(0),t.keyboardClose&&o.beforeAddWrite(()=>{let a=n.ownerDocument.activeElement;a!=null&&a.matches("input,ion-input, ion-textarea")&&a.blur()});let s=Sf.get(t)||[];return Sf.set(t,[...s,o]),yield o.play(),!0}),ene=(t,e)=>{let n,r=new Promise(i=>n=i);return b4(t,e,i=>{n(i.detail)}),r},b4=(t,e,n)=>{let r=i=>{xw(t,e,r),n(i)};kw(t,e,r)};var PN="backdrop",T4="gesture",tne=39;var nne=()=>{let t,e=()=>{t&&(t(),t=void 0)};return{addClickListener:(r,i)=>{e();let o=i!==void 0?document.getElementById(i):null;if(!o){ri(`[${r.tagName.toLowerCase()}] - A trigger element with the ID "${i}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,r);return}t=((a,u)=>{let l=()=>{u.present()};return a.addEventListener("click",l),()=>{a.removeEventListener("click",l)}})(o,r)},removeClickListener:e}},VN=t=>{Ht!==void 0&&Ks("android")&&t.setAttribute("aria-hidden","true")},C4=t=>{var e;if(Ht===void 0)return;let n=Af(Ht);for(let r=n.length-1;r>=0;r--){let i=n[r],o=(e=n[r+1])!==null&&e!==void 0?e:t;(o.hasAttribute("aria-hidden")||o.tagName!=="ION-TOAST")&&i.setAttribute("aria-hidden","true")}},S4=()=>{if(Ht===void 0)return;let t=Af(Ht);for(let e=t.length-1;e>=0;e--){let n=t[e];if(n.removeAttribute("aria-hidden"),n.tagName!=="ION-TOAST")break}},A4="ion-disable-focus-trap";var R4=["tabsInner"],jN=class{menuController;constructor(e){this.menuController=e}open(e){return this.menuController.open(e)}close(e){return this.menuController.close(e)}toggle(e){return this.menuController.toggle(e)}enable(e,n){return this.menuController.enable(e,n)}swipeGesture(e,n){return this.menuController.swipeGesture(e,n)}isOpen(e){return this.menuController.isOpen(e)}isEnabled(e){return this.menuController.isEnabled(e)}get(e){return this.menuController.get(e)}getOpen(){return this.menuController.getOpen()}getMenus(){return this.menuController.getMenus()}registerAnimation(e,n){return this.menuController.registerAnimation(e,n)}isAnimating(){return this.menuController.isAnimating()}_getOpenSync(){return this.menuController._getOpenSync()}_createAnimation(e,n){return this.menuController._createAnimation(e,n)}_register(e){return this.menuController._register(e)}_unregister(e){return this.menuController._unregister(e)}_setOpen(e,n,r){return this.menuController._setOpen(e,n,r)}};var M4=(()=>{let e=class e{doc;_readyPromise;win;backButton=new be;keyboardDidShow=new be;keyboardDidHide=new be;pause=new be;resume=new be;resize=new be;constructor(r,i){this.doc=r,i.run(()=>{var s;this.win=r.defaultView,this.backButton.subscribeWithPriority=function(a,u){return this.subscribe(l=>l.register(a,h=>i.run(()=>u(h))))},Qs(this.pause,r,"pause",i),Qs(this.resume,r,"resume",i),Qs(this.backButton,r,"ionBackButton",i),Qs(this.resize,this.win,"resize",i),Qs(this.keyboardDidShow,this.win,"ionKeyboardDidShow",i),Qs(this.keyboardDidHide,this.win,"ionKeyboardDidHide",i);let o;this._readyPromise=new Promise(a=>{o=a}),(s=this.win)!=null&&s.cordova?r.addEventListener("deviceready",()=>{o("cordova")},{once:!0}):o("dom")})}is(r){return Ks(this.win,r)}platforms(){return Tf(this.win)}ready(){return this._readyPromise}get isRTL(){return this.doc.dir==="rtl"}getQueryParam(r){return N4(this.win.location.href,r)}isLandscape(){return!this.isPortrait()}isPortrait(){var r,i;return(i=(r=this.win).matchMedia)==null?void 0:i.call(r,"(orientation: portrait)").matches}testUserAgent(r){let i=this.win.navigator;return!!(i!=null&&i.userAgent&&i.userAgent.indexOf(r)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}};w(e,"\u0275fac",function(i){return new(i||e)(z(Ge),z(de))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),N4=(t,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");let r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Qs=(t,e,n,r)=>{e&&e.addEventListener(n,i=>{r.run(()=>{let o=i!=null?i.detail:void 0;t.next(o)})})},su=(()=>{let e=class e{location;serializer;router;topOutlet;direction=UN;animated=BN;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(r,i,o,s){this.location=i,this.serializer=o,this.router=s,s&&s.events.subscribe(a=>{if(a instanceof Bn){let u=a.restoredState?a.restoredState.navigationId:a.id;this.guessDirection=this.guessAnimation=u<this.lastNavId?"back":"forward",this.lastNavId=this.guessDirection==="forward"?a.id:u}}),r.backButton.subscribeWithPriority(0,a=>{this.pop(),a()})}navigateForward(r,i={}){return this.setDirection("forward",i.animated,i.animationDirection,i.animation),this.navigate(r,i)}navigateBack(r,i={}){return this.setDirection("back",i.animated,i.animationDirection,i.animation),this.navigate(r,i)}navigateRoot(r,i={}){return this.setDirection("root",i.animated,i.animationDirection,i.animation),this.navigate(r,i)}back(r={animated:!0,animationDirection:"back"}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.location.back()}pop(){return C(this,null,function*(){let r=this.topOutlet;for(;r;){if(yield r.pop())return!0;r=r.parentOutlet}return!1})}setDirection(r,i,o,s){this.direction=r,this.animated=P4(r,i,o),this.animationBuilder=s}setTopOutlet(r){this.topOutlet=r}consumeTransition(){let r="root",i,o=this.animationBuilder;return this.direction==="auto"?(r=this.guessDirection,i=this.guessAnimation):(i=this.animated,r=this.direction),this.direction=UN,this.animated=BN,this.animationBuilder=void 0,{direction:r,animation:i,animationBuilder:o}}navigate(r,i){if(Array.isArray(r))return this.router.navigate(r,i);{let o=this.serializer.parse(r.toString());return i.queryParams!==void 0&&(o.queryParams=F({},i.queryParams)),i.fragment!==void 0&&(o.fragment=i.fragment),this.router.navigateByUrl(o,i)}}};w(e,"\u0275fac",function(i){return new(i||e)(z(M4),z(dn),z(yr),z(Xe,8))}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),P4=(t,e,n)=>{if(e!==!1){if(n!==void 0)return n;if(t==="forward"||t==="back")return t;if(t==="root"&&e===!0)return"forward"}},UN="auto",BN=void 0,zN=(()=>{let e=class e{get(r,i){let o=vI();return o?o.get(r,i):null}getBoolean(r,i){let o=vI();return o?o.getBoolean(r,i):!1}getNumber(r,i){let o=vI();return o?o.getNumber(r,i):0}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac,providedIn:"root"}));let t=e;return t})(),k4=new $("USERCONFIG"),vI=()=>{if(typeof window<"u"){let t=window.Ionic;if(t!=null&&t.config)return t.config}return null},Rf=class{data;constructor(e={}){this.data=e,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(e){return this.data[e]}},x4=(()=>{let e=class e{zone=P(de);applicationRef=P(er);config=P(k4);create(r,i,o){var s;return new EI(r,i,this.applicationRef,this.zone,o,(s=this.config.useSetInputAPI)!=null?s:!1)}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})(),EI=class{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(e,n,r,i,o,s){this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=o,this.enableSignalsSupport=s}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(o=>{let s=F({},r);this.elementReferenceKey!==void 0&&(s[this.elementReferenceKey]=e);let a=O4(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,s,i,this.elementReferenceKey,this.enableSignalsSupport);o(a)}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{let i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);let o=this.elEventsMap.get(n);o&&(o(),this.elEventsMap.delete(n))}r()}))}},O4=(t,e,n,r,i,o,s,a,u,l,h,p)=>{let y=ke.create({providers:L4(u),parent:n}),m=jC(a,{environmentInjector:e,elementInjector:y}),D=m.instance,S=m.location.nativeElement;if(u)if(h&&D[h]!==void 0&&console.error(`[Ionic Error]: ${h} is a reserved property when using ${s.tagName.toLowerCase()}. Rename or remove the "${h}" property from ${a.name}.`),p===!0&&m.setInput!==void 0){let O=u,{modal:j,popover:G}=O,ne=Cw(O,["modal","popover"]);for(let we in ne)m.setInput(we,ne[we]);j!==void 0&&Object.assign(D,{modal:j}),G!==void 0&&Object.assign(D,{popover:G})}else Object.assign(D,u);if(l)for(let j of l)S.classList.add(j);let M=GN(t,D,S);return s.appendChild(S),r.attachView(m.hostView),i.set(S,m),o.set(S,M),S},F4=[rp,ip,op,sp,ap],GN=(t,e,n)=>t.run(()=>{let r=F4.filter(i=>typeof e[i]=="function").map(i=>{let o=s=>e[i](s.detail);return n.addEventListener(i,o),()=>n.removeEventListener(i,o)});return()=>r.forEach(i=>i())}),$N=new $("NavParamsToken"),L4=t=>[{provide:$N,useValue:t},{provide:Rf,useFactory:V4,deps:[$N]}],V4=t=>new Rf(t),j4=(t,e)=>{let n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)}})})},U4=(t,e)=>{let n=t.prototype;e.forEach(r=>{n[r]=function(){let i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},bI=(t,e,n)=>{n.forEach(r=>t[r]=Da(e,r))};function Mf(t){return function(n){let{defineCustomElementFn:r,inputs:i,methods:o}=t;return r!==void 0&&r(),i&&j4(n,i),o&&U4(n,o),n}}var B4=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],$4=["present","dismiss","onDidDismiss","onWillDismiss"],One=(()=>{var e;let t=(e=class{z;template;isCmpOpen=!1;el;constructor(r,i,o){this.z=o,this.el=i.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,r.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,r.detectChanges()}),bI(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},w(e,"\u0275fac",function(i){return new(i||e)(L(Ft),L(xe),L(de))}),w(e,"\u0275dir",_e({type:e,selectors:[["ion-popover"]],contentQueries:function(i,o,s){if(i&1&&Ha(s,bn,5),i&2){let a;Jo(a=Xo())&&(o.template=a.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},standalone:!1})),e);return t=wa([Mf({inputs:B4,methods:$4})],t),t})(),H4=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","expandToScroll","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],q4=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"],Fne=(()=>{var e;let t=(e=class{z;template;isCmpOpen=!1;el;constructor(r,i,o){this.z=o,this.el=i.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,r.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,r.detectChanges()}),bI(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},w(e,"\u0275fac",function(i){return new(i||e)(L(Ft),L(xe),L(de))}),w(e,"\u0275dir",_e({type:e,selectors:[["ion-modal"]],contentQueries:function(i,o,s){if(i&1&&Ha(s,bn,5),i&2){let a;Jo(a=Xo())&&(o.template=a.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",expandToScroll:"expandToScroll",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"},standalone:!1})),e);return t=wa([Mf({inputs:H4,methods:q4})],t),t})(),z4=(t,e,n)=>n==="root"?WN(t,e):n==="forward"?G4(t,e):W4(t,e),WN=(t,e)=>(t=t.filter(n=>n.stackId!==e.stackId),t.push(e),t),G4=(t,e)=>(t.indexOf(e)>=0?t=t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):t.push(e),t),W4=(t,e)=>t.indexOf(e)>=0?t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):WN(t,e),II=(t,e)=>{let n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},KN=(t,e)=>e?t.stackId!==e.stackId:!0,K4=(t,e)=>{if(!t)return;let n=QN(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},QN=t=>t.split("/").map(e=>e.trim()).filter(e=>e!==""),YN=t=>{t&&(t.ref.destroy(),t.unlistenEvents())},wI=class{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(e,n,r,i,o,s){this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=o,this.location=s,this.tabsPrefix=e!==void 0?QN(e):void 0}createView(e,n){var s;let r=II(this.router,n),i=(s=e==null?void 0:e.location)==null?void 0:s.nativeElement,o=GN(this.zone,e.instance,i);return{id:this.nextId++,stackId:K4(this.tabsPrefix,r),unlistenEvents:o,element:i,ref:e,url:r}}getExistingView(e){let n=II(this.router,e),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var D,S;let n=this.navCtrl.consumeTransition(),{direction:r,animation:i,animationBuilder:o}=n,s=this.activeView,a=KN(e,s);a&&(r="back",i=void 0);let u=this.views.slice(),l,h=this.router;h.getCurrentNavigation?l=h.getCurrentNavigation():(D=h.navigations)!=null&&D.value&&(l=h.navigations.value),(S=l==null?void 0:l.extras)!=null&&S.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);let p=this.views.includes(e),y=this.insertView(e,r);p||e.ref.changeDetectorRef.detectChanges();let m=e.animationBuilder;return o===void 0&&r==="back"&&!a&&m!==void 0&&(o=m),s&&(s.animationBuilder=o),this.zone.runOutsideAngular(()=>this.wait(()=>(s&&s.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,s,i,this.canGoBack(1),!1,o).then(()=>Q4(e,y,u,this.location,this.zone)).then(()=>({enteringView:e,direction:r,animation:i,tabSwitch:a})))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run(()=>{var u,l;let r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);let i=r[r.length-e-1],o=i.url,s=i.savedData;if(s){let h=s.get("primary");(l=(u=h==null?void 0:h.route)==null?void 0:u._routerState)!=null&&l.snapshot.url&&(o=h.route._routerState.snapshot.url)}let{animationBuilder:a}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(o,ee(F({},i.savedExtras),{animation:a})).then(()=>!0)})}startBackTransition(){let e=this.activeView;if(e){let n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&ZN(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){let n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){let n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return this.runningTask!==void 0}destroy(){this.containerEl=void 0,this.views.forEach(YN),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(n=>n.stackId===e)}insertView(e,n){return this.activeView=e,this.views=z4(this.views,e,n),this.views.slice()}transition(e,n,r,i,o,s){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);let a=e?e.element:void 0,u=n?n.element:void 0,l=this.containerEl;return a&&a!==u&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),l.commit)?l.commit(a,u,{duration:r===void 0?0:void 0,direction:r,showGoBack:i,progressAnimation:o,animationBuilder:s}):Promise.resolve(!1)}wait(e){return C(this,null,function*(){this.runningTask!==void 0&&(yield this.runningTask,this.runningTask=void 0);let n=this.runningTask=e();return n.finally(()=>this.runningTask=void 0),n})}},Q4=(t,e,n,r,i)=>typeof requestAnimationFrame=="function"?new Promise(o=>{requestAnimationFrame(()=>{ZN(t,e,n,r,i),o()})}):Promise.resolve(),ZN=(t,e,n,r,i)=>{i.run(()=>n.filter(o=>!e.includes(o)).forEach(YN)),e.forEach(o=>{let a=r.path().split("?")[0].split("#")[0];if(o!==t&&o.url!==a){let u=o.element;u.setAttribute("aria-hidden","true"),u.classList.add("ion-page-hidden"),o.ref.changeDetectorRef.detach()}})},Y4=(()=>{let e=class e{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new He(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;stackWillChange=new Ce;stackDidChange=new Ce;activateEvents=new Ce;deactivateEvents=new Ce;parentContexts=P(Hn);location=P(sn);environmentInjector=P(qe);inputBinder=P(JN,{optional:!0});supportsBindingToComponentInputs=!0;config=P(zN);navCtrl=P(su);set animation(r){this.nativeEl.animation=r}set animated(r){this.nativeEl.animated=r}set swipeGesture(r){this._swipeGesture=r,this.nativeEl.swipeHandler=r?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:i=>this.stackCtrl.endBackTransition(i)}:void 0}constructor(r,i,o,s,a,u,l,h){this.parentOutlet=h,this.nativeEl=s.nativeElement,this.name=r||Z,this.tabsPrefix=i==="true"?II(a,l):void 0,this.stackCtrl=new wI(this.tabsPrefix,this.nativeEl,a,this.navCtrl,u,o),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var r;this.stackCtrl.destroy(),(r=this.inputBinder)==null||r.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){let r=this.getContext();r!=null&&r.route&&this.activateWith(r.route,r.injector)}new Promise(r=>mn(this.nativeEl,r)).then(()=>{this._swipeGesture===void 0&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled",this.nativeEl.mode==="ios"))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(r,i){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){let i=this.getContext();this.activatedView.savedData=new Map(i.children.contexts);let o=this.activatedView.savedData.get("primary");if(o&&i.route&&(o.route=F({},i.route)),this.activatedView.savedExtras={},i.route){let s=i.route.snapshot;this.activatedView.savedExtras.queryParams=s.queryParams,this.activatedView.savedExtras.fragment=s.fragment}}let r=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){var u,l;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=r;let o,s=this.stackCtrl.getExistingView(r);if(s){o=this.activated=s.ref;let h=s.savedData;if(h){let p=this.getContext();p.children.contexts=h}this.updateActivatedRouteProxy(o.instance,r)}else{let h=r._futureSnapshot,p=this.parentContexts.getOrCreateContext(this.name).children,y=new He(null),m=this.createActivatedRouteProxy(y,r),D=new DI(m,p,this.location.injector),S=(u=h.routeConfig.component)!=null?u:h.component;o=this.activated=this.outletContent.createComponent(S,{index:this.outletContent.length,injector:D,environmentInjector:i!=null?i:this.environmentInjector}),y.next(o.instance),s=this.stackCtrl.createView(this.activated,r),this.proxyMap.set(o.instance,m),this.currentActivatedRoute$.next({component:o.instance,activatedRoute:r})}(l=this.inputBinder)==null||l.bindActivatedRouteToOutletComponent(this),this.activatedView=s,this.navCtrl.setTopOutlet(this);let a=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:s,tabSwitch:KN(s,a)}),this.stackCtrl.setActive(s).then(h=>{this.activateEvents.emit(o.instance),this.stackDidChange.emit(h)})}canGoBack(r=1,i){return this.stackCtrl.canGoBack(r,i)}pop(r=1,i){return this.stackCtrl.pop(r,i)}getLastUrl(r){let i=this.stackCtrl.getLastUrl(r);return i?i.url:void 0}getLastRouteView(r){return this.stackCtrl.getLastUrl(r)}getRootView(r){return this.stackCtrl.getRootUrl(r)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(r,i){let o=new bt;return o._futureSnapshot=i._futureSnapshot,o._routerState=i._routerState,o.snapshot=i.snapshot,o.outlet=i.outlet,o.component=i.component,o._paramMap=this.proxyObservable(r,"paramMap"),o._queryParamMap=this.proxyObservable(r,"queryParamMap"),o.url=this.proxyObservable(r,"url"),o.params=this.proxyObservable(r,"params"),o.queryParams=this.proxyObservable(r,"queryParams"),o.fragment=this.proxyObservable(r,"fragment"),o.data=this.proxyObservable(r,"data"),o}proxyObservable(r,i){return r.pipe(tt(o=>!!o),ut(o=>this.currentActivatedRoute$.pipe(tt(s=>s!==null&&s.component===o),ut(s=>s&&s.activatedRoute[i]),Xu())))}updateActivatedRouteProxy(r,i){let o=this.proxyMap.get(r);if(!o)throw new Error("Could not find activated route proxy for view");o._futureSnapshot=i._futureSnapshot,o._routerState=i._routerState,o.snapshot=i.snapshot,o.outlet=i.outlet,o.component=i.component,this.currentActivatedRoute$.next({component:r,activatedRoute:i})}};w(e,"\u0275fac",function(i){return new(i||e)(zo("name"),zo("tabs"),L(dn),L(xe),L(Xe),L(de),L(bt),L(e,12))}),w(e,"\u0275dir",_e({type:e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"],standalone:!1}));let t=e;return t})(),DI=class{route;childContexts;parent;constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===bt?this.route:e===Hn?this.childContexts:this.parent.get(e,n)}},JN=new $(""),Z4=(()=>{let e=class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){var i;(i=this.outletDataSubscriptions.get(r))==null||i.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=ci([i.queryParams,i.params,i.data]).pipe(ut(([s,a,u],l)=>(u=F(F(F({},s),a),u),l===0?W(u):Promise.resolve(u)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=rd(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:u}of a.inputs)r.activatedComponentRef.setInput(u,s[u])});this.outletDataSubscriptions.set(r,o)}};w(e,"\u0275fac",function(i){return new(i||e)}),w(e,"\u0275prov",B({token:e,factory:e.\u0275fac}));let t=e;return t})(),Lne=()=>({provide:JN,useFactory:J4,deps:[Xe]});function J4(t){return t!=null&&t.componentInputBindingEnabled?new Z4:null}var X4=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"],Vne=(()=>{var e;let t=(e=class{routerOutlet;navCtrl;config;r;z;el;constructor(r,i,o,s,a,u){this.routerOutlet=r,this.navCtrl=i,this.config=o,this.r=s,this.z=a,u.detach(),this.el=this.r.nativeElement}onClick(r){var o;let i=this.defaultHref||this.config.get("backButtonDefaultHref");(o=this.routerOutlet)!=null&&o.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),r.preventDefault()):i!=null&&(this.navCtrl.navigateBack(i,{animation:this.routerAnimation}),r.preventDefault())}},w(e,"\u0275fac",function(i){return new(i||e)(L(Y4,8),L(su),L(zN),L(xe),L(de),L(Ft))}),w(e,"\u0275dir",_e({type:e,hostBindings:function(i,o){i&1&&Qt("click",function(a){return o.onClick(a)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},standalone:!1})),e);return t=wa([Mf({inputs:X4})],t),t})(),jne=(()=>{let e=class e{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(r,i,o,s,a){this.locationStrategy=r,this.navCtrl=i,this.elementRef=o,this.router=s,this.routerLink=a}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){let r=["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"],i=this.elementRef.nativeElement;r.includes(i.tagName)&&i.getAttribute("tabindex")==="0"&&i.removeAttribute("tabindex")}updateTargetUrlAndHref(){var r;if((r=this.routerLink)!=null&&r.urlTree){let i=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=i}}onClick(r){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),r.preventDefault()}};w(e,"\u0275fac",function(i){return new(i||e)(L(Nt),L(su),L(xe),L(Xe),L(oo,8))}),w(e,"\u0275dir",_e({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(i,o){i&1&&Qt("click",function(a){return o.onClick(a)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},standalone:!1,features:[Et]}));let t=e;return t})(),Une=(()=>{let e=class e{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(r,i,o,s,a){this.locationStrategy=r,this.navCtrl=i,this.elementRef=o,this.router=s,this.routerLink=a}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var r;if((r=this.routerLink)!=null&&r.urlTree){let i=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=i}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}};w(e,"\u0275fac",function(i){return new(i||e)(L(Nt),L(su),L(xe),L(Xe),L(oo,8))}),w(e,"\u0275dir",_e({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(i,o){i&1&&Qt("click",function(){return o.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},standalone:!1,features:[Et]}));let t=e;return t})(),eG=["animated","animation","root","rootParams","swipeGesture"],tG=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"],Bne=(()=>{var e;let t=(e=class{z;el;constructor(r,i,o,s,a,u){this.z=a,u.detach(),this.el=r.nativeElement,r.nativeElement.delegate=s.create(i,o),bI(this,this.el,["ionNavDidChange","ionNavWillChange"])}},w(e,"\u0275fac",function(i){return new(i||e)(L(xe),L(qe),L(ke),L(x4),L(de),L(Ft))}),w(e,"\u0275dir",_e({type:e,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"},standalone:!1})),e);return t=wa([Mf({inputs:eG,methods:tG})],t),t})(),$ne=(()=>{let e=class e{navCtrl;tabsInner;ionTabsWillChange=new Ce;ionTabsDidChange=new Ce;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(r){this.navCtrl=r}ngAfterViewInit(){let r=this.tabs.length>0?this.tabs.first:void 0;r&&(this.hasTab=!0,this.setActiveTab(r.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:r,tabSwitch:i}){let o=r.stackId;i&&o!==void 0&&this.ionTabsWillChange.emit({tab:o})}onStackDidChange({enteringView:r,tabSwitch:i}){let o=r.stackId;i&&o!==void 0&&(this.tabBar&&(this.tabBar.selectedTab=o),this.ionTabsDidChange.emit({tab:o}))}select(r){let i=typeof r=="string",o=i?r:r.detail.tab;if(this.hasTab){this.setActiveTab(o),this.tabSwitch();return}let s=this.outlet.getActiveStackId()===o,a=`${this.outlet.tabsPrefix}/${o}`;if(i||r.stopPropagation(),s){let u=this.outlet.getActiveStackId(),l=this.outlet.getLastRouteView(u);if((l==null?void 0:l.url)===a)return;let h=this.outlet.getRootView(o),p=h&&a===h.url&&h.savedExtras;return this.navCtrl.navigateRoot(a,ee(F({},p),{animated:!0,animationDirection:"back"}))}else{let u=this.outlet.getLastRouteView(o),l=(u==null?void 0:u.url)||a,h=u==null?void 0:u.savedExtras;return this.navCtrl.navigateRoot(l,ee(F({},h),{animated:!0,animationDirection:"back"}))}}setActiveTab(r){let o=this.tabs.find(s=>s.tab===r);if(!o){console.error(`[Ionic Error]: Tab with id: "${r}" does not exist`);return}this.leavingTab=this.selectedTab,this.selectedTab=o,this.ionTabsWillChange.emit({tab:r}),o.el.active=!0}tabSwitch(){let{selectedTab:r,leavingTab:i}=this;this.tabBar&&r&&(this.tabBar.selectedTab=r.tab),(i==null?void 0:i.tab)!==(r==null?void 0:r.tab)&&i!=null&&i.el&&(i.el.active=!1),r&&this.ionTabsDidChange.emit({tab:r.tab})}getSelected(){var r;return this.hasTab?(r=this.selectedTab)==null?void 0:r.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(r=>{let i=r.el.getAttribute("slot");i!==this.tabBarSlot&&(this.tabBarSlot=i,this.relocateTabBar())})}relocateTabBar(){let r=this.tabBar.el;this.tabBarSlot==="top"?this.tabsInner.nativeElement.before(r):this.tabsInner.nativeElement.after(r)}};w(e,"\u0275fac",function(i){return new(i||e)(L(su))}),w(e,"\u0275dir",_e({type:e,selectors:[["ion-tabs"]],viewQuery:function(i,o){if(i&1&&kC(R4,7,xe),i&2){let s;Jo(s=Xo())&&(o.tabsInner=s.first)}},hostBindings:function(i,o){i&1&&Qt("ionTabButtonClick",function(a){return o.select(a)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"},standalone:!1}));let t=e;return t})(),nG=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),Hne=(()=>{let e=class e{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(r,i){this.injector=r,this.elementRef=i}writeValue(r){this.elementRef.nativeElement.value=this.lastValue=r,ou(this.elementRef)}handleValueChange(r,i){r===this.elementRef.nativeElement&&(i!==this.lastValue&&(this.lastValue=i,this.onChange(i)),ou(this.elementRef))}_handleBlurEvent(r){r===this.elementRef.nativeElement?(this.onTouched(),ou(this.elementRef)):r.closest("ion-radio-group")===this.elementRef.nativeElement&&this.onTouched()}registerOnChange(r){this.onChange=r}registerOnTouched(r){this.onTouched=r}setDisabledState(r){this.elementRef.nativeElement.disabled=r}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let r;try{r=this.injector.get(vr)}catch{}if(!r)return;r.statusChanges&&(this.statusChanges=r.statusChanges.subscribe(()=>ou(this.elementRef)));let i=r.control;i&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(s=>{if(typeof i[s]<"u"){let a=i[s].bind(i);i[s]=(...u)=>{a(...u),ou(this.elementRef)}}})}};w(e,"\u0275fac",function(i){return new(i||e)(L(ke),L(xe))}),w(e,"\u0275dir",_e({type:e,hostBindings:function(i,o){i&1&&Qt("ionBlur",function(a){return o._handleBlurEvent(a.target)})},standalone:!1}));let t=e;return t})(),ou=t=>{nG(()=>{let e=t.nativeElement,n=e.value!=null&&e.value.toString().length>0,r=rG(e);_I(e,r);let i=e.closest("ion-item");i&&(n?_I(i,[...r,"item-has-value"]):_I(i,r))})},rG=t=>{let e=t.classList,n=[];for(let r=0;r<e.length;r++){let i=e.item(r);i!==null&&iG(i,"ng-")&&n.push(`ion-${i.substring(3)}`)}return n},_I=(t,e)=>{let n=t.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add(...e)},iG=(t,e)=>t.substring(0,e.length)===e,HN=class{shouldDetach(e){return!1}shouldAttach(e){return!1}store(e,n){}retrieve(e){return null}shouldReuseRoute(e,n){if(e.routeConfig!==n.routeConfig)return!1;let r=e.params,i=n.params,o=Object.keys(r),s=Object.keys(i);if(o.length!==s.length)return!1;for(let a of o)if(i[a]!==r[a])return!1;return!0}},qN=class{ctrl;constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}};export{qC as a,GC as b,Yt as c,rt as d,It as e,un as f,ud as g,sr as h,ts as i,ns as j,$e as k,wa as l,Da as m,tr as n,B as o,Tn as p,$ as q,z as r,P as s,nr as t,Ci as u,qe as v,H5 as w,q5 as x,Ai as y,zo as z,ke as A,de as B,xe as C,Ko as D,_O as E,z5 as F,L as G,sn as H,gC as I,Sn as J,_e as K,an as L,BF as M,TC as N,Zo as O,iL as P,SC as Q,AC as R,qm as S,RC as T,MC as U,yL as V,tK as W,Qt as X,nK as Y,rK as Z,iK as _,Ha as $,kC as aa,Jo as ba,Xo as ca,oK as da,sK as ea,NL as fa,xC as ga,PL as ha,kL as ia,xL as ja,aK as ka,OL as la,Ni as ma,cK as na,uK as oa,lK as pa,dK as qa,nd as ra,Ft as sa,Li as ta,hd as ua,is as va,Vi as wa,wt as xa,ji as ya,Ka as za,f7 as Aa,p7 as Ba,Ge as Ca,dn as Da,bS as Ea,Lj as Fa,Vj as Ga,Uj as Ha,TS as Ia,nY as Ja,wd as Ka,xd as La,Ac as Ma,mX as Na,yX as Oa,vX as Pa,_X as Qa,EX as Ra,IX as Sa,wX as Ta,DX as Ua,bX as Va,TX as Wa,CX as Xa,vH as Ya,bt as Za,GE as _a,RM as $a,Xe as ab,oo as bb,Xq as cb,tz as db,rz as eb,jM as fb,iz as gb,vte as hb,Ks as ib,co as jb,a4 as kb,Dte as lb,bte as mb,Tte as nb,Cte as ob,Ote as pb,jte as qb,Ute as rb,Bte as sb,RN as tb,MN as ub,g4 as vb,m4 as wb,Yte as xb,Zte as yb,ru as zb,Jte as Ab,Xte as Bb,ene as Cb,PN as Db,T4 as Eb,tne as Fb,nne as Gb,A4 as Hb,cI as Ib,nu as Jb,HM as Kb,ute as Lb,lte as Mb,Lz as Nb,hte as Ob,jz as Pb,Bz as Qb,Hz as Rb,zz as Sb,fte as Tb,pte as Ub,gte as Vb,jN as Wb,su as Xb,zN as Yb,k4 as Zb,x4 as _b,Mf as $b,One as ac,Fne as bc,Y4 as cc,Lne as dc,Vne as ec,jne as fc,Une as gc,Bne as hc,$ne as ic,nG as jc,Hne as kc,ou as lc,HN as mc,qN as nc};
