import{a as I,c as $,e as j,f as b}from"./chunk-L32GYCNB.js";import{Ma as m,Oa as n,Pa as g,Qa as c,Ra as h,Sa as i,Ta as y,Ua as w,Va as D,Wa as R,Xa as F,o as l,r as d}from"./chunk-P4AT3ITB.js";import{a as f,b as p,f as s}from"./chunk-RW4GY4BD.js";var A=(()=>{let r=class r{constructor(t,e){this.firestore=t,this.storage=e}uploadImage(t,e){return s(this,null,function*(){let o=`products/${e}/${t.name}`,u=j(this.storage,o);return yield b(u,t),yield $(u)})}create(t){let e=y(),o=i(c(e,"products"));return D(o,p(f({},t),{id:o.id}))}getAll(){let t=c(this.firestore,"products");return n(t,{idField:"id"})}update(t,e){return s(this,null,function*(){let o=i(this.firestore,`products/${t}`);yield R(o,e)})}delete(t){return s(this,null,function*(){let e=i(this.firestore,`products/${t}`);yield h(e)})}getProductsByCategory(t){let e=c(this.firestore,"products"),o=w(e,F("category","==",t));return n(o,{idField:"id"})}getProductById(t){let e=i(this.firestore,`products/${t}`);return g(e,{idField:"id"})}};r.\u0275fac=function(e){return new(e||r)(d(m),d(I))},r.\u0275prov=l({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();export{A as a};
